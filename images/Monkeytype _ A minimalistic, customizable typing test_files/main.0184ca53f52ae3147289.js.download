/*! For license information please see main.0184ca53f52ae3147289.js.LICENSE.txt */
var pageos;(self.webpackChunkpageos=self.webpackChunkpageos||[]).push([[792],{6735:(e,t,i)=>{"use strict";i.r(t);i(1106);(()=>{window.PageOS=window.PageOS||{},window.PageOS.BUS={};const e=window.PageOS.BUS;e.events={},e.data={},e.on=(t,i,n=!0)=>{e.events[t]=e.events[t]||[],e.events[t].push({fn:i,once:n})},e.after=(t,i)=>{e.data.hasOwnProperty(t)&&e.events[t]?i(e.data[t]):e.on(t,i,!0)},e.off=(t,i)=>{const n=e.events[t];if(n)for(let e=0;e<n.length;e++)if(n[e].fn===i){n.splice(e,1);break}},e.emit=(t,i)=>{e.events[t]=e.events[t]||[];const n=e.events[t].filter((e=>{try{e.fn(i)}catch(e){console.warn("Error in Event Bus Callback function.",e)}return!1===e.once}));e.events[t]=n,e.data[t]=i||null}})();const n=()=>{try{return localStorage.setItem("test","test"),localStorage.getItem("test"),localStorage.removeItem("test"),!0}catch(e){return!1}};var r,o=new Uint8Array(16);function s(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const d=function(e){return"string"==typeof e&&a.test(e)};for(var c=[],l=0;l<256;++l)c.push((l+256).toString(16).substr(1));const p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!d(i))throw TypeError("Stringified UUID is invalid");return i};const u=function(e,t,i){var n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){i=i||0;for(var r=0;r<16;++r)t[i+r]=n[r];return t}return p(n)};function g(e=""){return`${e}_${u()}_${Date.now()}`}new class{constructor(){if(window.PageOS=window.PageOS||{},window.PageOS.session=window.PageOS.session||{},!0===window.PageOS.session.loaded)return!1;window.PageOS.session.loaded=!0,this.MODULE=window.PageOS.session,this.hasLocalStorage=n(),this.MODULE.getUUID=null,this.MODULE.getCookieSyncUID=null,this.MODULE.setCookieSyncUID=()=>null,this.MODULE.getDuration=()=>null,this.MODULE.getPageNumber=null,this.MODULE.newPageView=()=>null,this.hasLocalStorage&&(this.init(),this.MODULE.newPageView=()=>{this.init(),window.PageOS.dataStream.sendPageViewEvent()})}init(){this.sessionInfo=this.getSessionInfo(),this.setUUID(),this.setDuration(),this.setPageNumber(),this.MODULE.getUUID=this.getUUID(),this.MODULE.getCookieSyncUID=this.getCookieSyncUID(),this.MODULE.setCookieSyncUID=e=>this.setCookieSyncUID(e),this.MODULE.getDuration=this.getDuration.bind(this),this.MODULE.getPageNumber=this.getPageNumber()}getSessionInfo(){const e=JSON.parse(localStorage.getItem("PageOS_Session"))||{};return void 0!==e.lastVisit&&(Date.now()-e.lastVisit>18e5||this.checkMidnight(e.lastVisit))?(localStorage.removeItem("PageOS_Session"),{}):e}checkMidnight(e){const t=new Date(e).setHours(0,0,0,0);return(new Date).setHours(0,0,0,0)-t>0}getDuration(){return Date.now()-this.sessionInfo.firstVisit}setDuration(){void 0===this.sessionInfo.firstVisit&&(this.sessionInfo.firstVisit=Date.now(),this.storeSessionInfo(this.sessionInfo))}getPageNumber(){return this.sessionInfo.pageNumber}setPageNumber(){"number"!=typeof this.sessionInfo.pageNumber?this.sessionInfo.pageNumber=1:++this.sessionInfo.pageNumber,this.setLastVisit(),this.storeSessionInfo(this.sessionInfo)}setLastVisit(){this.sessionInfo.lastVisit=Date.now(),this.storeSessionInfo(this.sessionInfo)}getUUID(){return this.sessionInfo.UUID}setUUID(){this.sessionInfo.UUID||(this.sessionInfo.UUID=g("session"),this.storeSessionInfo(this.sessionInfo))}getCookieSyncUID(){return this.sessionInfo.cookieSyncUUID}setCookieSyncUID(e){this.sessionInfo.cookieSyncUUID=e,this.storeSessionInfo(this.sessionInfo)}storeSessionInfo(e){localStorage.setItem("PageOS_Session",JSON.stringify(e))}};const h=document.getElementById("pwUserOptOut"),w=()=>{try{const e=window.PageOS.userData.toggleOptOut()?"Out":"In";window.alert(`You have successfully Opted-${e}`)}catch(e){}},m=e=>{h&&(h.innerText=e?"Opt In":"Opt Out")};h&&(h.onclick=w,(f=h)&&(f.style.cursor="pointer"));var f,y=i(4783);class _{constructor(){window.PageOS=window.PageOS||{};const e=(0,y.v9)();if(this.utmParams={utm_campaign:e.utm_campaign,utm_medium:e.utm_medium,utm_source:e.utm_source,utm_template:e.utm_template,utm_content:e.utm_content,utm_referrer:e.utm_referrer,utm_subid:e.utm_subid,utm_term:e.utm_term},this.keyVals={cust_cli_tag_1:null,cust_cli_tag_2:null,cust_cli_tag_3:null,cust_cli_tag_4:null,cust_cli_tag_5:null,cust_cli_tag_6:null,cust_cli_tag_7:null,cust_cli_tag_8:null,cust_cli_tag_9:null,cust_cli_tag_10:null,cust_cli_tag_11:null,cust_cli_tag_12:null},this.keyValsReporting={cust_pub_reporting_1:null,cust_pub_reporting_2:null,cust_pub_reporting_3:null,cust_pub_reporting_4:null,cust_pub_reporting_5:null},this.customReportingDimensions={cst_fld_1:null,cst_fld_2:null,cst_fld_3:null,cst_fld_4:null,cst_fld_5:null,cst_fld_6:null,cst_fld_7:null,cst_fld_8:null,cst_fld_9:null,cst_fld_10:null,cst_fld_11:null,cst_fld_12:null},window.ramp&&window.ramp.custom_tags){const e=window.ramp.custom_tags;if(Array.isArray(e)&&e.length>0)for(let t=1;t<13;t++)this.keyVals[`cust_cli_tag_${t}`]=e[t-1]}if(window.ramp&&window.ramp.custom_dimensions){const e=window.ramp.custom_dimensions;if(Array.isArray(e)&&e.length>0)for(let t=1;t<=12;t++)this.customReportingDimensions[`cst_fld_${t}`]=e[t-1]}window.PageOS.getClientTag=this.getClientTag.bind(this),window.PageOS.getAllClientTags=this.getAllClientTags.bind(this),window.PageOS.setClientTag=this.setClientTag.bind(this),window.PageOS.clearAllTags=this.clearAllTags.bind(this),window.PageOS.getAllCustomReportingKVs=this.getAllCustomReportingKVs.bind(this),window.PageOS.setCustomReporting=this.setCustomReporting.bind(this),window.PageOS.getAllUtmParams=this.getAllUtmParams.bind(this),window.PageOS.getCustomReportingDimension=this.getCustomReportingDimension.bind(this),window.PageOS.setCustomReportingDimension=this.setCustomReportingDimension.bind(this),window.PageOS.getAllDimensions=this.getAllDimensions.bind(this)}getClientTag(e){return this.keyVals[`cust_cli_tag_${e}`]}getAllClientTags(){return this.keyVals}getAllDimensions(){return this.customReportingDimensions}getAllCustomReportingKVs(){return Object.keys(this.keyValsReporting).filter((e=>null!==this.keyValsReporting[e])).reduce(((e,t)=>(e[t]=this.keyValsReporting[t],e)),{})}getAllUtmParams(){return Object.keys(this.utmParams).filter((e=>void 0!==this.utmParams[e])).reduce(((e,t)=>(e[t]=this.utmParams[t],e)),{})}setClientTag(e,t){t=t.trim();const i=parseInt(e,10);!i||i<1||i>12||!t||(this.keyVals[`cust_cli_tag_${i}`]=t,window.PageOS.BUS.emit("CUSTOM_CLIENT_TAGS",this.keyVals))}setCustomReporting(e,t){t=t.trim();const i=parseInt(e,10);i<1||i>5||!t||(this.keyValsReporting[`cust_pub_reporting_${i}`]=t,window.PageOS.BUS.emit("CUSTOM_REPORTING",this.keyValsReporting))}clearAllTags(){this.keyVals={cust_cli_tag_1:null,cust_cli_tag_2:null,cust_cli_tag_3:null,cust_cli_tag_4:null,cust_cli_tag_5:null,cust_cli_tag_6:null,cust_cli_tag_7:null,cust_cli_tag_8:null,cust_cli_tag_9:null,cust_cli_tag_10:null,cust_cli_tag_11:null,cust_cli_tag_12:null},window.PageOS.BUS.emit("CUSTOM_CLIENT_TAGS",this.keyVals)}getCustomReportingDimension(e){return this.customReportingDimensions[`cst_fld_${e}`]}setCustomReportingDimension(e,t){t=t.trim();const i=parseInt(e,10);!i||i<1||i>12||!t||(this.customReportingDimensions[`cst_fld_${i}`]=t,window.PageOS.BUS.emit("CUSTOM_REPORTING_DIMENSIONS",this.customReportingDimensions))}}const v=class{constructor(e={}){this.app=e.app||{name:""},this.context=e,this.setLevel(e.filterLevel);const t=(e,t)=>({value:e,name:t});this.TRACE=t(1,"TRACE"),this.DEBUG=t(2,"DEBUG"),this.INFO=t(3,"INFO"),this.WARN=t(5,"WARN"),this.ERROR=t(8,"ERROR"),this.OFF=t(99,"OFF"),this.diagnosticsTool=(0,y.al)("pw_diagnostics"),this.KINESIS_LEVELS={},this.sampling=!0,void 0!==window._pwLogger&&Object.keys(window._pwLogger).forEach((t=>{const i=t.toLocaleLowerCase();(e.name&&e.name.toLowerCase()===i||this.app.name.toLowerCase().indexOf(i)>-1)&&(this.KINESIS_LEVELS=window._pwLogger[t])}))}merge(...e){const t=e[0];let i,n;for(n=1;n<e.length;n++)for(i in e[n])!(i in t)&&e[n].hasOwnProperty(i)&&(t[i]=e[n][i]);return t}enabledFor(e){const t=this.context.filterLevel;return e.value>=t.value}setLevel(e,t){if(t&&(this.name=t),e&&"value"in e){try{this.name&&window.sessionStorage.setItem(`_pwLogger:${this.name}`,e.name)}catch(e){}this.context.filterLevel=e}}getLevel(){return this.context.filterLevel}trace(...e){this.invoke(this.TRACE,e)}debug(...e){this.invoke(this.DEBUG,e)}info(...e){this.invoke(this.INFO,e)}warn(...e){this.diagnosticsTool&&window.PageOS.BUS.emit("diagnostics_error",e),this.invoke(this.WARN,e)}error(...e){this.diagnosticsTool&&window.PageOS.BUS.emit("diagnostics_error",e),this.invoke(this.ERROR,e)}addStyle(e){this.style||(this.style=""),this.style+=`;${e}`}invoke(e,t){this.style&&(t[2]+=`;${this.style}`),this.logHandler&&this.enabledFor(e)&&this.logHandler(t,this.merge({level:e},this.context)),"number"==typeof this.KINESIS_LEVELS[e.name]&&this.logWithKinesis(e,this.KINESIS_LEVELS[e.name],t)}logWithKinesis(e,t,i){const n=window.PageOS.dataStream.getRINucleus(),r={event_type:"loggers",id:window.PageOS.dataStream.randomUuid("loggers"),ramp_session_id:window.PageOS.session.getUUID,sampling_rate:t,name:this.name,log:{message:i[0],data:i[1]},level:e.name,app:this.app,...n};try{const e=`${JSON.stringify(r)}\n`,t={Data:e,PartitionKey:`partition-${Date.now()}`};window.PageOS.dataStream.send({records:t,streamName:"apps-production",sampling:!1})}catch(e){console.error("[PageOS - Kinesis] _stringifyData Error",{message:e.message})}}},b=(()=>{try{return!!window.localStorage.getItem("pwForceLogs")}catch(e){return!1}})();(()=>{window.PageOS=window.PageOS||{},window.PageOS.logger=window.PageOS.logger||{};const e=window.PageOS.logger;e.loggersByName={};const t=new v;Object.assign(e,t),e.enabledFor=t.enabledFor.bind(t),e.trace=t.trace.bind(t),e.debug=t.debug.bind(t),e.info=t.info.bind(t),e.warn=t.warn.bind(t),e.error=t.error.bind(t),e.setHandler=(e,t)=>{t.logHandler=e},e.setLevel=i=>{if(!b){t.setLevel(i);for(const t in e.loggersByName)e.loggersByName.hasOwnProperty(t)&&e.loggersByName[t].setLevel(i)}},e.getLevel=()=>t.getLevel(),e.get=(i,n={})=>{if(i=i.toUpperCase(),n.app&&n.app.name&&(i=`${n.app.name.toUpperCase()}_${i}`),e.loggersByName[i])return e.loggersByName[i];const r=new v(t.merge({name:i,...n},t.context));return e.loggersByName[i]=r,e.useDefaults(n,r,i),b&&r.setLevel(r.INFO),r},e.createDefaultHandler=e=>{e=e||{};return"undefined"==typeof console?function(){}:(i,n)=>{i=Array.prototype.slice.call(i);let r=console.log;const o=n.level.value;o===t.WARN.value&&console.warn?r=console.warn:o===t.ERROR.value&&console.error?r=console.error:o===t.INFO.value&&console.info?r=console.info:o===t.DEBUG.value&&console.debug?r=console.debug:o===t.TRACE.value&&console.trace&&(r=console.trace),e.formatter&&e.formatter(i,n),((e,t,i)=>{const[n,r,o,...s]=t,[a,...d]=i.name.split("_"),c=[`${d.length?`[${a}]:[${d.join("_")}]`:`[${a}]`} ${o?"%c":""}${n}`];o&&c.push(o),r&&c.push(r),e.apply.call(e,console,c.concat(s))})(r,i,n)}},e.useDefaults=(t={},i,n)=>{let r=t.defaultLevel;if(!r)try{r=window.sessionStorage.getItem(`_pwLogger:${n}`)}catch(e){}null===r&&(r="OFF"),i.setLevel(i[r],n),e.setHandler(e.createDefaultHandler(t),i)}})();var S=i(6061);const O=()=>{let e=!0,t=0,i=!0;if(window.pwEdgeFlags&&"object"==typeof window.pwEdgeFlags.benchmarks){const{sampling:n,rate:r}=window.pwEdgeFlags.benchmarks;"boolean"==typeof n&&"number"==typeof r&&(e=n,t=r),!1===window.pwEdgeFlags.benchmarks.samplingCornerVideoEnabled&&(i=!1)}return{samplingEnabled:e,samplingRate:t,samplingCornerVideoEnabled:i}},{samplingEnabled:P,samplingRate:E,samplingCornerVideoEnabled:I}=O();window.PageOS.benchmarks=window.PageOS.benchmarks||new class{constructor(){this.events={},this.samplingEnabled=P,this.samplingRate=E,this.samplingCornerVideoStatus=I}trackStart(e){this.events[e]=this.events[e]||{},this.events[e].start=window.performance.now(),this._emit(e)}trackEnd(e){this.events[e]=this.events[e]||{},this.events[e].end=window.performance.now(),this._emit(e)}trackPageAnalytics(e,t,i,n=void 0,r=void 0,o){this.events[e]=this.events[e]||{},this.events[e].type=`${e}`,this.events[e].pf_dr=t,this.events[e].pf_ts=i,n&&(this.events[e].ad_details=n),r&&(this.events[e].config_id=r),o&&(this.events[e].firstInteractionType=o),(this.events[e].ad_details&&"corner_ad_video"===this.events[e].ad_details.slot_id&&!1===this.samplingCornerVideoStatus||!1===this.samplingEnabled)&&this.sendPageAnalytics(this.events[e])}sendPageAnalytics(e){window.PageOS.dataStream.handleEvent("pageAnalyticsBenchmarks",{uuid:g("pageAnalyticsBenchmarks"),type:e.type,pf_dr:e.pf_dr,pf_ts:e.pf_ts,ad_details:e.ad_details?e.ad_details:null,config_id:e.config_id?e.config_id:null,first_interaction_type:e.firstInteractionType?e.firstInteractionType:null})}_emit(e){this.events[e].start&&this.events[e].end&&(S.W4.info(e,this.events[e].end-this.events[e].start),this.events[e]={})}};const k=()=>{const e=(()=>{let e,t=navigator.userAgent,i=t.match(/(opera|chrome|safari|firefox|opr|msie|yabrowser|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(i[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE",version:e[1]||""}):"Chrome"===i[1]&&(e=t.match(/\b(OPR|Edge)\/(\d+)/),null!==e)?{name:e[1].replace("OPR","Opera"),version:e[2]}:(i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=t.match(/version\/(\d+)/i))&&i.splice(1,1,e[1]),{name:i[0].replace("OPR","Opera").replace("YaBrowser","Yandex"),version:i[1]})})();return{name:e.name.toLowerCase(),version:e.version,cookieEnabled:window.navigator.cookieEnabled,javaEnabled:window.navigator.javaEnabled(),protocol:window.location.protocol,width:window.innerWidth,height:window.innerHeight,screenWidth:window.screen.width,screenHeight:window.screen.height}};var A=i(6030);function C(){window.PageOS.environment=window.PageOS.environment||{};const e=window.PageOS.environment;if(function(e){const t=document.createElement("div");t.id="adBanner",t.classList.add("adLeaderboard","adBanner","leaderboard_ad"),t.style.backgroundColor="transparent",t.style.height="10px",t.style.width="10px",t.style.position="fixed",t.style.bottom="-100px",t.style.left="-100px",t.innerHTML="&nbsp;";const i=t=>{e.adBlock=0===t.getBoundingClientRect().height;const i=new Image;i.onload=()=>{!0!==e.adBlock&&(e.adBlock=!1)},i.onerror=()=>{e.adBlock=!0},i.src="https://px.moatads.com/pixel.gif"};if(document.body)document.body.appendChild(t),i(t);else{const e=new MutationObserver((()=>{document.body&&(document.body.appendChild(t),i(t),e.disconnect())}));e.observe(document.documentElement,{childList:!0})}}(e),e.getBrowserInfo=k,e.hasLocalStorage=n(),e.isMobile=(0,A.Fr)(),e.referrerDomain=function(e=document.referrer){if("string"==typeof e&&""!==e){let t=e.split("//")[1].split("/")[0];return 0===t.indexOf("www.")&&(t=t.slice(4)),t}return""}(),e.OS=function(e=navigator.userAgent){const t=e.indexOf("("),i=e.indexOf(")"),n=e.slice(t+1,i),r={};if(n.indexOf("CrOS")>-1){r.name="ChromeOS",r.version=null;const e=n.split(" ");return r.version=e[e.length-1].split(".")[0].split("_")[0],r}if(n.indexOf("Windows NT")>-1)return r.name="Windows",r.version=null,n.indexOf("Windows NT 5.0")>-1&&(r.version="2000"),n.indexOf("Windows NT 5.1")>-1&&(r.version="XP"),n.indexOf("Windows NT 6.0")>-1&&(r.version="Vista"),n.indexOf("Windows NT 6.1")>-1&&(r.version="7"),n.indexOf("Windows NT 6.2")>-1&&(r.version="8"),n.indexOf("Windows NT 6.3")>-1&&(r.version="8.1"),n.indexOf("Windows NT 10.0")>-1&&(r.version="10"),r;if(n.indexOf("iPhone")>-1||n.indexOf("iPad")>-1){r.name="iOS",r.version=null;const e=n.indexOf("OS")+3;return r.version=n.slice(e,e+2).replace(";","").replace(".","").replace("_","").replace(" ",""),r}if(n.indexOf("Mac OS X 10")>-1){r.name="Mac OS X",r.version=null;const e=n.indexOf("Mac OS X 10")+12;return r.version=n.slice(e,e+2).replace(";","").replace(".","").replace("_","").replace(" ",""),r}if(n.indexOf("Linux")>-1)return r.name="Linux",r.version=null,r;if(n.indexOf("Android")>-1&&-1===n.indexOf("Windoes")){r.name="Android",r.version=null;const e=n.indexOf("Android")+8;return r.version=n.slice(e,e+2).replace(";","").replace(".","").replace("_","").replace(" ",""),r}return r.name=null,r.version=null,r}(),e.getHour=()=>(new Date).getHours().toString(),e.getDay=()=>({0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"}[(new Date).getDay()]),e.getBrowserTargeting=()=>{const t=e.getBrowserInfo();let i="Other";switch(t.name){case"chrome":i="Chrome";break;case"edge":i="Edge";break;case"ie":i="IE";break;case"firefox":i="Firefox";break;case"safari":case"mobile safari":i="Safari";break;case"opera":i="Opera";break;case"yandex":i="Yandex"}return i+=` ${t.version}`,i},n&&localStorage.getItem("PageOS_Environment")){const{renderer:t,vendor:i}=JSON.parse(localStorage.getItem("PageOS_Environment"));e.getRenderer=t,e.getVendor=i}else i.e(950).then(i.bind(i,2337)).then((({default:t})=>{const{renderer:i,vendor:r}=t(n);e.getRenderer=i,e.getVendor=r})).catch((()=>{e.getRenderer=null,e.getVendor=null}));e.cookieTest=()=>{window.PageOS.environment.tpcEnabled="unknown";let e=0;const t=setInterval((()=>{e++,100===e&&(delete window.PageOS.environment.tpcEnabled,window.removeEventListener("message",i),document.body.removeChild(n),window.PageOS.BUS.emit("tpcCheck_ready"),clearInterval(t))}),100),i=e=>{try{const r=JSON.parse(e.data);if("_pwTestCookieResult"!==r.type)return;window.PageOS.environment.tpcEnabled=r.isCookieEnabled,window.removeEventListener("message",i),document.body.removeChild(n),window.PageOS.BUS.emit("tpcCheck_ready"),clearInterval(t)}catch(e){}};window.addEventListener("message",i);const n=document.createElement("iframe");n.src="https://cdn.intergient.com/pageos/1.10.68/iframe/iframe.html",n.sandbox="allow-scripts allow-same-origin",n.style="display:none",n.setAttribute("width","0"),n.setAttribute("height","0"),n.setAttribute("id","check_cookie"),n.onload=e=>{n.contentWindow.postMessage(JSON.stringify({type:"_pwTestCookie"}),"*")},document.body.appendChild(n)},e.cookieTest()}const U=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IS","IE","IT","LV","LI","LT","LU","MT","NL","NO","PL","PT","RO","SK","SI","ES","SE","CH","GB","UK"];function x({countryCode:e="US",isCOPPA:t=!1}){window.PageOS=window.PageOS||{},window.PageOS.gdpr=window.PageOS.gdpr||{};const n=window.PageOS.gdpr;let r={};const o=!(!(0,y.al)("pwcmp")&&!(0,y.al)("gcmp")),s=(0,y.al)("pwcc")||e,a="User in EU check";n.userInEU=(e=>!!e&&U.indexOf(e.toUpperCase())>-1)(s),n.isCOPPA="boolean"==typeof t&&t,n.userCC=s,n.userInEU?(S.dd.info(a,{value:1}),i.e(264).then(i.bind(i,4969)).then((({default:e})=>{r=new e(n,o)})).catch((e=>{S.dd.error("Loading GDPR module.",{message:e.message,stack:e.stack})}))):(S.dd.info(a,{value:0}),n.hasWindowCMP=!1,n.hasCMP=()=>Promise.resolve(!1),window.PageOS.BUS.emit("gdpr_ready"))}const T=e=>{try{e.top.navigator.connection;return e.top.navigator}catch(t){return e.navigator}},D=["meta_keywords","content_categories","page_domains","url_paths","referrer_domains","ops_campaigns","user_profiles"],B=e=>{const t=e=>e.toLowerCase().replace("www.","");return"string"==typeof e?t(e):Array.isArray(e)?e.map((e=>t(e))):e},L=(e,t)=>{for(const i of e)if(M(i,t))return!0;return!1},R=(e,t)=>Object.keys(e).some((i=>Object.keys(e[i]).some((n=>!!t[n]&&(Array.isArray(e[i][n])?e[i][n].some((e=>M(e,t[n]))):t[n]&&M(e[i][n],t[n])))))),M=(e,t,i=!1)=>{try{let n=(e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(t);n=n.replace(/_/g,"[^0-9A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u024f\u1e00-\u1eff]?"),!i||n.startsWith("~")||n.endsWith("~")?(n=n.startsWith("~")?n.slice(1):`(^| )${n}`,n=n.endsWith("~")?n.slice(0,-1):`${n}( |$)`):(n.startsWith("~")&&n.endsWith("~")&&(n=n.slice(1,-1)),n=`(^|\\.)${n}$`);const r=new RegExp(n);return e.match(r)}catch(e){return S.ho.warn("Error parsing regular expression",{message:e.message,stack:e.stack}),!1}},j=({audienceSegments:e=[],categories:t=[],keywords:i=[],impressionEventIds:n=[],keyValues:r={}})=>{const o=window.location.hostname,s=B(o||""),a=B(G(document.referrer||"")),d=B(window.location.pathname||""),c=[],l=[];return p=e,Array.isArray(p)&&p.length>0?(e.forEach((e=>{let o=!0;const{id:p,definition:u}=e,g=u.length;for(let e=0;e<g;e++){const h=u[e],{group:w,values:m,operator:f}=h;if(D.includes(w)){if(0!==e&&o&&"OR"===f){c.push(`${p}`);break}(o||("OR"===f&&(o=!0),"AND"!==f))&&("meta_keywords"===w?o=m.some((e=>{const t=B(e);return L(i,t)})):"content_categories"===w?o=m.some((e=>t.includes(B(e)))):"page_domains"===w?o=m.some((e=>{const t=B(e);return M(s,t,!0)})):"url_paths"===w?o=m.some((e=>{const t=B(e);return M(d,t)})):"referrer_domains"===w?o=m.some((e=>{const t=B(e);return M(a,t,!0)})):"user_profiles"===w?o=m.some((e=>{const t=B(e);return R(r,t)})):"ops_campaigns"===w&&(o=m.some((e=>n.includes(B(e)))),o&&l.push(`${p}`)),e===g-1&&o&&c.push(`${p}`))}}})),{matchedSegments:c,campaignSegments:l}):{matchedSegments:c,campaignSegments:l};var p};var $=i(8287);let N=new Date;N.setMilliseconds(31536e6),N=N.toUTCString();const F=(e,t)=>{try{if(!window.PageOS.environment.hasLocalStorage)return t;let i=localStorage.getItem(e);return i?(i=JSON.parse(i),"object"==typeof i&&2===Object.keys(i).length&&(i.hasOwnProperty("PII")||i.hasOwnProperty("pii"))&&i.hasOwnProperty("data")&&(i=i.data),i):t}catch(e){return t}},W=(e,t)=>{if(window.PageOS.environment.hasLocalStorage&&e){"object"==typeof t&&2===Object.keys(t).length&&(t.hasOwnProperty("PII")||t.hasOwnProperty("pii"))&&t.hasOwnProperty("data")&&(t=t.data);try{const i="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,i)}catch(t){S.ho.warn("Could not set local storage.",{key:e})}}},H=e=>{if(e)try{localStorage.removeItem(e)}catch(e){}},z=e=>e&&$.hp.from(e,"base64").toString("utf8");let V="";const q=(e,t)=>{const i=Object(e).keys().find((e=>((e,t)=>{for(;e.includes(".");){if(e===t)return!0;e=e.slice(currentHostname.indexOf(".")+1)}})(e,t)));return e[i]},G=e=>{let t=e;try{t=/\/\/(.[^/]+)/.exec(e)[1]}catch(e){}return t},X=({websiteId:e,publisherId:t,categories:i})=>{const n=window.PageOS.environment,r=T(window).connection||{},o=(e=>{try{return e.top.location.href,e.top.location}catch(t){return e.location}})(window),{screenWidth:s,screenHeight:a,width:d,height:c}=n.getBrowserInfo();let l=window.document.referrer;""===l&&(l=null);const p=G(l),u=window.PageOS.dataStream||{},g=window.PageOS.gdpr?window.PageOS.gdpr.userCC:null,h={timestamp:u.athenaFriendlyTimestamp(),version:"0.8.0",website_id:e,publisher_id:t,website_categories:i,country_code:g,page_url:o.href,page_hostname:o.hostname,referrer_url:l,referrer_hostname:p,user_agent:T(window).userAgent,connection_downlink:r.downlink,ads_blocked:n.adBlock,screen_width:s,screen_height:a,screen_orientation:window.matchMedia("(orientation: portrait)").match?"portrait":"landscape",window_width:d,window_height:c,tyche_code:window.ramp.settings.version,pageos_code:window.PageOS.version};return window.ramp.activeConfig&&window.ramp.activeConfig.config_id&&(h.config_id=window.ramp.activeConfig.config_id),h},K=(e={})=>{const t=(0,y.YV)(),i=(0,y.YK)();let n={};var r;return t?n=X({categories:(r=t).settings.categories,websiteId:r.id,publisherId:r.settings.publisherId}):i&&(n=X((e=>{let t=null,i=null,n=null;try{const r=e.advertising.servers[0].tags,o=r[location.hostname]||q(r,location.hostname);t=o.id,n=o.categories,i=e.id||e.hostingId}catch(e){}return{categories:n,publisherId:i,websiteId:t}})(i))),{...n,...e}},J=e=>{if(!1!==window._pageViewSampling)return;const t={event_type:"page_views",id:window.PageOS.dataStream.randomUuid("page_view"),ramp_session_id:window.PageOS.session.getUUID,sampling_rate:window._pageViewSR};if(V=t.id,!window.PageOS.gdpr.isCOPPA&&!window.PageOS.gdpr.userInEU&&e.ready){t.meta_keywords=e.getMetaKeywords(),t.visitor_id=e.getVisitorId(),t.impression_event_ids=e.getImpressionEventIds(),t.user_identifiers=e.getUserIdentifiers();const i=e.getKeyValues();t.user_profile_data=(e=>e&&$.hp.from(e,"utf8").toString("base64"))(JSON.stringify(i)),t.user_profile_format="EUP1"}const i={...t,...K()};for(const e in i)null!==i[e]&&void 0!==i[e]||delete i[e];try{i.slot&&delete i.slot;const e=`${JSON.stringify(i)}\n`,t={Data:e,PartitionKey:`partition-${Date.now()}`};window.PageOS.dataStream.send({records:t,streamName:"apps-production",sampling:!1,sendSingleRecord:!0})}catch(e){S.kZ.error("_stringifyData Error",{message:e.message})}},Y=()=>{const e=window.PageOS.dmp;e&&"boolean"==typeof e.ready?J(e):window.PageOS.BUS.on("dmp_ready",(()=>{J(window.PageOS.dmp)}))},Z="lambda-url.us-east-1.on.aws",Q="https://cd836371f1d.cdn.intergient.com/fb87a4ea41",ee=`https://yvpc7wicrtenmge7hkrswepja40vdkwt.${Z}`,te=({requestStart:e,status:t,endpoint:i,xhr:n})=>{const r=Date.now()-e;S.kZ.info(`Request to data streaming ${i} endpoint, duration: ${r}ms, status: ${t}`,{endpoint:i===Q?"main":"lambda",status:t,xhr_readyState:n.readyState,xhr_response:n.response,xhr_responseText:n.responseText,xhr_responseURL:n.responseURL,"xhr_status:":n.status,xhr_statusText:n.statusText,xhr_timeout:n.timeout})},ie=({body:e,isRetry:t,endpoint:i})=>{t?t&&i===Q&&ne({body:e,endpoint:ee,isRetry:!1}):ne({body:e,endpoint:i,isRetry:!0})},ne=({body:e,endpoint:t=Q,isRetry:i=!1,timeout:n=5e3})=>{const r=new XMLHttpRequest,o=Date.now();r.open("POST",t,!0);const s=setTimeout((()=>{r.abort(),te({requestStart:o,status:"timeout",endpoint:t,xhr:r}),ie({body:e,endpoint:t,isRetry:i})}),n);r.addEventListener("loadend",(()=>{clearTimeout(s),200===r.status?te({requestStart:o,status:"success",endpoint:t,xhr:r}):(te({requestStart:o,status:"error",endpoint:t,xhr:r}),ie({body:e,endpoint:t,isRetry:i}))})),r.send(JSON.stringify(e))};const re="17138",oe=e=>{const t=document.createElement("script");t.type="text/javascript",t.src=`https://tags.crwdcntrl.net/lt/c/${re}/sync.min.js`,t.async=!0,t.id="lotameScript",t.onload=()=>e(),document.head.appendChild(t)},se=()=>new Promise((e=>{const{isCOPPA:t,userInEU:i}=window.PageOS.gdpr,n=!!(0,y.al)("ccpa");if(!(window._pwUserInCA||n))return t?(S.Iz.info("Is a COPPA site, Lotame deactivated."),e(!1)):i?(S.Iz.info("User in EU, Lotame deactivated."),e(!1)):e(!0);window.PageOS.BUS.on("ccpa_ready",(()=>!0===(window.PageOS.ccpa&&!0===window.PageOS.ccpa.hasUserOptedOut())?(S.Iz.info("CCPA applies and user has opted out, Lotame deactivated."),e(!1)):e(!0)),!0)})),ae=function(){try{const e={config:{onProfileReady:e=>{S.Iz.info("Profile loaded"),S.Iz.info(`Profile ID ${e?.getProfileId()}`)}}}.config||{},t=window[`lotame_sync_${re}`]={};return t.config=e,t.data={},t.cmd=t.cmd||[],!0}catch(e){return S.Iz.error(e),!1}};function de(){window.PageOS=window.PageOS||{},window.PageOS.lotame=window.PageOS.lotame||{};const e=window.PageOS.lotame;window.PageOS.BUS.on("gotConfig",(()=>{(()=>{const e=window.PageOS.lotame,t=()=>{S.Iz.info("Script loaded"),window.PageOS.BUS.emit("lotameSync_ready")};e.init().then((e=>e&&oe(t)))})()}),!0),e.init=()=>new Promise((e=>{!window.PageOS.gdpr||!1!==window.PageOS.gdpr.userInEU&&"boolean"!=typeof window.PageOS.gdpr.hasWindowCMP?window.PageOS.BUS.on("gdpr_ready",(()=>{se().then((t=>{t?e(ae()):(S.Iz.warn("Lotame module not available"),e(!1))}))}),!0):se().then((t=>{t?e(ae()):(S.Iz.warn("Lotame module not available"),e(!1))}))}))}const ce="pw_uuid",le=()=>{if(!0!==window.PageOS.userData.ready)return!1;if(window.PageOS.ccpaApplies&&window.PageOS.ccpa&&window.PageOS.ccpa.hasUserOptedOut())return!1;const{isCOPPA:e}=window.PageOS.gdpr;return!e},pe=()=>{if(!le())return;const{userCC:e,userInEU:t}=window.PageOS.gdpr;let i=null;new Promise((e=>{window.PageOS.userData.get(ce,(t=>{if(t&&"object"==typeof t&&t.data&&(t=t.data),!t)return e(null);e(t)}))})).then((e=>{e&&(i=e)})).then((()=>{i||(i=(()=>{let e=null;return e=(0,y.UM)(ce),e||(e=g("user"),document.cookie=`${ce}=${e};path=/;max-age=33696000`,window.PageOS.userData.set(ce,e,!0)),e})())})).then((()=>{window.PageOS.session.setCookieSyncUID(i)})).then((()=>{if("US"===e){(new Image).src=`https://idsync.rlcdn.com/712453.gif?partner_uid=${i}`}})).then((()=>{if(!t&&(window.PageOS.BUS.after("lotameSync_ready",(()=>(e=>{const t=Date.now();let i=F("pw_lotame_cookie_exp",!1);if(i&&!(i<t))return void S.Iz.info("Not enough time has passed since last lotame cookie sync");i=t+2592e6,W("pw_lotame_cookie_exp",i);const n={thirdParty:{namespace:"PLAY",value:e}};window[`lotame_sync_${re}`].cmd.push((()=>{window[`lotame_sync_${re}`].sync(n)}))})(i))),!ue(e))){const e=document.createElement("script");e.type="text/javascript",e.src=`https://ps.eyeota.net/pixel?pid=m51mh00&t=ajs&uid=${i}`,e.async=!0,e.defer=!0,document.head.appendChild(e)}})).catch((e=>{S.hS.error("Error settings up cookie sync.",e)}))},ue=e=>["UA","RU","CN","KP","SY","IR","IQ","AF","SD","SO","LY","YE","CU"].indexOf(e.toUpperCase())>-1,ge=(window.PageOS.BUS.after("userData_ready",pe),{app_sessions:"id",ad_impressions:"app_session_id",ad_auctions:"app_session_id",ad_bids:"app_session_id",ad_units:"app_session_id",benchmarks:"session_id",bolt_ad_clicks:"player_uuid",bolt_ad_errors:"player_id",bolt_ad_playback_milestones:"player_uuid",bolt_ad_requests:"player_uuid",bolt_ad_request_results:"player_uuid",bolt_ad_sessions:"player_uuid",bolt_ad_sessions_results:"player_uuid",bolt_players:"uuid",hb_ab_tests:"app_session_id",performances:"session_id",video_plays:"app_session_id",ramp_sessions:"uuid",report_ad_forms:"report_ad_id",data_layer:"app_session_id",user_opt_outs:"id"}),he=e=>e.toLowerCase().replace(/([-_][a-z])/g,(e=>e.toUpperCase().replace("_",""))),we=e=>{const t=window.ramp.analytics;if(t){const i=t[e];if(void 0!==i&&("string"==typeof i||"number"==typeof i||Array.isArray(i)&&i.every((e=>"string"==typeof e||"number"==typeof e))))return i}};let me;window.PageOS.dataStream=window.PageOS.dataStream||{};const fe=window.PageOS.dataStream,ye=new class{constructor(){this.hasStorage=!!window.PageOS.environment&&window.PageOS.environment.hasLocalStorage,this.lastBatchSent=Date.now(),this.queue=[],this.batchTimer=null,this.BATCH_SIZE=10,this.BATCH_INTERVAL=5e3,this.maxRetryAttempts=3,this.hasStorage&&localStorage.getItem("PageOS_Kinesis")&&(this.queue=JSON.parse(localStorage.getItem("PageOS_Kinesis")))}addToQueue({records:e,streamName:t,sampling:i,sendSingleRecord:n=!1}){e=Array.isArray(e)?e:[e];const r=[];e.forEach((e=>{!1!==i&&!1!==e.Sampling||r.push({Data:e.Data,PartitionKey:e.PartitionKey})})),r.length>0&&(this.queue.push({records:r,streamName:t}),this.hasStorage&&localStorage.setItem("PageOS_Kinesis",JSON.stringify(this.queue)),this.isBatchReady(n))}clearTimer(){clearTimeout(this.batchTimer),this.batchTimer=null}getQueueCount(){let e=0;return this.queue.forEach((t=>{e+=t.records.length})),e}isBatchReady(e=!1){if(!this.queue.length)return!1;e&&this.getQueueCount()>0?this.streamData():this.getQueueCount()>=this.BATCH_SIZE||Date.now()-this.lastBatchSent>this.BATCH_INTERVAL?(this.clearTimer(),this.streamData()):this.batchTimer||(this.batchTimer=setTimeout((()=>{this.streamData()}),this.BATCH_INTERVAL))}streamData(){if(0===this.queue.length)return;const e={};for(;this.queue.length;){const{records:t,streamName:i}=this.queue.shift();Array.isArray(e[i])?e[i]=e[i].concat(t):e[i]=t}this.hasStorage&&localStorage.setItem("PageOS_Kinesis",JSON.stringify(this.queue));for(const t in e)e[t].length&&this.streamRecords(e[t]);this.lastBatchSent=Date.now()}streamRecords(e){const t=[];e.forEach((e=>{t.push(JSON.parse(e.Data))})),ne({body:t})}},_e=new class{isProduction=!0;_apps={};_units=[];_auctions=[];_bidsById={};constructor(){me=window.PageOS.dataStream,window.PageOS.ssn_pgv=(()=>{let e;return"undefined"!=typeof Storage&&(e=parseInt(sessionStorage.getItem("pw_pageInstance"),10)||0,sessionStorage.setItem("pw_pageInstance",e+=1)),e})(),this._pipelines={app:{STREAM_NAME:this.isProduction?"apps-production":"apps-development",VERSION:"0.8.0",queue:[]},boltAds:{STREAM_NAME:this.isProduction?"bolt-ads-production":"bolt-ads-development",queue:[],VERSION:"0.4.0"},boltErrors:{STREAM_NAME:this.isProduction?"bolt-errors-production":"bolt-errors-development",queue:[],VERSION:"0.1.0"}}}handleEvent(e,t){"function"==typeof this[e]?this[e](t):this[he(e)]?this[he(e)](t):S.kZ.error("Method does not exist for event.",{event:e})}addAdUnits(){window.__pwpbjs__.adUnits.forEach((e=>{this._units.find((t=>t.code===e.code))||this._units.push(e)}))}adImpressions(e){const{bid:t,targeting:i,slotData:n}=e.data,r=e.data.adUnitCode&&e.data;r?this.sendImpression(r.adUnitCode,r):this.sendImpression(t.adUnitCode,t,t.size,i,n)}sendVideoImpression({slotId:e,pbjsBid:t,size:i,targeting:n,slotData:r,amznBid:o}){setTimeout((()=>{this.sendImpression(e,t,i,n,r,o)}))}auctionInit(e){const t=this._getAppIdFromAuction(e);null!==t&&(e.bids={requested:{},totals:{available:0,unavailable:0,timed_out:0}},e.id=me.randomUuid("auction"),this._auctions.push(e),e.adUnits.forEach((e=>{this.newAdUnit(e,t)})))}auctionEnd(e){if(null===this._getAppIdFromAuction(e))return;const t=e.auctionId;setTimeout((()=>{const e=this._auctions.find((e=>e.auctionId===t)),i=Date.now();void 0!==e?(e.duration=i-e.timestamp,this.processAuction(e)):S.kZ.warn(`[AuctionEnd] Auction ${t} not found in the list of auctions`)}),100)}benchmarks(e){this._handleGenericEvent(e)}bidderDone(e){const t=this._auctions.find((t=>t.auctionId===e.auctionId));if(null===this._getAppIdFromAuction(t))return;const i=e.start,n=Date.now(),r=i&&i>0?n-i:t.timeout;t.bids.requested[e.bidderCode].map((e=>(e.duration=r,e)))}bidRequested(e){const t=this._auctions.find((t=>t.auctionId===e.auctionId));null!==this._getAppIdFromAuction(t)&&(t.bids.requested[e.bidderCode]=e.bids,t.units=t.units||{},e.bids.forEach((e=>{e.playwireId=me.randomUuid("bid"),this._bidsById[e.bidId]=e,t.units[e.adUnitCode]||(t.units[e.adUnitCode]=me.randomUuid("auction"))})))}bidResponse(e){const t=this._auctions.find((t=>t.auctionId===e.auctionId));if(null===this._getAppIdFromAuction(t))return;this._bidsById[e.requestId].response=e}bidTimeout(e){for(let t=0;t<e.length;t++){const i=e[t],n=this._auctions.find((e=>e.auctionId===i.auctionId));if(null!==this._getAppIdFromAuction(n))if(void 0!==n.bids.requested[i.bidder]){n.bids.requested[i.bidder].find((e=>e.bidId===i.bidId)).timeout=i}else{const e=n.bidderRequests.find((e=>e.bidderCode===i.bidder));S.kZ.warn(`[BidTimeout] Bidder ${i.bidder} not found in the list of bidders for auction ${i.auctionId}; source: ${e.src}`)}}}bidWon(e){try{window.ramp.settings.slots[e.adUnitCode].pbjsBid=e,S.kZ.info("Prebid ad impressed.",e)}catch(e){S.kZ.error("bidWon method failed.",e.message)}}boltAdClicks(e){this._handleGenericEvent(e)}boltAdErrors(e){this._handleGenericEvent(e)}boltAdPlaybackMilestones(e){this._handleGenericEvent(e)}boltAdRequests(e){this._handleGenericEvent(e)}boltAdRequestResults(e){this._handleGenericEvent(e)}boltAdSessions(e){this._handleGenericEvent(e)}boltAdSessionsResults(e){this._handleGenericEvent(e)}boltPlayers(e){this._handleGenericEvent(e)}hbAbTests(e){this._handleGenericEvent(e)}dataLayer(e){this._handleGenericEvent(e)}userOptOut(e){this._apps[e]={app:{name:"pageos",version:window.PageOS.version},sampling:{user_opt_outs:{sampling:!1,rate:1}}};const t={event_type:"user_opt_outs",id:e,ramp_session_id:window.PageOS.session.getUUID,sampling_rate:1,...window.PageOS.dataStream.getRINucleus()};this._push(t,this._pipelines.app),this.sendQueueToStream()}clickConfirmed(e){const t=window.PageOS.dataStream.getPageViewId(),i={event_type:"confirmed_clicks",page_id:t||"",session_id:window.PageOS.session?window.PageOS.session.getUUID:"",unit_code:e,...window.PageOS.dataStream.getRINucleus()};this._push(i,this._pipelines.app),this.sendQueueToStream()}displayAdImpression({slotId:e,impressionData:t,size:i,targeting:n,slotData:r,amznBid:o}){let s=100;"web_interstitial"===e&&(s=500),setTimeout((()=>{this.sendImpression(e,t,i,n,r,o)}),s)}newAdUnit(e,t){const i=this._units.find((t=>t.code===e.code));if(i.id)return;i.id=me.randomUuid("unit");const n={event_type:"ad_units",id:i.id,app_session_id:t,code:i.code,...this._environmentalData(t),...this._collectEventMetadata(this._pipelines.app,t,"ad_units")};this._push(n)}newAuction(e,t,i){const n=(e,t,i)=>{const n=this._getAppIdFromAuction(e),r=this._units.find((e=>e.code===t));return i||(i=this._winningBidForUnitCode(t)),{event_type:"ad_auctions",id:e.units[r.code],app_session_id:n,unit_id:r.id,unit_code:r.code,timeout:e.timeout,result:i?"succeeded":"failed",winning_bid_id:i?i.playwireId:null,winning_bidder:i?i.bidder:null,winning_cpm:i?i.cpm:null,winning_size:i?i.size:null,winning_response_time:i?i.duration:null,send_all_bids:window.__pwpbjs__.getConfig("enableSendAllBids"),average_cpm:this._averageCpm(e,r),render_number:this._timesUnitRendered(r),...this._environmentalData(n),...this._collectEventMetadata(this._pipelines.app,n,"ad_auctions")}};if(t){const r=n(e,t,i);return this._push(r),void this.sendQueueToStream()}const r=[];for(const t in e.units){const i=n(e,t);r.push(i)}this._push(r),this.sendQueueToStream()}performances(e){this._handleGenericEvent(e)}processAuction(e){"prebid_video"===e.adUnitCodes[0]&&this.newAuction(e),this.sendBids(e)}registerApp(e){const{appData:t,environmentalData:i,id:n,samplingEvents:r}=e.data,{pipeline:o}=e;if(this._apps[n])return void S.kZ.error("Cannot register duplicate app.",{id:n});this._apps[n]={app:t,environment:i,sampling:r},1===window._adImpressionSR&&(r.ad_impressions=r.ad_impressions||{},r.ad_impressions.sampling=!1,r.ad_impressions.rate=1);const s={event_type:"app_sessions",id:n,...i,...this._collectEventMetadata(this._pipelines[o],n,"app_sessions")};this._push(s,this._pipelines[o]),this.sendQueueToStream()}async getHashedEid(e){try{const t=y.h1(e,"SHA-256"),i=y.Fx(e),n=y.h1(e,"SHA-1"),[r,o,s]=await Promise.all([n,t,i]);return{sha1:r,sha256:o,md5:s}}catch(e){S.kZ.error("getHashedEid Error",{message:e.message})}}registerRampSession({uuid:e,uuid_segment_ids:t,visitor_id:i,visitor_segment_ids:n,pwheid:r,pwheid_segment_ids:o,eid:s,is_hem_from_url:a}){const d=(e,s)=>{this._apps[s]={app:{name:"pageos",version:window.PageOS.version},sampling:{ramp_sessions:{sampling:!1,rate:1}}};const a=r?{pwheid_segment_ids:o,eid:e,pwheid:r}:{};let d={event_type:"ramp_sessions",id:window.PageOS.session.getUUID,uuid:s,visitor_id:i,uuid_segment_ids:t,visitor_segment_ids:n,...a,...window.PageOS.dataStream.getRINucleus()};const c={data:d,pipeline:"app"},{pipeline:l}=c;d={...d,...this._collectEventMetadata(this._pipelines[l],s,"ramp_sessions")},this._push(d,this._pipelines[l]),this.sendQueueToStream()};if(!le())return;const c=s?this.getHashedEid(s):Promise.resolve(void 0);a?d(s,e):s?c.then((t=>{d(t,e)})).catch((e=>{S.kZ.error("Error in registerRampSession:",e)})):d(void 0,e)}pageAnalyticsBenchmarks({uuid:e,type:t,pf_dr:i,pf_ts:n,ad_details:r,config_id:o,first_interaction_type:s}){const{samplingEnabled:a,samplingRate:d}=O();this._apps.page_analytics_benchmarks={app:{name:"pageos",version:window.PageOS.version},sampling:{sampling:a,rate:d}};let c={event_type:"benchmarks",source:"pw_page_analytics_events",id:window.PageOS.session.getUUID,session_id:window.PageOS.session.getUUID,type:t,pf_dr:i,pf_ts:n,ad_details:r,config_id:o,first_interaction_type:s,...me.getRINucleus()};const l={data:c,pipeline:"app"},{pipeline:p}=l;c={...c,...this._collectEventMetadata(this._pipelines[p],e,"page_analytics_benchmarks")},S.kZ.debug("Page Analytics Benchmarks:",c),this._push(c,this._pipelines[p]),this.sendQueueToStream()}reportAdForms(e){this._apps[e.report_ad_id]={app:{name:"pageos",version:window.PageOS.version},sampling:{report_ad_forms:{sampling:!1,rate:1}}};let t={event_type:"report_ad_forms",...e,...me.getRINucleus()};const i={data:t,pipeline:"app"},{pipeline:n}=i;t={...t,...this._collectEventMetadata(this._pipelines[n],e.report_ad_id,"report_ad_forms")},this._push(t,this._pipelines[n]),this.sendQueueToStream()}sendBids(e){const t=this._getAppIdFromAuction(e),i=[];for(const n in e.bids.requested){const r=e.bids.requested[n];for(const o of r){const s=this._units.find((e=>e.code===o.adUnitCode))||{};let a="unavailable",d=0,c=null,l=o.duration,p={};o.response&&(a="available",d=o.response.cpm,c=o.response.size),o.timeout&&(a="timed_out",l=o.timeout),e.bids.totals[a]++,p={event_type:"ad_bids",id:o.playwireId,app_session_id:t,unit_id:s.id,unit_code:s.code,auction_id:e.units[s.code],bidder:n,in_view_pid:!0===o.inViewPID,render_number:this._timesUnitRendered(s),requests_count:r.filter((e=>e.adUnitCode===s.code)).length,response_time:l,result:a,cpm:d,size:c,...this._environmentalData(t),...this._collectEventMetadata(this._pipelines.app,t,"ad_bids")},i.push(p)}}this._push(i),this.sendQueueToStream()}sendImpression(e,t,i,n,r,o){let s,a=null;for(let i=this._auctions.length-1;i>=0&&((t&&this._auctions[i].auctionId===t.auctionId||this._auctions[i].adUnitCodes.includes(e))&&(a=this._auctions[i]),null===a);i--);const d=this._getAppIdFromAuction(a,e);!0===window.PageOS?.dmp?.ready&&(s=!!window.PageOS.dmp.getPWHeid()),t&&(t=this._annotatedBidResponse(t)),a&&this.newAuction(a,e,t);const c=this._units.find((t=>t.code===e))||{};let l=null,p=null,u=null,g=null,h=null,w=null,m=!1;window.PageOS.BUS.after("gamRqTm",(e=>{l=e})),window.PageOS.BUS.after("cornerAdVideoGamRqSt",(e=>{u=e})),window.PageOS.BUS.after("cornerAdVideoGamRqEn",(e=>{g=e})),"corner_ad_video"===e&&(l=u&&g?g-u:null),window.PageOS.BUS.after("gptLoadedTwice",(e=>{m=e}));const f=window.PageOS.dataStream.getPageViewId(),_=parseFloat(this._getTargetingValue(n,"price_floor")),v=we("author"),b=we("contentType"),{tpgEnabled:S,tpgNetwork:O,tpgAdxId:P}=this._getThirdPartyGAMConfig(c.code),E=this._getBidder(t,o,r,P),I=this._getCreativeType(t,e,r),A=this._getDemandType(t,o),C=this._getPrebidIdentity(),U=t?t.size:i,x=U?.split("x"),T=Array.isArray(x)&&x[0]&&x[1]?x[0]*x[1]:0,D=this._getAdUnitCode(e,r),B=this._getTargetingDimensions(),L={event_type:"ad_impressions",id:me.randomUuid("impression"),app_session_id:d,unit_id:c.id||null,unit_code:c.code||e,ad_unit_code:D,auction_duration:a?a.duration:null,auction_id:a?a.units[c.code]:null,timeout:a?parseFloat(this._getBidderTimeout(t,a)):null,bid_id:t?t.playwireId:null,prebid_bid:null!==t,size:U,targeting:n,page_id:f||"",cid:this._getCreativeId(t,r),floor:_,refresh_cnt:parseInt(this._getTargetingValue(n,"refresh_count"),10),cpm:this._getCPM(t,e,E,_),line_item_id:this._getLineItemId(t,r,e),pageos_code:window.PageOS.version,tyche_code:window.ramp.settings.version,config_id:window.ramp.activeConfig&&window.ramp.activeConfig.config_id,bidder:E,creative_type:I,author:v,ssn_pgv:window.PageOS.ssn_pgv,p_density:window.ramp?.getAdDensity(T)||null,gam_rq_tm:l,gpt_mt:m||void 0,publisherOverride:`${window.PageOS.dataStream.isPublisherOverridePresent()}`,content_type:b,tpg_enabled:S,demand_type:A,slot_data:r,hem:s||void 0,active_identity_providers:(0,y.o)(),identity:C||void 0,sssn_rfrsh:this._getUnitsRefreshesbySession(e),...this._environmentalData(d),...this._collectEventMetadata(this._pipelines.app,d,"ad_impressions"),...B};a&&Object.assign(L,{auction_duration:a.duration,auction_id:a.units[c.code],timeout:parseFloat(this._getBidderTimeout(t,a))}),"cookieDeprecationLabel"in navigator&&navigator.cookieDeprecationLabel.getValue().then((e=>{void 0!==e&&(L.dep_label=e)}));(e=>{const t=window.ramp?.settings.config.hbParams;return t&&t[e]&&!0===t[e].publisher_demand})(E)&&(L.publisher_demand=!0),S&&(L.gam_account=O);if("chrome"===k().name){if(void 0===window.PageOS.environment.tpcEnabled)return window.PageOS.environment.cookieTest(),void this.waitAndTryToSendAdImpressionEvent(L);if("unknown"===window.PageOS.environment.tpcEnabled)return void this.waitAndTryToSendAdImpressionEvent(L);L.chrome_cookies_enabled=window.PageOS.environment.tpcEnabled}const R=()=>{void 0!==h&&void 0!==w&&(p=h&&w?w-h:null,L.gam_rq_tm=p,this.sendAdImpressionEvent(L))};"prebid_video"===e?(window.PageOS.BUS.after("boltGamRqSt",(e=>{h=e})),window.PageOS.BUS.on("boltGamRqEn",(e=>{w=e,R()}))):this.sendAdImpressionEvent(L)}waitAndTryToSendAdImpressionEvent(e){window.PageOS.BUS.on("tpcCheck_ready",(()=>{e.chrome_cookies_enabled=window.PageOS.environment.tpcEnabled??"unknown",this.sendAdImpressionEvent(e)}),!0)}sendAdImpressionEvent(e){if(!e){try{const e=localStorage.getItem("pw_web_interstitial_impression");e&&this._push(JSON.parse(e))}catch(e){}return}if("web_interstitial"===e.unit_code){try{localStorage.setItem("pw_web_interstitial_impression",JSON.stringify(e))}catch(e){}this._push(e),this.sendQueueToStream(this._pipelines.app,e)}else this._push(e),this.sendQueueToStream();(0,y.al)("pw_diagnostics")&&window.PageOS.BUS.emit("diagnostics_event",e),S.kZ.info("Ad impression record: ",e)}videoPlays(e){this._handleGenericEvent(e)}contentVideoPlays(e){const t="video_plays",i=this._getAppIdFromAuction(!1,e.slotId),n={event_type:t,app_session_id:i,unit_code:e.slotId,pageos_code:window.PageOS.version,tyche_code:window.ramp.settings.version,config_id:window.ramp.activeConfig&&window.ramp.activeConfig.config_id,...this._environmentalData(i),...this._collectEventMetadata(this._pipelines.app,i,t)};this._push(n),this.sendQueueToStream(),S.kZ.info("Content video plays: ",n)}_annotatedBidResponse(e){const t=this._bidsById[e.requestId];return{...e,playwireId:t?t.playwireId:null,duration:t?t.duration:null}}_averageCpm(e,t){const i=this._findBidsReceivedForUnit(e,t),n=i.reduce(((e,t)=>e+t.response.cpm),0);return i.length>0?n/i.length:null}_collectEventMetadata(e,t,i){return{sampling_rate:this._samplingRateForEventType(t,i),version:e.VERSION,timestamp:me.athenaFriendlyTimestamp(Date.now())}}_environmentalData(e){return e||(e=Object.keys(this._apps)[0]),e?this._apps[e]?.environment:null}_findBidsReceivedForUnit(e,t){const i=[];return Object.values(e.bids.requested).forEach((e=>{e.forEach((e=>{const n=e.response;n&&n.adUnitCode===t.code&&i.push(e)}))})),i}_getAppIdFromAuction(e,t=void 0){let i=null;if(!e)return void 0!==t&&(i="prebid_video"===t?Object.keys(this._apps).find((e=>e.startsWith("bolt"))):window.ramp.settings.uuid),i??null;if(!Array.isArray(e.labels)||0===e.labels.length)return i;for(let t=0;t<e.labels.length;t++)if(this._apps[e.labels[t]]){i=e.labels[t];break}return null===i&&(i=Object.keys(this._apps)[0]),i}_getAppIdKey(e){return ge[e]}_handleGenericEvent(e){this._push(e.data,this._pipelines[e.pipeline]),this.sendQueueToStream(this._pipelines[e.pipeline])}_isSamplingEventType(e,t){if("pw_page_analytics_events"===t.source)return this._apps.page_analytics_benchmarks.sampling||!1;const i=t[this._getAppIdKey(e)];return!!i&&this._apps[i].sampling[e].sampling}_push(e,t=this._pipelines.app){if(this._filterOut)return!1;const i=Array.isArray(e)?e:[e];for(let e=0;e<i.length;e++){const n=i[e];n.ramp_session_id||(n.ramp_session_id=window.PageOS.session.getUUID),t.queue.push(this._removeNulls(n))}}_removeNulls(e){-1===e.publisher_id&&(e.publisher_id=null),-1===e.video_id&&(e.video_id=null),-1===e.cuepoint&&(e.cuepoint=null);for(const t in e)void 0!==e[t]&&null!==e[t]||delete e[t];return e}_samplingRateForEventType(e,t){return e||(e=Object.keys(this._apps)[0]),e?this._apps[e]?.sampling[t]?.rate:null}sendQueueToStream(e=this._pipelines.app,t=!1){if(this._filterOut)return!1;const i=[],n=!1!==t;if(n){this._trimRecord(t);const e=this._stringifyData(t);e&&i.push(e)}else for(;e.queue.length;){const t=e.queue.shift();this._trimRecord(t);const n=this._stringifyData(t);n&&i.push(n)}if(0===i.length)return!1;me.send&&me.send({records:i,streamName:e.STREAM_NAME,sendSingleRequest:n})}_trimRecord(e){e.page_url&&"string"==typeof e.page_url&&(e.page_url=e.page_url.substring(0,500)),e.slot_data?.mediaUrl&&"string"==typeof e.slot_data.mediaUrl&&(e.slot_data.mediaUrl=e.slot_data.mediaUrl.substring(0,500)),e.targeting?.addtl_consent&&"string"==typeof e.targeting.addtl_consent&&(e.targeting.addtl_consent=e.targeting.addtl_consent.substring(0,500))}_stringifyData(e){if(!e)return!1;try{e.slot&&delete e.slot;const t=`${JSON.stringify(e)}\n`;return{Data:t,PartitionKey:`partition-${Date.now()}`,Sampling:this._isSamplingEventType(e.event_type,e)}}catch(e){S.kZ.error("_stringifyData Error",{message:e.message})}}_timesUnitRendered(e){return this._auctions.filter((t=>void 0!==t.units[e.code])).length}_winningBidForUnitCode(e){const t=window.__pwpbjs__.getHighestCpmBids(e);return Array.isArray(t)&&t.length>0?this._annotatedBidResponse(t[0]):null}_getCreativeId(e,t){return e&&e.creativeId?e.creativeId:t&&t.creativeId?t.creativeId:t&&t.sourceAgnosticCreativeId?t.sourceAgnosticCreativeId:""}_getLineItemId(e,t,i){if(e&&e.lineItemId)return e.lineItemId;if(t&&t.lineItemId)return t.lineItemId;if(t&&t.sourceAgnosticLineItemId)return t.sourceAgnosticLineItemId;const n="prebid_video"===i||"corner_ad_video"===i||"precontent_ad_video"===i;return n&&t?.wrapperAdIds?.length>0?t.wrapperAdIds[t.wrapperAdIds.length-1]:n&&t?.adId?t.adId:""}_getTargetingValue(e,t){return e&&e[t]?Array.isArray(e[t])?e[t][0]:e[t]:0}_getBidder(e,t,i,n){const r=4405001942;let o=!1;if(e&&e.bidder)return e.bidder;if(t&&t.hasBid)return"amazon";if(i){const e=Array.isArray(i.yieldGroupIds)&&i.yieldGroupIds.length>0,t=i.advertiserId;if(o=void 0!==i.wrapperAdSystems?(Array.isArray(i.wrapperAdSystems)&&i.wrapperAdSystems.includes("AdSense/AdX")||Array.isArray(i.adSystem)&&i.adSystem.includes("AdSense/AdX"))&&!0!==i.isEmpty:(51353235===t||145814719===t||22077080===t||null===t||0===t||n&&t===n||e&&null!==i.yieldGroupIds[0])&&!0!==i.isEmpty,o)return"google";if(i.advertiserId===r)return"house";if(!e&&i.advertiserId&&51353235!==i.advertiserId&&i.advertiserId!==r)return"direct"}return"unfilled"}_getBidderTimeout(e,t){if(e){const i=t.bidderRequests.find((t=>t.bidderCode===e.bidder));if(i)return i.timeout}return t.timeout}_getCPM(e,t,i,n){if(e&&e.cpm)return e.cpm;if("Adx"===i||"openbidding"===i||"amazon"===i){const e=this._winningBidForUnitCode(t);if(e)return e.cpm+.01;if(n)return n+.01}return 0}_getCreativeType(e,t,i){if(e&&"prebid_video"===e.adUnitCode&&e.mediaType)return e.mediaType;if("corner_ad_video"===t||"precontent_ad_video"===t)return"outstream";if(e&&e.mediaType){if("banner"===e.mediaType)return"display";if("video"===e.mediaType)return"outstream"}if(i&&i.amazonBid&&i.amazonMediaType)return i.amazonMediaType;if(i&&i.size&&0===i.size[0]&&0===i.size[1])return"native";if(i&&i.size&&!window.ramp.settings.isCoppa){const e=this._getPlayerSize(t);return e&&e===i.size?"outstream":"display"}return"unknown"}_getPlayerSize(e){let t=!1;return window.__pwpbjs__.adUnits.forEach((i=>{e!==i.code||(t=i?.mediaTypes?.video?.playerSize??!1)})),t}_getThirdPartyGAMConfig(e){let t=!1,i=!1;const n=(0,y.YK)(),r=(0,y.YV)(),o="prebid_video"===e,s=!!r?.settings?.tpg_enabled&&!!r?.tpg_network,a=!!n?.settings?.tpg_enabled&&!!n?.settings?.tpg_network;switch(!0){case s&&!a&&!o:t=r?.settings?.tpg_enabled,i=r?.tpg_network;break;case!s&&a&&o:t=n?.settings?.tpg_enabled,i=n?.settings?.tpg_network;break;case s&&a:t=r?.settings?.tpg_enabled,i=r?.tpg_network}return{tpgEnabled:t,tpgNetwork:i,tpgAdxId:!!r?.settings?.tpg_enabled&&r?.settings?.tpgAdxId}}_getDemandType(e,t){return e?e.source:t&&t.hasBid?"amazon":"unknown"}_getPrebidIdentity(){const e=window.__pwpbjs__?.getUserIds();for(const t in e)if(null!==e[t]&&void 0!==e[t]&&0!==e[t])return!0;return!1}_getTargetingDimensions(){const e=window.PageOS?.getAllDimensions()||{},t={};for(const i in e)null!==e[i]&&(t[i]=e[i]);return t}_getAdUnitCode(e,t){let i=window.ramp.settings.slots[e]?.config?.code??null;return"precontent_ad_video"!==e||i||t?.adUnitCode&&(i=t.adUnitCode,delete t.adUnitCode),i}_getUnitsRefreshesbySession(e){const t=window.PageOS.session.getUUID;let i=localStorage.getItem("pw_units_refreshes");return i=JSON.parse(i)||{},i.sessionId===t?i[e]?i[e]+=1:i[e]=1:i={sessionId:t,[e]:1},localStorage.setItem("pw_units_refreshes",JSON.stringify(i)),i[e]}},ve=({records:e,streamName:t,sampling:i,sendSingleRecord:n=!1})=>{!0!==fe.pageViewSent&&(fe.pageViewSent=!0,Y());const r={records:e,streamName:t,sampling:"boolean"==typeof i?i:window.rampSampling,sendSingleRecord:n};ye.addToQueue(r)};fe.athenaFriendlyTimestamp=(e=Date.now())=>{let t,i,n,r,o,s;const a=new Date(e),d=a.getUTCFullYear();return t=a.getUTCMonth()+1,i=a.getUTCDate(),n=a.getUTCHours(),r=a.getUTCMinutes(),o=a.getUTCSeconds(),s=a.getUTCMilliseconds(),t=`0${t}`.slice(-2),i=`0${i}`.slice(-2),n=`0${n}`.slice(-2),r=`0${r}`.slice(-2),o=`0${o}`.slice(-2),s=`00${s}`.slice(-3),`${d}-${t}-${i} ${n}:${r}:${o}.${s}`},fe.getRINucleus=K,fe.getPageViewId=()=>V,fe.handleEvent=_e.handleEvent.bind(_e),fe.isPublisherOverridePresent=()=>{try{return Object.keys(window.ramp.override).length>0}catch(e){return!1}},fe.randomUuid=g,fe.send=ve,fe.sendPageViewEvent=Y,S.kZ.info(`Browser file compression: ${window._pwUserContentEncoding||"none"}`),window.PageOS.kinesis=fe,window.addEventListener("message",(e=>{try{const t=JSON.parse(e.data),{type:i}=t;if("kinesisEvent"===i)S.kZ.warn('Use of deprecated kinesis event listener "kinesisEvent"'),ve({records:t.records,streamName:t.streamName,sampling:window.boltSampling});else if("pwKinesisEvent"===i){const{event:e,data:i,pipeline:n}=t;fe.handleEvent(e,{data:i,pipeline:n})}}catch(e){}}));const be=(e,t)=>new Promise((i=>{window.gtag("get",e,t,(e=>{i(e)}))}));!function(){if(window.PageOS=window.PageOS||{},!(window.gtag&&window.ramp&&window.ramp.activeConfig&&window.ramp.activeConfig.gaPropertyId))return;window.PageOS.googleAnalytics=window.PageOS.googleAnalytics||{};const e=window.ramp.activeConfig.gaPropertyId;Promise.all([be(e,"client_id"),be(e,"session_id")]).then((([e,t])=>{const i={user_id:e||"",session_id:t||"",pageview_id:window._pwGA4PageviewId};Object.assign(window.PageOS.googleAnalytics,i)})).catch((e=>{delete window.PageOS.googleAnalytics,S.Ay.warn("Google Analytics module failed.",e)})).finally((()=>{window.PageOS.BUS.emit("googleAnalytics_ready",window.PageOS.googleAnalytics)}))}();const Se=(e,t,i)=>{const n=document.createElement("script");n.type="text/javascript",n.src=e,"boolean"==typeof t&&(n.async=t),n.onload=()=>{i()},document.head.appendChild(n)};const Oe={configEnabled:!1},Pe=(e,t)=>{const i=e?.identity||e?.settings?.identity;let n=null;return Array.isArray(i)&&i.length>0?n=i:i?.[t]&&i[t].length>0&&(n=i[t]),n?{id5:n.includes("id5"),liveRamp:n.includes("liveRamp"),liveRamp2:n.includes("liveRamp2"),uid2:n.includes("uid2"),lotame:n.includes("lotame"),sharedId:n.includes("sharedId"),fabrick:n.includes("fabrick"),lexiconId:n.includes("lexiconId"),amazon:n.includes("amazon"),liveIntentIdEnabled:n.includes("liveIntentId"),criteoId:n.includes("criteo"),connectId:n.includes("connectId"),hadronId:n.includes("hadronId")}:null},Ee=(e,t)=>{if(e.id5&&t.push({name:"id5Id",params:{partner:483,pd:""},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}}),e.uid2&&t.push({name:"uid2",params:{uid2ApiBase:void 0,serverPublicKey:"UID2-X-P-MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEZ0vCecQOnwXsxRHdwoE//oRERo4/UFujZMe1Cb9x7AM3ziuZFm7Ho9j8YCMR1Tf5LtJRFiPg3tDxXkKEp0a2+A==",subscriptionId:"y6GXwmgi9p"}}),e.lotame&&t.push({name:"lotamePanoramaId",params:{clientId:"17262"}}),e.hadronId&&t.push({name:"hadronId",params:{partnerId:"403"}}),e.sharedId&&t.push({name:"sharedId",storage:{name:"_sharedid",type:"cookie",expires:30}}),e.criteoId&&t.push({name:"criteo"}),e.fabrick&&t.push({name:"fabrickId",params:{apiKey:"2104320612"},storage:{name:"pbjs_fabrickId",type:"html5",expires:7}}),e.lexiconId&&t.push({name:"33acrossId",params:{pid:"0014000001YrMoYAAV"},storage:{name:"33acrossId",type:"html5",expires:90,refreshInSeconds:28800}}),e.liveRamp2?(t.push({name:"identityLink",params:{pid:"13250"},storage:{type:"html5",name:"idl_env",expires:15,refreshInSeconds:1800}}),!1!==window.pwEdgeFlags.pairEnabled&&t.push({name:"pairId",params:{liveramp:{}}})):e.liveRamp&&t.push({name:"identityLink",params:{pid:"13250"},storage:{type:"html5",name:"idl_env",expires:1,refreshInSeconds:1800}}),e.liveIntentId&&t.push({name:"liveIntentId",params:{distributorId:"did-0046",requestedAttributesOverrides:{uid2:!0,index:!0,bidswitch:!0,pubmatic:!0,magnite:!0,openx:!0,sorvrn:!0,thetradedesk:!0,medianet:!0}},storage:{name:"_li_pbid",type:"html5",expires:1}}),e.connectId){const e={pixelId:"58847"};window.PageOS?.session?.getUUID&&(e.puid=window.PageOS?.session?.getUUID),t.push({name:"connectId",params:e})}const i=t=>{const i=(e=>{const t=e&&e.ready&&e.getPWHeid();if(window.ramp&&"object"==typeof window.ramp.dolos||t){if(window._pwUserInCA)return;const e=["SHA1","SHA256","MD5"];if(t)return[t];if(!window.ramp.dolos)return;const i={...window.ramp.dolos};return Object.keys(i).forEach((t=>{e.includes(t)||delete i[t]})),Object.values(i)}})(t);(e.liveRamp||e.liveRamp2)&&n(i);const o=(e=>{const t=e&&e.ready&&e.getPWHeid();if(window.ramp&&"object"==typeof window.ramp.dolos||t){if(window._pwUserInCA)return;const e=["SHA256"];if(t)return[t];const i=[];return window.ramp.dolos?(Object.keys(window.ramp.dolos).forEach((t=>{e.includes(t)&&i.push(window.ramp.dolos[t])})),i):i}})(t);e.amazon&&o&&o.length>0&&r(o)},n=t=>{if(e.liveRamp2){const e=document.createElement("script");e.onload=function(){let e=25;const i=setInterval((()=>{if(0!==e)return--e,t&&window.ats&&window.ats.setAdditionalData?(window.ats.setAdditionalData({type:"emailHashes",id:t}),void clearInterval(i)):void 0;clearInterval(i)}),1e3)},e.src="https://launchpad-wrapper.privacymanager.io/ca935c17-544f-477e-88cb-4288124e4d61/launchpad-liveramp.js",document.body.appendChild(e)}else e.liveRamp&&function(e){const t=document.createElement("script");t.onload=()=>{const t={placementID:"13250",storageType:"localStorage",detectionType:"scrapeAndUrl",detectDynamicNodes:!0,urlParameter:"env",cssSelectors:["input[type=text]","input[type=email]"],logging:"error"};Array.isArray(e)&&e.length>0&&(t.emailHashes=e),window.ats.start(t)},t.src="https://ats.rlcdn.com/ats.js",document.body.appendChild(t)}(t)},r=e=>{e&&window.PageOS.BUS.after("ApsTagLoaded",(()=>{if(!window.ramp.settings.apstagLoaded)return;let t=!1;Object.keys(e).forEach((i=>{const n=F("_pwUserOptedOut",!1);t={hashedRecords:[{type:"email",record:e[i]}],optOut:n}}));if(window.ramp.settings.apstagIframed){ke();const e=document.getElementById("pw_aps_iframe");if(e&&e.contentWindow){let i={type:"_pwApsTag",message:"rpa",data:{tokenConfig:t,setCookie:true}};i=JSON.stringify(i),e.contentWindow.postMessage(i,"*")}}else{const e=()=>{S.GE.info("Received response from Amazon Token service.")};window.apstag.rpa(t,e,true)}}))};if(e.liveRamp||e.liveRamp2||e.amazon||e.fabrick||e.uid2||e.liveIntentId||e.connectId){e.fabrick&&window.PageOS.BUS.after("pwheid_ready",(e=>{Ie("fabrickId",e,t)})),e.connectId&&window.PageOS.BUS.after("pwheid_ready",(e=>{Ie("connectId",e,t)})),e.uid2&&window.PageOS.BUS.after("pwheid_base64_ready",(e=>{Ie("uid2",e,t)}));const n=e.liveIntentId;window.liModuleEnabled=n,n&&window.PageOS.BUS.after("pwheid_ready",(e=>{Ie("liveIntentId",e,t)}));const r=window.PageOS.dmp;r&&"boolean"==typeof r.ready?i(r):window.PageOS.BUS.on("dmp_ready",(()=>{i(window.PageOS.dmp)}))}},Ie=(e,t,i)=>{if(!t)return;const n=window.__pwpbjs__.getConfig("userSync.userIds");let r=n&&n.find((t=>t.name===e));if(r||(r=i&&i.find((t=>t.name===e))),r)switch(e){case"fabrickId":r.params.e=t;break;case"uid2":case"liveIntentId":r.params.emailHash=t;break;case"connectId":r.params.he=t}},ke=()=>{window.addEventListener("message",(e=>{try{if(!e.data)return;const t="string"==typeof e.data?JSON.parse(e.data):e.data,{type:i,message:n}=t;if("_pwApsTag"!==i)return;try{"rpaResponse"===n&&S.GE.info("Received response from Amazon Token service from iframed APS tag.")}catch(e){}}catch(e){}}))},Ae=(e,t)=>{!1!==Oe.configEnabled&&(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((()=>{let i=Oe.enrich?"t1":"t0";void 0!==e&&(i+=e?"-e1":"-e0"),void 0!==t&&(i+=t?"-wa":"-ws"),window.googletag.pubads().setTargeting("li-module-enabled",i)})))};Ae();const Ce=["*"],Ue=(e,t)=>{const i=100*+e.toFixed(2);return((i-i%t)/100).toFixed(2)},xe=e=>Ue(e,5),Te=e=>Math.floor(e).toFixed(2),De=(e,t)=>{if("banner"===t){if(e<=3)return e.toFixed(2);if(e<=8)return xe(e);if(e<=15)return Ue(e,25);if(e<=30)return Te(e);if(e>30)return"30.00"}else if("video"===t){if(e<=1)return xe(e);if(e<=4)return e.toFixed(2);if(e<=15)return(e=>Ue(e,10))(e);if(e<=30)return Te(e);if(e>30)return"30.00"}return e.toFixed(2)},Be={bReal:{bidCpmAdjustment:e=>.85*e},districtm:{bidCpmAdjustment:e=>.9*e},grid:{bidCpmAdjustment:e=>.95*e},rubicon:{bidCpmAdjustment:e=>.975*e},standard:{storageAllowed:!0,bidCpmAdjustment:e=>e>30?30:e,topicsHeader:!1},s2s_rubicon:{bidCpmAdjustment:e=>.98*e},s2s_pubmatic:{bidCpmAdjustment:e=>.98*e},s2s_ix:{bidCpmAdjustment:e=>.98*e},s2s_rise:{bidCpmAdjustment:e=>.98*e},s2s_gumgum:{bidCpmAdjustment:e=>.98*e},s2s_triplelift:{bidCpmAdjustment:e=>.98*e},s2s_appnexus:{bidCpmAdjustment:e=>.98*e},s2s_undertone:{bidCpmAdjustment:e=>.98*e},s2s_openx:{bidCpmAdjustment:e=>.98*e},s2s_sharethrough:{bidCpmAdjustment:e=>.98*e}},Le={alwaysUseBid:!1,adserverTargeting:[{key:"hb_bidder",val:e=>"ix"===e.bidder?"indexExchange":e.bidder},{key:"hb_adid",val:e=>e.adId},{key:"hb_val",val:e=>{if("prebid_video"!==e.adUnitCode&&"amazon"===e.bidder)return e.cpm.toFixed(2);const t="prebid_video"===e.adUnitCode?"video":"banner";return De(e.cpm,t)}},{key:"hb_size",val:e=>e.amzBid?e.amzBid:e.size},{key:"hb_container",val:e=>e.adUnitCode},{key:"hb_vast",val:e=>"amazon"===e.bidder?`//aax.amazon-adsystem.com/e/dtb/vast?b=${e.ad}&rnd=${Date.now()}&ps=${e.amzBid}`:e.vastUrl},{key:"hb_uuid",val:e=>e.videoCacheKey},{key:"hb_cache_id",val:e=>e.videoCacheKey}]},Re={buckets:[{precision:2,max:3,increment:.01},{precision:2,max:8,increment:.05},{precision:2,max:15,increment:.25},{precision:2,max:30,increment:1}]},Me={buckets:[{precision:2,max:1,increment:.05},{precision:2,max:4,increment:.01},{precision:2,max:15,increment:.1},{precision:2,max:30,increment:1}]},je=(e,t)=>{if(t.length<1)return!1;const i=Object.fromEntries(t.map(((e,t)=>[e,t+1]))),n=(e=>{const t=["pw-oop-flex_leaderboard","pw-oop-site_skin","trendi_video"],i={};return Object.keys(e).filter((e=>!t.includes(e))).forEach((t=>{if("na"===e[t])return!1;"undefined"!==e[t]&&(i[t]=e[t])})),i})(window.PageOS.floors);return e.forEach((e=>{e.bids.forEach((t=>{void 0!==i[t.bidder]&&i[t.bidder]&&t.params&&$e(e.code,t,n)}))})),e},$e=(e,t,i)=>{const n=t.bidder,r=i[e];if(!r)return!1;switch(n){case"rubicon":case"triplelift":t.params.floor=parseFloat(r);break;case"pubmatic":t.params.kadfloor=r;break;case"gumgum":t.params.bidfloor=parseFloat(r);break;case"appnexus":t.params.reserve=parseFloat(r);break;case"rise":t.params.floorPrice=Number(r);break;case"grid":t.params.bidFloor=parseFloat(r);break;case"openx":t.params.customFloor=Number(r);break;case"ix":t.params.bidFloorCur="USD",t.params.bidFloor=Number(r);break;case"sharethrough":t.params.currency="USD",t.params.floor=parseFloat(r);break;default:S.D4.error("Bidder not recognized:",n)}return t},Ne="s2s_",Fe={accountId:"12556",adapter:"prebidServer",enabled:!0,testing:!0,endpoint:"https://prebid-server.rubiconproject.com/openrtb2/auction",syncEndpoint:"https://prebid-server.rubiconproject.com/cookie_sync",timeout:2250},We=(e,t)=>{const i=Object.assign({},e);for(const e of Object.keys(t)){const n=t[e];"object"!=typeof n||Array.isArray(n)?i[e]=n:i[e]=We(i[e]||{},n)}return i},He=e=>{const t=(0,y.YV)()?.settings||(0,y.a$)();let i={};const n=t?.iabIds,r=t?.language;if(Array.isArray(n))if("IAB"===e){const e=n.filter((e=>e&&-1!==e.indexOf("IAB")));i=ze(e)}else if("nonIAB"===e){const e=n.filter((e=>e&&-1===e.indexOf("IAB")));i=ze(e)}else i=ze(n);if("string"==typeof r&&r){i=We(i,{ortb2:{site:{content:{language:r}}}})}return i},ze=e=>({ortb2:{site:{cat:e,sectioncat:e,pagecat:e,content:{cat:e}}}}),Ve=e=>{const t=He("IAB"),i=He("nonIAB"),n=He(),r=["rise","appnexus","openx","criteo","grid","sharethrough"],o=["ix","gumgum"],s={bidders:r,config:t},a={bidders:o,config:i},d=(()=>{const e=window.ramp.settings.device,t=window.ramp.settings.config.headerBidding[e],i=new Set;if(t&&Array.isArray(t.order))return i.add(t.order);const n=window.ramp.settings.config.headerBidding;n.display&&n.display[e]&&(n.display[e]?.order||[]).forEach((e=>{i.add(e)}));n.video&&n.video[e]&&(n.video[e]?.order||[]).forEach((e=>{i.add(e)}));return i})(),c=Array.from(d).filter((e=>-1===r.indexOf(e)&&o.indexOf(e)&&"amazon"!==e)),l={bidders:Array.from(c),config:n};e.setBidderConfig(s),e.setBidderConfig(a),e.setBidderConfig(l),S.GE.info("populating ortb2 version 1.0",t),S.GE.info("populating ortb2 version 2.2",i),S.GE.info("populating ortb2 both versions",n)},qe=e=>({enabled:!0,useDefaultPreAuction:!1,customPbAdSlot:(t,i)=>((e,t,i)=>{const n=e.adUnits.filter((e=>e.code===t));if(0===n.length)return;if(!window.googletag||!window.googletag.apiReady)return;const r=window.googletag.pubads().getSlots().filter((e=>e.getAdUnitPath()===i));return 0===r.length?n[0].code:1===r.length?i:r.length>1?`${i}#${t}`:void 0})(e,t,i)}),Ge=()=>{const e=window.ramp?.settings?.headerBidding||(0,y.a$)()?.headerBidding;return e&&Object.keys(e).length>0},Xe=e=>{const t=[];e.MD5&&t.push({id:e.MD5,atype:3,ext:{stype:"hemmd5"}}),e.SHA256&&t.push({id:e.SHA256,atype:3,ext:{stype:"hemsha256"}});return{ext:{data:{eids:[{uids:t}]}}}};function Ke(){window.PageOS.Prebid=window.PageOS.Prebid||{},window.PageOS.Prebid.bidMap=window.PageOS.Prebid.bidMap||{},window.PageOS.Prebid.setBidMap=(e,t)=>{if("string"!=typeof e||!Array.isArray(t))return;window.PageOS.Prebid.bidMap[e]=window.PageOS.Prebid.bidMap[e]||{};const i={};t.forEach((e=>{const t=e.bidderName;i[t]=e.bidDelivery})),Object.assign(window.PageOS.Prebid.bidMap[e],i)},window.PageOS.Prebid.afterPrebidLoaded=(e,t,i,n,r,o)=>{window.location.search.toLowerCase().indexOf("pw_diagnostics")>=0&&void 0!==window.PageOS?.BUS&&window.PageOS.BUS.emit("prebid_loaded"),window.PageOS.Prebid.boltAuctions=window.PageOS.Prebid.boltAuctions||[],Ge()&&(window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[]),window.__pwhbjs=window.__pwhbjs||{},window.__pwhbjs.cmd=window.__pwhbjs.cmd||[],window.__pwhbjs.que=window.__pwhbjs.que||[];const s=window.pbjs,a=window.__pwhbjs,d=window.__pwpbjs__;window.PageOS.Prebid.version=d.version;const c=(e=>{const t=window.pwEdgeFlags&&window.pwEdgeFlags.userSyncBidders?window.pwEdgeFlags.userSyncBidders:e&&e.headerBidding?.userSyncBidders&&Array.isArray(e.headerBidding.userSyncBidders)?e.headerBidding.userSyncBidders:Ce;return t.indexOf("*")>-1||t.indexOf("ANY")>-1?{bidders:"*",filter:"include"}:Array.isArray(t)&&0!==t.length?{bidders:t,filter:"include"}:{bidders:"*",filter:"exclude"}})(!!window.ramp?.settings?.config&&window.ramp?.settings||(0,y.a$)()||{}),l=new URLSearchParams(window.location.search);let p=l.has("pb_event_history")?parseInt(l.get("pb_event_history"),10):0;isNaN(p)&&(S.GE.warn("eventHistoryTTL value in the url invalid. Using value by default."),p=0);const u={eventHistoryTTL:p,bidderTimeout:e||3e3,bidderSequence:o?"random":"fixed",enableSendAllBids:!0,enableTIDs:!0,mediaTypePriceGranularity:{banner:Re,video:Me},timeoutBuffer:400,disableAjaxTimeout:!0,useBidCache:!0,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},debug:window.location.hash.toLowerCase().indexOf("prebiddebug")>=0||window.location.search.toLowerCase().indexOf("pw_diagnostics")>=0,pubcid:{enable:t},userSync:{filterSettings:{all:c},enableOverride:!0,syncEnabled:!0,iframeEnabled:!0,syncsPerBidder:8,syncDelay:3e3,topics:{maxTopicCaller:3,bidders:[{bidder:"openx",iframeURL:"https://pa.openx.net/topics_frame.html"},{bidder:"pubmatic",iframeURL:"https://ads.pubmatic.com/AdServer/js/topics/topics_frame.html"}]}},schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"playwire.com",sid:n,hp:1}]}},criteo:{fastBidVersion:"latest"}};d.installedModules.includes("paapi")&&(u.paapi={enabled:!0,gpt:{configWithTargeting:!1},defaultForSlots:1}),window.pwEdgeFlags&&!1===window.pwEdgeFlags.sendAllBids&&(u.enableSendAllBids=!1,Be.standard=Le),void 0!==window.__gpp&&(u.consentManagement=u.consentManagement||{},u.consentManagement.gpp={cmpApi:"iab",timeout:1e3}),window.PageOS.gdpr.userInEU&&-1===window.location.href.indexOf("content.overwolf")&&(u.consentManagement=u.consentManagement||{},u.consentManagement.gdpr={cmpApi:"iab",allowAuctionWithoutConsent:!0,timeout:8e3},window.PageOS.gdpr.hasWindowCMP||(u.deviceAccess=!1)),window.PageOS.ccpaApplies&&(u.consentManagement=u.consentManagement||{},u.consentManagement.usp={timeout:100});const{enabledIdentityProviders:g}=(()=>{const e=(0,y.YV)(),t=(0,y.a$)(),i=window.ramp.settings.device;let n=null;return e?n=Pe(e,i):t&&(n=Pe(t,i)),n?.liveIntentIdEnabled&&void 0===Oe.enrich&&(Oe.configEnabled=!0,Oe.enrich=Math.random()<.95),{enabledIdentityProviders:{id5:n?.id5??!1,liveRamp:n?.liveRamp??!1,liveRamp2:n?.liveRamp2??!1,uid2:n?.uid2??!1,lotame:n?.lotame??!1,sharedId:n?.sharedId??!1,fabrick:n?.fabrick??!1,lexiconId:n?.lexiconId??!1,amazon:n?.amazon??!1,criteoId:n?.criteoId??!1,connectId:n?.connectId??!1,hadronId:n?.hadronId??!1,liveIntentId:Oe.enrich}}})();u.userSync.userIds=u.userSync.userIds||[],Ee(g,u.userSync.userIds),Object.keys(u.userSync.userIds).length>0&&(u.userSync.auctionDelay=50),(g.liveRamp||g.liveRamp2)&&(u.userSync.syncDelay=5e3,d.que.push((()=>{d.enableAnalytics([{provider:"atsAnalytics",options:{pid:"13250"}}])}))),S.GE.info("Headerbidding configurations",{id5:g.id5,liveRamp:g.liveRamp,liveRamp2:g.liveRamp2,uid2:g.uid2,lotame:g.lotame,sharedId:g.sharedId,fabrickId:g.fabrick,lexiconId:g.lexiconId,connectId:g.connectId,ITP:t}),S.GE.info("schain config",u.schain.config.nodes[0]),(r=Object.assign({},Fe,r)).coopSync=!0,r.userSyncLimit=8,u.s2sConfig=r,d.aliasBidder("appnexus","bReal"),d.aliasBidder("ix","indexExchange"),u.firstPartyData=(()=>{(0,y.YV)()?.settings||(0,y.a$)();return{skipEnrichments:!1}})(),window.PageOS.gdpr?.isCOPPA&&(u.coppa=(()=>{const e=Ge();return S.GE.info(`Setting COPPA prebid support as ${e}`),e})(),u.deviceAccess=!1,u.userSync.enabled=!1,u.userSync.syncEnabled=!1),!0===window.ramp.privacy?.prebidNpa&&(u.deviceAccess=!1),u.gptPreAuction=qe(d),Ve(d),d.setConfig(u),d.bidderSettings=Be;const h=(()=>{let e,t;const i=window.PageOS.dmp&&window.PageOS.dmp.ready&&window.PageOS.dmp.getPWHeid();let n={};if(window.ramp&&"object"==typeof window.ramp.dolos||i){const e=["SHA256","MD5"];if(i){const e=window.PageOS.dmp&&window.PageOS.dmp.ready&&window.PageOS.dmp.getPWMD5Heid();n={SHA256:i,MD5:e}}else window.ramp.dolos&&Object.keys(window.ramp.dolos).forEach((t=>{e.includes(t)&&!n[t]&&(n[t]=window.ramp.dolos[t])}))}Object.keys(n).length>0&&(e={ortb2:{user:Xe(n)}});const r=(e,t,i,n,r,o)=>((e=e||{ortb2:{user:{ext:{data:{eids:[]}}}}}).ortb2.user.ext.data.eids.push({source:t,uids:[{id:i,atype:n,ext:{stype:r,persistence:o}}]}),e),o=window.PageOS?.session?.getCookieSyncUID;if(o&&(e=r(e,"playwire.com",o,1,"ppuid","js")),window.PageOS.dmp&&window.PageOS.dmp.ready){const{criteo_id:t}=window.PageOS.dmp.getUserIdentifiers()||{};t&&(e=r(e,"criteo.com",t,1))}return e&&(t={bidders:["criteo"],config:e}),t})();let w;h&&d.setBidderConfig(h,!0),window.PageOS.Prebid.triggerUserSyncs=()=>{window.PageOS.Prebid.userSyncTriggered||(window.PageOS.Prebid.userSyncTriggered=!0,d.triggerUserSyncs(),!1!==window.pwEdgeFlags.pairEnabled&&window.__pwpbjs__.refreshUserIds())},function(e){const t=window.PageOS.dataStream.handleEvent;["bidWon","bidderDone","auctionEnd","auctionInit","addAdUnits","bidResponse","bidRequested","bidTimeout"].forEach((i=>{e.onEvent(i,(e=>{t(i,e)}))}))}(d),d.onEvent("setTargeting",(e=>{const t=window.PageOS.Prebid.bidMap[window.ramp.pbKey];t&&Object.keys(e).forEach((i=>{const n=e[i].hb_bidder;if(!n)return;const r="client_side"===t[n]?"client":"server",o=window.ramp.settings.slots[i];o&&window.googletag.cmd.push((()=>{o.slot&&(o.slot.setTargeting("bid_type",r),"server"===r&&f(o.slot,e[i]))}))}))})),d.onEvent("addAdUnits",(()=>{Ge()&&(s.adUnits=d.adUnits.filter((e=>"prebid_video"!==e.code))),a.adUnits=d.adUnits.filter((e=>"prebid_video"===e.code))})),window.__pwpbjs__.onEvent("auctionInit",(e=>{w=e.adUnits&&e.adUnits.some((e=>e.bids&&e.bids.some((e=>e.userIdAsEids&&e.userIdAsEids.some((e=>"liveintent.com"===e.source||e.uids&&e.uids.some((e=>e.ext&&"liveintent.com"===e.ext.provider)))))))),Ae(w)})),window.__pwpbjs__.onEvent("bidWon",(()=>{Ae(w,0===window.__pwpbjs__.getAllPrebidWinningBids().length)}));const m=e=>{const t=Array.isArray(e)?e:[e];t.forEach((e=>{e.mediaTypes?.banner?.sizes&&(e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.filter((e=>2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1])))})),d.addAdUnits(t)},f=(e,t)=>{Object.keys(t).forEach((i=>{const n=i.slice(0,20),r=t[i];e.clearTargeting(i),e.setTargeting(n,r)}))},_=(t,i)=>{const n=window.PageOS.Prebid.bidMap,r=d.getConfig("s2sConfig"),o=(e=>{if(e&&e.includes("prebid_video"))return(0,y.a$)()?.headerBidding;let t=window.ramp?.settings?.config?.headerBidding;if(!t||!e)return;t=e.includes("corner_ad_video")||e.includes("precontent_ad_video")?t.video||t:t.display||t;const i=window.ramp.settings.device;return t="tablet"===i&&void 0===t.tablet?t.mobile:t[i],t})(i.adUnitCodes);o?.s2sTimeout?r.timeout=o.s2sTimeout:i.timeout&&(r.timeout=e-200);const s=[],a={aliases:{}};n&&n[t]&&Object.keys(n[t]).forEach((e=>{const i=n[t][e];"server_side"===i?(s.push(e),((e,t)=>{"districtm"===e?t.districtm="appnexus":0===e.indexOf(Ne)&&(t[e]=`${e.replace(Ne,"")}`)})(e,a.aliases)):"openrtb"===i&&(s.push(e),a.aliases[e]=`${e}_ortb`)})),r.bidders=s,r.extPrebid=a,d.setConfig({s2sConfig:r});const c=i.bidsBackHandler;i.bidsBackHandler=e=>{const t=i;c(e),t.adUnitCodes.forEach((e=>{let t="",i={};"prebid_video"===e?(t="prebidVideoSlotAuctionEnd",i={unit_type:e="trendi_video",slot_id:e,refresh_count:null},window.PageOS.pagePulse.markPerformanceEvent(t,i)):(t="prebidSlotAuctionEnd",i={unit_type:window.ramp?.settings?.slots[e]?.type||e,slot_id:e,refresh_count:window.ramp?.settings?.slots[e]?.pbjsRefreshes||0},window.PageOS.pagePulse.markPerformanceEvent(t,i))}))},d.requestBids(i)};Ge()&&(s.que.push=e=>{d.que.push(e)},s.adUnits=s.adUnits||[],s.addAdUnits=e=>{m(e)},s.removeAdUnit=e=>{d.removeAdUnit(e),s.adUnits=d.adUnits.filter((e=>"prebid_video"!==e.code))},s.requestBids=e=>{const t=window.__pwpbjs__.adUnits,i=window.ramp?.settings?.headerBidding?.setPriceFloor;var n,r;Array.isArray(i)&&(n=t,void 0!==(r=i)&&je(n,r));const o=e.adUnitCodes;o&&o.forEach((e=>{const t={unit_type:window.ramp?.settings?.slots[e]?.type||e,slot_id:e,refresh_count:window.ramp?.settings?.slots[e]?.pbjsRefreshes||0};window.PageOS.pagePulse.markPerformanceEvent("prebidSlotAuctionStart",t)})),_("pbjs",e)},s.setTargetingForGPTAsync=(e,t)=>{"function"==typeof t?d.setTargetingForGPTAsync(e,t):d.setTargetingForGPTAsync(e)},s.renderAd=(e,t)=>{d.renderAd(e,t)},s.triggerUserSyncs=()=>{window.PageOS.Prebid.triggerUserSyncs()}),a.que.push=e=>{d.que.push(e)},a.adUnits=a.adUnits||[],a.getConfig=()=>d.getConfig(),a.requestBids=e=>{void 0===e.adUnitCodes&&(e.adUnitCodes=["prebid_video"]);const t=e.adUnitCodes;t&&t.forEach((e=>{if("prebid_video"===e){const e="trendi_video",t={unit_type:window?.ramp?.settings?.slots[e]?.videoType,slot_id:e,refresh_count:null};window.PageOS.pagePulse.markPerformanceEvent("prebidVideoSlotAuctionStart",t)}})),_("__pwhbjs",e)},a.addAdUnits=e=>{m(e)},a.removeAdUnit=e=>{d.removeAdUnit(e),a.adUnits=d.adUnits.filter((e=>"prebid_video"===e.code))},a.triggerUserSyncs=()=>{window.PageOS.Prebid.triggerUserSyncs()},"function"==typeof i&&i(),window.PageOS.BUS.emit("prebid_loaded")},window.PageOS.Prebid.init=({timeout:e,ITP:t,callback:i,sid:n,s2sConfig:r,randomize:o=!1})=>{if(r=r||{bidders:[]},n&&"string"!=typeof n&&(n=n.toString()),window.PageOS.Prebid.libLoaded)return void("function"==typeof i&&i());window.PageOS.Prebid.libLoaded=!0;let s=navigator.userAgent.toLowerCase().indexOf("blitz")>=0||location.origin.indexOf("blitz.gg")>=0?"https://cdn.intergi.com/prebid/prebid_blitz.js":"https://cdn.intergi.com/prebid/prebid.js";s=window.location.host.indexOf("ffxivteamcraft")>-1?"https://cdn.intergi.com/prebid/prebid_teamcraft.js":"https://cdn.intergi.com/prebid/prebid.js",void 0!==window._pwUserContentEncoding&&("gzip"===window._pwUserContentEncoding?s=`${s}.gz`:"br"===window._pwUserContentEncoding&&(s=`${s}.br`)),window.__pwpbjs__&&window.__pwpbjs__.libLoaded?(window.__pwpbjs__=window.__pwpbjs__||{},window.__pwpbjs__.que=window.__pwpbjs__.que||[],window.__pwpbjs__.que.push((()=>{window.PageOS.Prebid.afterPrebidLoaded(e,t,i,n,r,o)}))):Se(s,!0,(()=>{window.PageOS.Prebid.afterPrebidLoaded(e,t,i,n,r,o)}))},window.PageOS.Prebid.checkBiddersOverride=(e,t)=>{const i=!!window.ramp?.override?.headerBidding&&window.ramp.override.headerBidding;if(!i)return;let n=e.order,r=!(!i||void 0===i[t])&&i[t].client;n&&Array.isArray(r)&&(e.order=r.filter((e=>n.includes(e)))),n=e.s2sBidders,r=!(!i||void 0===i[t])&&i[t].s2sBidders,n&&Array.isArray(r)&&(e.s2sBidders=r.filter((e=>n.includes(e))))}}function Je(e){return new Promise(((t,i)=>{const{method:n,data:r,timestamp:o,contentTypeHeader:s}=e;let a;const d=e.url,c=new XMLHttpRequest;c.onreadystatechange=function(){if(2===c.readyState)a=c.getResponseHeader("HW-Country-Code");else if(4===c.readyState)if(200===c.status){const e=c.responseText;t({data:e,timestamp:o,countryCode:a})}else i(o)},c.open(n,d,!0),s&&c.setRequestHeader("Content-Type",s),c.send(r)}))}var Ye=i(3070);const Ze=(e,t)=>{if(e.features&&e.features.video&&e.features.video[t]){const i=e.features.video[t],n={},r=i.rules.length,o={},s=window.ramp.settings,a=(e,t)=>{for(const i in e)(void 0===o[i]||o[i]<t)&&(n[i]=e[i],o[i]=t)};if(r>0){const e="tablet"===s.device?"desktop":s.device;let t="ros";!0===s.atHome&&(t="hp"),null!==s.cp&&(t=`${s.cp}`);for(let n=0;n<r;n++){const r=i.rules[n].dimensions,o=r.device.toLowerCase(),s=r.path?r.path.toLowerCase():r.section.toLowerCase(),d=i.rules[n].rule;"any"===o&&"ros"===s&&a(d,0),o===e&&"ros"===s&&a(d,1),"any"===o&&s===t&&a(d,2),o===e&&s===t&&a(d,3),"any"===o&&s===`cp[${t}]`&&a(d,4),o===e&&s===`cp[${t}]`&&a(d,5)}}return 0===Object.keys(n).length?(S.XW.info("Feature Check",{enabled:0}),!1):(S.XW.info("Feature Check",{enabled:1,rules:n}),n)}return S.XW.info("Feature Check",{enabled:0}),!1},Qe="ANY",et="Matched",tt="Matched Singular",it="Matched Multiple",nt=(e,t,i,n)=>{let r=0;switch(e){case Qe:r=0;break;case it:r=1;break;case tt:r=2}switch(t){case Qe:r+=2*r;break;case it:r+=2*r+1;break;case tt:r+=2*r+2}switch(i){case Qe:r+=r;break;case et:r+=r+1}switch(n){case Qe:r+=r;break;case et:r+=r+1}return r},rt=(e,t,i)=>{const n={},r={},o=(e,t)=>{for(const i in e)(void 0===r[i]||r[i]<t)&&(n[i]=e[i],r[i]=t)};if(t.unit&&!window.PageOS.adUtils.adRequestCheck(t))return!1;if("site_skin"===t.unit&&0===t.rules.length&&t.rules.push({dimensions:{device:["ANY"],position:"ANY",orientation:"ANY",geo:null},rule:{on:!0}}),t.rules.length>0){const n=e.device,r=e.deviceOrientation,s=e.config.countryGroups;if(void 0!==s)for(const e in s)s[e]=s[e].map((e=>e.toLowerCase()));for(let a=0;a<t.rules.length;a++){let d=Qe,c=Qe,l=Qe,p=Qe,u=t.rules[a].dimensions.geo;if(u){if(u=u.map((e=>e.toLowerCase())),void 0!==s)for(const e in s)u.includes(e)&&(u=[...u,...s[e]]);const t=e.country&&e.country.toLowerCase();let i=!1;if(t&&u.includes(t)&&(i=!0),!i)continue;d=1===u.length?tt:it}let g=t.rules[a].dimensions.device;g=Array.isArray(g)?g.map((e=>e.toLowerCase())):[g.toLowerCase()];let h=!1;g.includes("desktop")&&!g.includes("tablet")&&"tablet"===n&&(h=!0);const w=g.includes(n);if(!g.includes("any")&&!w&&!h)continue;w&&(c=1===g.length?tt:it);const m=t.rules[a].dimensions.position.toLowerCase(),f=t.rules[a].dimensions.orientation&&t.rules[a].dimensions.orientation.toLowerCase(),y=t.rules[a].rule,_=m===i.toLowerCase();if("any"!==m&&!_)continue;l=_?et:Qe;const v=f===r;if(f&&"any"!==f&&!v)continue;p=v?et:Qe;o(y,nt(d,c,l,p))}}return 0!==Object.keys(n).length&&(void 0===n.on||!1!==n.on)&&n};var ot=i(4113);const st=e=>{const t=window.ramp.settings,i=(e=>{if(t.units.sec.length>0)for(let i=0;i<t.units.sec.length;i++)if(t.units.sec[i].unit.toLowerCase()===e.toLowerCase())return t.units.sec[i];for(let i=0;i<t.units.ros.length;i++)if(t.units.ros[i].unit.toLowerCase()===e.toLowerCase())return t.units.ros[i];return!1})(e);if(!i)return!1;if(!1===i.on)return!1;const n=rt(t,i,"oop");return t.trendiVideoSection=i.path??i.section,n},at=()=>{const e=document.querySelectorAll("div[data-pw-video]");if(e&&e[0]){const t=e[0],i=t.dataset.config;if(window.ramp.handleBoltEvents=window.ramp.handleBoltEvents||{},window.ramp.handleBoltEvents.boltVideoPlayer=()=>!0,!i)return;const n=(0,ot.AJ)({boltConfig:i,id:"bolt_video_player",onReady:"window.ramp.handleBoltEvents.boltVideoPlayer"});Object.keys(t.dataset).forEach((e=>{n.dataset[e]=t.dataset[e]})),t.appendChild(n)}},dt=()=>{const e=st("trendi_video"),t=window.ramp.settings;if(e)return t.slots.trendi_video=e,t.slots.trendi_video.videoType="Bolt Player",S.XW.info("Loading Trendi video module",e),i.e(450).then(i.bind(i,5895)).then((({default:e})=>{new e(t.slots.trendi_video).init()})).catch((e=>{delete t.slots.trendi_video,S.XW.error("Trendi video module",{message:e.message,stack:e.stack})})),void(t.stickyVideoOn=!0)},ct=()=>{const e=st("trendi_slideshow"),t=window.ramp.settings;if(e)return t.slots.trendi_slideshow=e,t.slots.trendi_slideshow.videoType="Bolt Player",S.XW.info("Loading Trendi slideshow module",e),i.e(183).then(i.bind(i,884)).then((({default:e})=>{new e(t.slots.trendi_slideshow).init()})).catch((e=>{delete t.slots.trendi_slideshow,S.XW.error("Trendi slideshow module",{message:e.message,stack:e.stack})})),void(t.stickyVideoOn=!0)};function lt(){const e=window.ramp.settings;if(window.PageOS.tyche.createVideoUnit=e=>{window.ramp.settings.slots[e]||("trendi_video"===e&&dt(),"trendi_slideshow"===e&&ct())},!window.ramp.passiveMode){if(dt(),window.ramp.settings.slots.trendi_video)return;if(ct(),window.ramp.settings.slots.trendi_slideshow)return}const t=Ze(e.config,"sticky");if(t&&!0===t.on)i.e(83).then(i.bind(i,3244)).then((({default:i})=>{e.stickyVideoOn=!0,new i(t)}));else{const t=Ze(e.config,"sidebarSticky");t&&!0===t.on&&i.e(83).then(i.bind(i,3667)).then((({default:i})=>{e.stickyVideoOn=!0,new i(t)}))}}const pt=(e,t)=>{window.rampMinimal?S.Ay.warn(`Minimal RAMP.js skipped ${t}`):e&&"function"==typeof e&&e()};class ut{constructor(){window.ramp=window.ramp||{},window.PageOS.tyche=window.PageOS.tyche||{},this.MODULE=window.PageOS.tyche,this.MODULE.findUnitsBySection=this.findUnitsBySection,this.MODULE.checkRules=rt,this.MODULE.fetchRSS=Ye.HF,this.MODULE.getRSSdata=Ye.zj}init(){!0!==this.MODULE.loaded&&(this.device=(0,A.Pf)(),this.isMobile=this.checkIsMobile(),window.ramp.settings={atHome:"/"===window.location.pathname,config:null,cp:null,device:this.device,deviceOrientation:(0,A.vc)(),deviceSelector:this.isMobile?"mobi":"desk",isMobile:this.isMobile,tags:null,slots:{},units:{ros:[],sec:[]},scrollTriggered:window.PageOS.scrollTriggered||!1,clickTriggered:window.PageOS.clickTriggered||!1},window.ramp.activeConfig&&(window.ramp.settings.config=window.ramp.activeConfig),this.settings=window.ramp.settings,this.getTycheConfig().then((()=>this.findUnitsBySection())).then((e=>{const t=window.PageOS.userData;t&&"boolean"==typeof t.ready&&(pt(lt,"Video module"),e&&pt(this.getTycheJs.bind(this,window.rampPath),"Tyche module")),window.PageOS.BUS.on("userData_ready",(()=>{pt(lt,"Video module"),e&&pt(this.getTycheJs.bind(this,window.rampPath),"Tyche module")}))})).catch((e=>{"AdBlockerDetected"===e?S.D4.error("Ad Blocker Detected, Tyche loading failed!"):S.D4.error("window.rampPath not found.")})))}handleConfigResponse(e,t,i){const n=Date.now()-t,r=window.PageOS.adsPerformance?e:JSON.parse(e),o=this.settings;if(o.country=i,window.ramp.ttfConfig=n,r.settings.customCss){const e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",t.id="pwCustomCSS",t.styleSheet?t.styleSheet.cssText=r.settings.customCss:t.appendChild(document.createTextNode(r.settings.customCss)),e.appendChild(t)}else if(r.settings.customCssSrc){const e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("link");t.rel="stylesheet",t.href=r.settings.customCssSrc,e.appendChild(t)}o.config=r,o.cp=window.ramp.forcePath||(0,y.X8)(this.settings),S.D4.info("Custom path check.",{custom:o.cp?1:0,path:o.cp||"/"});const s={countryCode:i,isCOPPA:this.getCOPPA(r),ctrTracking:r.settings.ctrTracking},a=(0,y.al)("pwcc");a&&(o.country=a,o.config.settings.cmp=!0),window.PageOS.BUS.emit("gotConfig",s)}getTycheConfig(){return new Promise(((e,t)=>{if(window.PageOS.adsPerformance)return this.handleConfigResponse(window.ramp.activeConfig,Date.now(),window._pwUserCC),e();let i=!1;i=i||(0,y.al)("tyche_config"),!i&&window.ramp&&window.ramp.config&&(i=window.ramp.config);const n=window.location.hostname;if(n.indexOf("coolmathgames.com")>-1?i="//cdn.intergi.com/cmg/banner.json":n.indexOf("coolmath.com")>-1&&(i="//cdn.intergi.com/cmg/coolmath/banner.json"),!i){const e="No Tyche config url found";return S.D4.error(e),t(e)}Je({url:i,method:"get",timestamp:Date.now()}).then((({data:t,timestamp:i,countryCode:n})=>{this.handleConfigResponse(t,i,n),e()})).catch((e=>{const i="Error retrieving Tyche config";S.D4.error(i,{message:e.message,stack:e.stack}),t(`${i}: ${e}`)}))}))}findUnitsBySection(e){const t=window.ramp.settings;return new Promise(((i,n)=>{try{let n=null;null!==t.cp&&(n=`CP[${t.cp.toLowerCase()}]`),e&&(n=`CP[${e.toLowerCase()}]`),t.atHome&&null===t.cp&&(n="HP"),t.units.ros=[],t.units.sec=[];let r=!1;for(let e=0;e<t.config.units.length;e++){const i=t.config.units[e];"trendi_video"!==i.unit&&"trendi_slideshow"!==i.unit&&(r=!0);const o=i.path??i.section;null!==n&&o.toLowerCase()===n.toLowerCase()?t.units.sec.push(i):"ROS"===o&&t.units.ros.push(i)}S.D4.info("Units by section",t.units,null),i(r)}catch(e){const t="Error in find Units";S.D4.error(t,{message:e.message,stack:e.stack}),n(`${t}: ${e}`)}}))}getTycheJs(e){return new Promise(((t,i)=>{const n="dev"===window.pwEdgeFlags.cdn?"devcdn.intergi.com":"cdn.intergi.com";window.pwEdgeFlags&&window.pwEdgeFlags.tycheOverride?e=`//${n}/hera/releases/${window.pwEdgeFlags.tycheOverride}/tyche.js`:window.ramp.activeConfig&&window.ramp.activeConfig.ad_code&&window.ramp.activeConfig.ad_code.tyche?e=`//${n}/hera/releases/${window.ramp.activeConfig.ad_code.tyche}/tyche.js`:window.pwEdgeFlags.tycheVersion&&(e=`//${n}/hera/releases/${window.pwEdgeFlags.tycheVersion}/tyche.js`),e||(e="//cdn.intergi.com/hera/releases/4.5.6/tyche.js");const r=document.createElement("script");r.src=e,r.type="text/javascript",document.head.appendChild(r),r.onerror=e=>{this.MODULE.loaded=!1;const t=`Error: Tyche Blocked! ${e}`;S.D4.error(t),i(t)},r.onload=()=>{this.MODULE.loaded=!0,S.D4.info("Tyche Loaded!"),t()}}))}checkIsMobile(){let e;const t="Tyche mobile check.";return void 0!==window.ramp.isMobile?(e="false"!==window.ramp.isMobile&&!1!==window.ramp.isMobile,S.D4.info(t,{useDevice:0,isMobile:window.ramp.isMobile?1:0})):(e="mobile"===this.device,S.D4.info(t,{useDevice:1,isMobile:e?1:0})),window.ramp.isMobile=e,e}getCOPPA(e){try{const{server:t}=e;return"DFP_COPPA"===t}catch(e){return}}}const gt=e=>`https://fingerprinter-production.herokuapp.com/pwheids/${e}/audience_segments`,ht=class{async initializePWHEid(){if(this.eid=this.getEid(),(e=>{if(e){if((e=(e=e.trim()).toLowerCase()).endsWith("@gmail.com")){const t=(e=e.replace(/\+[^@]*/g,"")).indexOf("@");let i="";for(let n=0;n<t;n++)"."!==e[n]&&(i+=e[n]);i+=e.slice(t),e=i}}})(this.eid),this.eid){const{hashHex:e,hashBase64:t}=await(0,y.h1)(this.eid,"SHA-256");this.pwheid=e,this.pwheidBase64=t,this.pwheidMD5=await(0,y.Fx)(this.eid),W("_pw_pwheid",this.pwheid),W("_pw_pwheid_md5",this.pwheidMD5),W("_pw_pwheid_base64",this.pwheidBase64)}this.pwheid=this.pwheid||localStorage.getItem("_pw_pwheid"),this.pwheidMD5=this.pwheidMD5||localStorage.getItem("_pw_pwheid_md5"),this.pwheidBase64=this.pwheidBase64||localStorage.getItem("_pw_pwheid_base64"),window.PageOS.BUS.emit("pwheid_ready",this.pwheid),this.pwheidBase64&&window.PageOS.BUS.emit("pwheid_base64_ready",this.pwheidBase64)}constructor(e){this.isUsingCloudService=void 0===window._pwFpSampling||Math.random()<window._pwFpSampling,this.isUserInEU=window.PageOS.gdpr.userInEU,this.disableDmp=e,this.isHemFromUrl=!1;const t=(()=>{if(0===window.location.search.length)return;let e={};var t;if(t=window.location.search,e={containsSHA256:/pw_id_sha256/.test(t),containsMD5:/pw_id_md5/.test(t),containsSHA1:/pw_id_sha1/.test(t)},e.containsSHA256||e.containsMD5||e.containsSHA1){const e=new URLSearchParams(window.location.search),t={};return e.forEach(((e,i)=>{t[i]=e})),t}return!1})();t?(this.eid={md5:t.pw_id_md5?t.pw_id_md5:void 0,sha1:t.pw_id_sha1?t.pw_id_sha1:void 0,sha256:t.pw_id_sha256?t.pw_id_sha256:void 0},this.isHemFromUrl=!0,t.pw_id_sha256&&(this.pwheid=t.pw_id_sha256,W("_pw_pwheid",this.pwheid)),this.pwheid=this.pwheid||localStorage.getItem("_pw_pwheid"),window.PageOS.BUS.emit("pwheid_ready",this.pwheid)):this.initializePWHEid()}init(){this.pwheidDataPromise=this.getPWheidDataPromise(),this.checkPurgedSegmentsPWheid=F("_pw_pwheid_segment_ids_purged","false"),!0!==this.checkPurgedSegmentsPWheid&&(H("_pw_pwheid_segment_ids"),W("_pw_pwheid_segment_ids_purged",!0)),this.matchedSegmentsPWheid=F("_pw_pwheid_segment_ids",[])}getEid(){if(window.ramp&&void 0!==window.ramp.up){const{format:e}=window.ramp.up;let{eid:t}=window.ramp.up;return t="EUP1"===e?z(t):t,t}}getPWHeid(){return this.pwheid}getPWMD5Heid(){return this.pwheidMD5}getDataPWheid(){const e=gt(this.pwheid);return new Promise((t=>{if(this.isUserInEU||this.disableDmp||!this.isUsingCloudService)return void t();const i=new XMLHttpRequest;i.open("GET",e,!0),i.onload=()=>{const e=JSON.parse(i.responseText).audience_segments;Array.isArray(e)&&e.length>0&&(this.matchedSegmentsPWheid=[...new Set(this.matchedSegmentsPWheid.concat(e))],W("_pw_pwheid_segment_ids",this.matchedSegmentsPWheid),t(e)),t(e)},i.onerror=()=>{S.ho.warn("Error fetching data for playwire hashed email."),t()},i.send()}))}getAudienceData(e){Array.isArray(e)&&e.length!==this.matchedSegmentsPWheid.length&&this.updateDataPWheid({audience_segments:this.matchedSegmentsPWheid})}getAudienceSegmentsConfig(e){Array.isArray(e)&&e.length>0&&(this.matchedSegmentsPWheid=[...new Set(this.matchedSegmentsPWheid.concat(e))]),W("_pw_pwheid_segment_ids",this.matchedSegmentsPWheid)}updateDataPWheid(e){if(!this.pwheid)return;if(this.isUserInEU||this.disableDmp||!this.isUsingCloudService)return;S.ho.info("Updating audience_segments in the PWheid service");const t=gt(this.pwheid),i=new XMLHttpRequest;i.open("PATCH",t),i.setRequestHeader("Content-type","application/json"),i.onerror=()=>{S.ho.warn("Error sending audience segments to endpoint.")};const n=JSON.stringify(e);i.send(n)}getPWheidDataPromise(){return this.pwheid?this.getDataPWheid():Promise.resolve()}getAudienceSegmentsPWheid(){return this.matchedSegmentsPWheid}addImpressionEventId(e,t){const i=this.matchedSegmentsPWheid.length;if(Array.isArray(e)&&e.length>0&&(this.matchedSegmentsPWheid=[...new Set(this.matchedSegmentsPWheid.concat(e))]),i<this.matchedSegmentsPWheid.length){W("_pw_pwheid_segment_ids",this.matchedSegmentsPWheid);const e=this.matchedSegmentsPWheid.filter((e=>!t.includes(e)));this.pwheid&&i!==e.length&&this.updateDataPWheid({audience_segments:e})}}},wt=class{constructor(){}init(){this.matchedCookieSyncSegments=F("pw_uuid_segment_ids",[]),this.getCookieSyncData()}getCookieSyncData(){!0===window.PageOS.userData.ready?window.PageOS.userData.get("pw_uuid_segment_ids",(e=>{e&&"object"==typeof e&&e.data&&(e=e.data),this._recievedCookieSyncData=!0,Array.isArray(e)&&(this.matchedCookieSyncSegments=[...new Set(this.matchedCookieSyncSegments.concat(e))]),this.storeCookieSyncSegments(this.matchedCookieSyncSegments)})):this._recievedCookieSyncData=!0}storeCookieSyncSegments(e){W("pw_uuid_segment_ids",this.matchedCookieSyncSegments),this._recievedCookieSyncData&&window.PageOS.userData.set("pw_uuid_segment_ids",e,!0)}getAudienceSegmentsConfig(e){Array.isArray(e)&&e.length>0&&(this.matchedCookieSyncSegments=[...new Set(this.matchedCookieSyncSegments.concat(e))],this.storeCookieSyncSegments(this.matchedCookieSyncSegments))}addImpressionEventId(e){Array.isArray(e)&&e.length>0&&(this.matchedCookieSyncSegments=[...new Set(this.matchedCookieSyncSegments.concat(e))],this.storeCookieSyncSegments(this.matchedCookieSyncSegments))}};const mt=new class{constructor(){this.pwWorkerMap=new Map}createWorker(e,t,i={}){const n=new Blob([e],{type:"application/javascript"}),r=window.URL.createObjectURL(n),o=new Worker(r),s={worker:o,isActivated:!0,options:i};return this.pwWorkerMap.set(t,s),o}invokeWorkerWithOptions(e,t){const i=this.getWorker(e);i&&i.worker?i.worker.postMessage({...t,options:i.options}):S.Ay.error(`Web worker ${e} is not activated`)}terminateWorker(e){const t=this.getWorker(e);t&&(t.worker.terminate(),this.pwWorkerMap.delete(e))}getWorker(e){return this.pwWorkerMap.has(e)?this.pwWorkerMap.get(e):null}};window.ramp.setUserProfile=e=>{window.ramp.up=e,void 0!==window.PageOS.dmp&&window.PageOS.dmp.init()};const ft=["pw_uuid","_pw_audience_categories","_pw_audience_segments","pw_uuid_segment_ids","_pw_audience_impression_event_ids","_pw_pwheid_segment_ids"],yt=class{_apiRegistered=!1;_audienceSegmentsConfig=[];constructor({isCOPPA:e}){if(window.PageOS.dmp=window.PageOS.dmp||{},this.hasLocalStorage=window.PageOS.environment.hasLocalStorage,this.isCOPPA=e,this.isUserInEU=window.PageOS.gdpr.userInEU,this.metaKeywords=[],this.userProfile={},this.disableDmp=!0===window.ramp.disableDmp||e,this.disableDmp)return window.PageOS.dmp.ready=!1,void window.PageOS.BUS.emit("dmp_ready");!1!==window.PageOS.userData.ready?(this.MODULE=window.PageOS.dmp,this.segmentsPromise=this.getAudienceSegmentsConfig(),this.createAudienceSegmentsWorker().then((e=>{this.audienceSegmentsWorker=e})).catch((e=>{S.ho.warn("Error creating Web Worker:",e)})),this.init()):this._handleUserOptOut()}init(){this.hashedEmailHandler=new ht(this.disableDmp),this.hashedEmailHandler.init(),this.cookieUuidHandler=new wt,this.cookieUuidHandler.init(),this.extractUserProfile(),this.audienceCategories=[...new Set(F("_pw_audience_categories",[]))],this.impressionEventIds=F("_pw_audience_impression_event_ids",[]),this.collectPageKeywords(),this._registerPublicAPI(),!1===this.isUserInEU||"boolean"==typeof window.PageOS.gdpr.hasWindowCMP?this.initAudienceData():window.PageOS.BUS.on("gdpr_ready",(()=>{this.initAudienceData()}),!0)}createAudienceSegmentsWorker(){return new Promise(((e,t)=>{try{e(mt.createWorker('(()=>{function e(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}self.onmessage=function(e){var t=e.data,n=t.dataToProcess,a=t.options,o=r(n,a);self.postMessage(o)};var r=function(e,r){var t=e.audienceSegments,n=e.categories,a=e.impressionEventIds,o=e.keyValues,s=e.keywords,c=r.hostname,u=r.referrer||"",f=r.urlPath;return i({audienceSegments:t,categories:n,impressionEventIds:a,keyValues:o,keywords:s,extractedHostname:c,extractedReferrer:u,extracteUrlPath:f})},t=["meta_keywords","content_categories","page_domains","url_paths","referrer_domains","ops_campaigns","user_profiles"],n=function(e){var r=function(e){return e.toLowerCase().replace("www.","")};return"string"==typeof e?r(e):Array.isArray(e)?e.map((function(e){return r(e)})):e},a=function(r,t){var n,a=function(r,t){var n="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=function(r,t){if(r){if("string"==typeof r)return e(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(r,t):void 0}}(r))||t&&r&&"number"==typeof r.length){n&&(r=n);var a=0,o=function(){};return{s:o,n:function(){return a>=r.length?{done:!0}:{done:!1,value:r[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,c=!1;return{s:function(){n=n.call(r)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,s=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw s}}}}(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(s(o,t))return!0}}catch(e){a.e(e)}finally{a.f()}return!1},o=function(e,r){return Object.keys(e).some((function(t){return Object.keys(e[t]).some((function(n){return!!r[n]&&(Array.isArray(e[t][n])?e[t][n].some((function(e){return s(e,r[n])})):r[n]&&s(e[t][n],r[n]))}))}))},s=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var n=function(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,"\\\\$&")}(r);n=n.replace(/_/g,"[^0-9A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u024f\u1e00-\u1eff]?"),!t||n.startsWith("~")||n.endsWith("~")?n=(n=n.startsWith("~")?n.slice(1):"(^| )".concat(n)).endsWith("~")?n.slice(0,-1):"".concat(n,"( |$)"):(n.startsWith("~")&&n.endsWith("~")&&(n=n.slice(1,-1)),n="(^|\\\\.)".concat(n,"$"));var a=new RegExp(n);return e.match(a)}catch(e){return console.warn("Error parsing regular expression",{message:e.message,stack:e.stack}),!1}},i=function(e){var r,i=e.audienceSegments,c=void 0===i?[]:i,u=e.categories,f=void 0===u?[]:u,l=e.keywords,m=void 0===l?[]:l,d=e.impressionEventIds,g=void 0===d?[]:d,p=e.keyValues,v=void 0===p?{}:p,y=e.extractedHostname,h=e.extractedReferrer,w=e.extracteUrlPath,_=n(y||""),A=n(function(e){var r=e;try{r=/\\/\\/(.[^/]+)/.exec(e)[1]}catch(e){}return r}(h||"")),b=n(w||""),k=[],S=[];return r=c,Array.isArray(r)&&r.length>0?(c.forEach((function(e){for(var r=!0,i=e.id,c=e.definition,u=c.length,l=0;l<u;l++){var d=c[l],p=d.group,y=d.values,h=d.operator;if(t.includes(p)){if(0!==l&&r&&"OR"===h){k.push("".concat(i));break}(r||("OR"===h&&(r=!0),"AND"!==h))&&("meta_keywords"===p?r=y.some((function(e){var r=n(e);return a(m,r)})):"content_categories"===p?r=y.some((function(e){return f.includes(n(e))})):"page_domains"===p?r=y.some((function(e){var r=n(e);return s(_,r,!0)})):"url_paths"===p?r=y.some((function(e){var r=n(e);return s(b,r)})):"referrer_domains"===p?r=y.some((function(e){var r=n(e);return s(A,r,!0)})):"user_profiles"===p?r=y.some((function(e){var r=n(e);return o(v,r)})):"ops_campaigns"===p&&(r=y.some((function(e){return g.includes(n(e))})))&&S.push("".concat(i)),l===u-1&&r&&k.push("".concat(i)))}}})),{matchedSegments:k,campaignSegments:S}):{matchedSegments:k,campaignSegments:S}}})();',"audienceSegmentsWorker",{hostname:window.location.hostname,referrer:document.referrer||"",urlPath:window.location.pathname||""}))}catch(e){t(e)}}))}initAudienceData(){this.disableDmp||(this.getAudienceData().then((()=>{S.ho.info("Finish gathering audience data")})),this.handleCollectIdentifiers().then((e=>{this.userIdentifiers=e,S.ho.info("Collected identifiers:",{identifiers:e})})))}getAudienceData(){return Promise.all([this.segmentsPromise,this.hashedEmailHandler.pwheidDataPromise]).then((e=>{const t=e[1];this.hashedEmailHandler.getAudienceData(t)})).finally((()=>{this.MODULE.ready=!0,window.PageOS.BUS.emit("dmp_ready"),this.streamData()}))}extractUserProfile(){if(window.ramp&&void 0!==window.ramp.up){const{format:e,data:t}=window.ramp.up;if(t){const i="UUP1"===e?t:JSON.parse(z(t));this.userProfile={data:{[window.ramp.settings.config.id]:i},format:e}}}}updateSegments(e,t,i,n,r){const o=i.filter((t=>!e.includes(t)));Array.isArray(t)&&t.length!==o.length&&n(r,{audience_segments:o})}streamData(){window.PageOS.dataStream.handleEvent("registerRampSession",{uuid:window.PageOS.session.getCookieSyncUID,uuid_segment_ids:this.cookieUuidHandler.matchedCookieSyncSegments,visitor_id:window.PageOS.session.getCookieSyncUID,visitor_segment_ids:this.cookieUuidHandler.matchedCookieSyncSegments,pwheid:this.hashedEmailHandler.pwheid,pwheid_segment_ids:this.hashedEmailHandler.matchedSegmentsPWheid,eid:this.hashedEmailHandler.eid,is_hem_from_url:!!this.hashedEmailHandler.isHemFromUrl&&this.hashedEmailHandler.isHemFromUrl})}getMetaKeywords(){return this.metaKeywords}getKeyValues(){return this.userProfile?.data}collectPageKeywords(){const e=e=>{e.split(/[`!#^*()+\=\n\[\]{};:"\\|,<>\/?~]|\. /).map((e=>e.trim())).forEach((e=>{e=B(e),this.metaKeywords.includes(e)||this.metaKeywords.push(e)}))};document.querySelectorAll("h1, h2").forEach((t=>{e(t.textContent)}));const t=document.head.querySelector('meta[name="description"]'),i=document.head.querySelector('meta[name="keywords"]');t&&e(t.content),i&&e(i.content)}getAudienceSegmentsConfig(){return new Promise((e=>{const t=this,i=(i,n)=>{t.campaignSegments=n,S.ho.debug("Matched segments for the page:",{campaignSegments:n,matchedSegments:i}),Array.isArray(i)&&i.length>0?(t.cookieUuidHandler.getAudienceSegmentsConfig(i),t.hashedEmailHandler.getAudienceSegmentsConfig(i),e()):e()};if(t.isUserInEU||t.disableDmp)e();else{const n=new XMLHttpRequest;n.open("GET","https://config.playwire.com/audience_segments/config.json",!0),n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status){t._audienceSegmentsConfig=JSON.parse(n.responseText);const e={audienceSegments:t._audienceSegmentsConfig,categories:t.audienceCategories,keywords:t.metaKeywords,impressionEventIds:t.impressionEventIds,keyValues:t.userProfile?.data};let r;if(null!==mt.getWorker("audienceSegmentsWorker")){const n={dataToProcess:e};mt.invokeWorkerWithOptions("audienceSegmentsWorker",n),t.audienceSegmentsWorker.onmessage=function(e){r=e.data,i(r.matchedSegments,r.campaignSegments)}}else r=j(e),i(r.matchedSegments,r.campaignSegments)}else S.ho.warn("Error fetching audience segments config."),e()},n.send()}}))}getImpressionEventIds=()=>this.impressionEventIds;addCategories(e=[]){return"string"==typeof e&&(e=[e]),this.isUserInEU?e:(e.forEach((e=>{e=B(e),this.audienceCategories.includes(e)||this.audienceCategories.push(e)})),W("_pw_audience_categories",this.audienceCategories),this.audienceCategories)}addImpressionEventId(e){const t=this;if(!e)return;if(this.isUserInEU)return;e=(e=>{const t=/-(.*)/;try{return t.exec(e)[1]}catch(t){return e}})(e=`${e}`);const i=(e,i)=>{Array.isArray(i)&&i.length>0&&(t.campaignSegments=[...new Set(t.campaignSegments.concat(i))]),t.cookieUuidHandler.addImpressionEventId(e),t.hashedEmailHandler.addImpressionEventId(e,t.campaignSegments)};if(this.impressionEventIds.includes(e))return;this.impressionEventIds.push(e),this.impressionEventIds.length>99&&this.impressionEventIds.shift(),W("_pw_audience_impression_event_ids",this.impressionEventIds);const n={audienceSegments:this._audienceSegmentsConfig,impressionEventIds:this.impressionEventIds};let r;if(null!==mt.getWorker("audienceSegmentsWorker")){const e={dataToProcess:n};mt.invokeWorkerWithOptions("audienceSegmentsWorker",e),this.audienceSegmentsWorker.onmessage=function(e){r=e.data,i(r.matchedSegments,r.campaignSegments)}}else r=j(n),i(r.matchedSegments,r.campaignSegments)}handleCollectIdentifiers(){return new Promise(((e,t)=>{i.e(474).then(i.bind(i,1474)).then((({default:t})=>{t(this.hasLocalStorage).then((t=>{e(t)}))})).catch((e=>{S.ho.error("Error loading collectIdentifiers helper.",e),t(e)}))}))}getUserIdentifiers(){return this.userIdentifiers}_handleUserOptOut(){window.PageOS.dmp.ready=!1,window.PageOS.BUS.emit("dmp_ready"),ft.forEach((e=>{H(e)})),(e=>{try{document.cookie=`${e}=;Path=/;Expires=Thu, 01 Jan 1970 00:00:01 GMT;`}catch(e){}})("AMZN-Token")}getCookieSyncUID(){return window.PageOS.session.getCookieSyncUID}getMatchedCookieSyncSegments(){return this.cookieUuidHandler.matchedCookieSyncSegments}_registerPublicAPI(){this._apiRegistered||(this._apiRegistered=!0,this.MODULE.addCategories=this.addCategories.bind(this),this.MODULE.addImpressionEventId=this.addImpressionEventId.bind(this),this.MODULE.getAudienceSegments=this.getMatchedCookieSyncSegments.bind(this),this.MODULE.getAudienceSegmentsPWheid=this.hashedEmailHandler.getAudienceSegmentsPWheid.bind(this.hashedEmailHandler),this.MODULE.getImpressionEventIds=this.getImpressionEventIds.bind(this),this.MODULE.getMetaKeywords=this.getMetaKeywords.bind(this),this.MODULE.getKeyValues=this.getKeyValues.bind(this),this.MODULE.getVisitorId=this.getCookieSyncUID.bind(this),this.MODULE.getUserIdentifiers=this.getUserIdentifiers.bind(this),this.MODULE.getPWHeid=this.hashedEmailHandler.getPWHeid.bind(this.hashedEmailHandler),this.MODULE.getPWMD5Heid=this.hashedEmailHandler.getPWMD5Heid.bind(this.hashedEmailHandler),this.MODULE.init=this.init.bind(this),this.MODULE.isCOPPA=this.isCOPPA,this.MODULE.isUserInEU=this.isUserInEU,this.MODULE.isUsingCloudService=this.hashedEmailHandler.isUsingCloudService)}},_t={adImpressions:0,adClicks:0,videoAdImpressions:0,videoAdCompletions:0,videoAdClicks:0,adClickRate:0,videoAdClickRate:0,videoAdCompletionRate:0},vt=class{_apiRegistered=!1;_audienceSegmentsConfig=[];isOptedOut="true"===(0,y.UM)("_pwUserOptedOut");constructor({isCOPPA:e,ctrTracking:t}){if(window.PageOS.userData=window.PageOS.userData||{},this.isCOPPA=e,this.isUserInEU=window.PageOS.gdpr.userInEU,this.ctrTracking=t,e||!0===window.ramp.disableDmp)return window.PageOS.userData.ready=!1,void window.PageOS.BUS.emit("userData_ready");this.MODULE=window.PageOS.userData,this.iframe=this._createIframe(),this.userBehavior=_t,this._registerPublicAPI(),window.PageOS.BUS.on("ad_clicked",(()=>{this.updateUserTrackingData("adClicks")}),!1),!1===this.isUserInEU||"boolean"==typeof window.PageOS.gdpr.hasWindowCMP?this.init():window.PageOS.BUS.on("gdpr_ready",(()=>{this.init()}),!0),this._disableModule=this._disableModule.bind(this)}init(){this.isCOPPA||!0===window.ramp.disableDmp||(!0===this.isUserInEU&&(this.ctrTracking=!1),this.isOptedOut&&(m(!0),this._disableModule()),m(this.isOptedOut),this._setMessageListeners(),this.appendIframe(this.iframe))}appendIframe(e){if(document.body)return void document.body.appendChild(e);const t=new MutationObserver((()=>{document.body&&(document.body.appendChild(e),t.disconnect())}));t.observe(document.documentElement,{childList:!0})}canAccessPII(e){if(this.isUserInEU){e(!!0)}else e(!0)}get(e,t){"string"==typeof e&&"function"==typeof t&&(window.PageOS.BUS.on(`_UserData_${e}`,t,!0),this.canAccessPII((t=>{this.postMessage(this.iframe,{type:"_pwUserData",method:"get",key:e,isPII:t})})))}postMessage(e,t){const i="string"==typeof t?t:JSON.stringify(t);e&&e.contentWindow&&e.contentWindow.postMessage(i,"*")}set(e,t,i){if("string"!=typeof e||void 0===t||"boolean"!=typeof i)return;const n={type:"_pwUserData",method:"set",key:e,val:t,isPII:i};i?this.canAccessPII((e=>{e&&this.postMessage(this.iframe,n)})):this.postMessage(this.iframe,n)}remove(e){if("string"!=typeof e)return;const t={type:"_pwUserData",method:"remove",key:e};this.postMessage(this.iframe,t)}_createIframe(){if(this.iframe)return;const e=document.createElement("iframe");return e.id="pw_user_data",e.style.display="none",e.style.height="0",e.style.width="0",e.style.position="fixed",e.style.bottom="-99999px",e.src="https://cdn.intergient.com/pageos/1.10.68/iframe/iframe.html",e}setCookieValue=(e,t,i=31536e6)=>{if(e)try{document.cookie=`${e}=${encodeURIComponent(JSON.stringify(t))}; max-age=${i}; path=/`}catch(t){S.hS.warn("Could not set cookie.",{cookieName:e})}};_handleCtrTracking(){if(!this.ctrTracking)return;S.hS.info("CTR Tracking enabled.");const e=this.getUserBehavior(),t=e.adClicks+e.videoAdClicks>0;this.userBehavior.adClicker=t,this.setCookieValue("ad_clicker",t),window.Bolt&&window.Bolt.embeds&&Object.keys(window.Bolt.embeds).forEach((i=>{const n={id:i,action:"setUserBehaviorValues",adClicker:t,videoAdClickRate:e.videoAdClickRate,videoAdCompletionRate:e.videoAdCompletionRate};window.postMessage(JSON.stringify(n),"*")})),window.ramp&&window.ramp.settings&&window.ramp.settings.slots&&Object.keys(window.ramp.settings.slots).length>0&&window.googletag.pubads().setTargeting("ad_clicker",`${t}`)}_setMessageListeners(){this._listenersSet||(this._listenersSet=!0,window.addEventListener("message",(e=>{try{const{type:t,key:i,data:n}=JSON.parse(e.data);if("_pwUserDataReady"===t){if(n&&!0===n.userOptedOut&&(this.isOptedOut=!0,m(!0),this._disableModule(),window.PageOS.BUS.emit("userData_ready")),this.isOptedOut)return ft.forEach((e=>{this.remove(e)})),void(n&&n.userOptedOut||(this.set("_pwUserOptedOut",this.isOptedOut?"true":"false",!1),this._disableModule()));n.uuid&&(this.uuid=n.uuid),this.setUserID(),this.get("user_behavior",(e=>{this.userBehavior=e||this.userBehavior,this._handleCtrTracking(),window.PageOS.userData.ready=!0,window.PageOS.BUS.emit("userData_ready")}))}"_pwClick"===t&&window.PageOS.BUS.emit("ad_clicked"),"_pwReturnData"===t&&window.PageOS.BUS.emit(`_UserData_${i}`,n)}catch(e){}})))}setUserID(){this.uuid||(this.uuid=g("user"),this.set("pw_uuid",this.uuid,!1))}getUserBehavior(){return this.userBehavior}initBoltTracking(e){window.Bolt.on(e,window.Bolt.BOLT_AD_STARTED,(()=>{this.updateUserTrackingData("videoAdImpressions")})),window.Bolt.on(e,window.Bolt.BOLT_AD_COMPLETE,(()=>{this.updateUserTrackingData("videoAdCompletions")})),window.Bolt.on(e,window.Bolt.BOLT_AD_CLICKED,(()=>{this.updateUserTrackingData("videoAdClicks")}))}updateUserTrackingData(e){const t=this.userBehavior;t.hasOwnProperty(e)?(t[e]++,t.adClickRate=0===t.adImpressions?0:Math.round(t.adClicks/t.adImpressions*100),t.videoAdClickRate=0===t.videoAdImpressions?0:Math.round(t.videoAdClicks/t.videoAdImpressions*100),t.videoAdCompletionRate=0===t.videoAdImpressions?0:Math.round(t.videoAdCompletions/t.videoAdImpressions*100),"adClicks"!==e&&"videoAdClicks"!==e||(S.hS.info("Ad Click.",{type:e}),this._handleCtrTracking()),this.set("user_behavior",t,!0)):S.hS.warn("tried to update unexisting key",{key:e})}toggleOptOut(){return this.isOptedOut=!this.isOptedOut,this.setCookieValue("_pwUserOptedOut",this.isOptedOut,15768e7),this.set("_pwUserOptedOut",this.isOptedOut?"true":"false",!1),this.isOptedOut&&this.uuid&&window.PageOS.dataStream.handleEvent("userOptOut",this.uuid),m(this.isOptedOut),this.isOptedOut}_disableModule(){const e=["ready","toggleOptOut"];this.MODULE.ready=!1,Object.keys(this.MODULE).forEach((t=>{e.includes(t)||delete this.MODULE[t]}))}_registerPublicAPI(){this._apiRegistered||(this._apiRegistered=!0,this.MODULE.get=this.get.bind(this),this.MODULE.set=this.set.bind(this),this.MODULE.updateUserTrackingData=this.updateUserTrackingData.bind(this),this.MODULE.getUserBehavior=this.getUserBehavior.bind(this),this.MODULE.initBoltTracking=this.initBoltTracking.bind(this),this.MODULE.toggleOptOut=this.toggleOptOut.bind(this))}};let bt=null,St=null,Ot={},Pt=!1,Et=!1;const It={};window.PageOS.floors=window.PageOS.floors||{};const kt=e=>["trendi_video","prebid_video","corner_ad_video","precontent_ad_video"].includes(e.config.unit),At=()=>new Date((new Date).toLocaleString("en-US",{timeZone:"America/New_York"})),Ct=(e,t)=>{const i=At();return{browser_name:window.PageOS.environment.getBrowserInfo().name,country_code:window.PageOS.gdpr.userCC,day_of_week:i.getDay(),hour_of_day:i.getHours(),device_type:e.device,refresh_count:t.refreshes}},Ut={country_code:{default:"Other",groupings:{USA:["us"],GDPR:["at","be","bg","cy","cz","de","dk","ee","es","fi","fr","gb","gr","hu","ie","it","lt","lu","lv","mt","nl","pl","pt","ro","se","si","sk"],TIER_1:["au","ca","ch","no","nz"]}},refresh_count:{default:"refresh_count_11_plus",groupings:{refresh_count_0:[0],refresh_count_1:[1],refresh_count_2:[2],refresh_count_3:[3],refresh_count_4_to_10:[4,5,6,7,8,9,10]}},browser_name:{default:"Other",groupings:{Chrome:["chrome"],Edge:["edge"],Firefox:["firefox","firefox focus","firefox reality"],Safari:["safari","mobile safari"]}}},xt=e=>"sidebar"===e.unit?"pw_sidebar":"sticky_sidebar"===e.unit?"pw_sticky_sidebar":e.unit,Tt=(e,t)=>{const i="string"==typeof e[t]?e[t].toLowerCase():e[t],n=Ut[t];if(void 0!==n){const e=n.groupings;let t=Object.keys(e).find((t=>e[t].includes(i)));return void 0===t&&(t=n.default),t}return i},Dt=(e,t=!1)=>{const i={enabled:!1};if(window.pwEdgeFlags&&"object"==typeof window.pwEdgeFlags.priceFloors)return Object.assign(i,window.pwEdgeFlags.priceFloors);if(!e||!e.config||!e.config.settings)return i;const n=e.config.settings.videoPriceFloors,r=e.config.settings.displayPriceFloors??e.config.settings.priceFloors,o="mobile"===e.device?e.device:"desktop";return r||n?(!0!==r&&1!==r||(i.enabled=!0,i.sourceDisplay="ramp"),2!==r&&2!==n||(i.enabled=!0,i.sourceDisplay=2===r?"ml":i.sourceDisplay,i.sourceVideo=2===n?"ml":i.sourceVideo,i.multiplier=(()=>{if("object"!=typeof e.config.settings.multipliers)return null;const i=At(),n=i.getFullYear(),r=`0${i.getMonth()+1}`.slice(-2),s=`0${i.getDate()}`.slice(-2),a=t?"video":"display",d=e.config.settings.multipliers[a]?e.config.settings.multipliers[a][`${n}-${r}-${s}`]:e.config.settings.multipliers[`${n}-${r}-${s}`];return"number"==typeof d?d:d&&"number"==typeof d[o]?d[o]:null})()),i):i},Bt=e=>{const t=xt(e),i=Ot[t];return!i||void 0===i.threshold||"number"!=typeof i.threshold||!0!==Et||(i.threshold<0||i.threshold>=1||(void 0===It[t]&&(It[t]=Math.random()>i.threshold),It[t]&&S.Ay.info("Preventing ad request",{unit:t,threshold:i.threshold}),!It[t]))},Lt=({websiteId:e,callback:t})=>{window.PageOS.benchmarks.trackStart("tyche_imported_PFmodule_ML"),St=At().getHours();const i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState)if(Ot={},200===i.status){Pt||(Pt=!0,window.PageOS.benchmarks.trackEnd("tyche_imported_PFmodule_ML"));const e=i.responseText.replace("{video:",'{"video":').replace(" display: ",' "display": ');Ot=JSON.parse(e),t&&t()}else S.Ay.error("Caught when importing price floor module"),t&&t()},i.open("GET",(e=>{const t=At(),i=Ct(window.ramp.settings,{});return`https://impression-inferences-edge-prod.playwire.com/websites/${e}/v1/${t.toLocaleDateString("en-US",{weekday:"short"})}/${t.getHours()}/${Tt(i,"device_type")}/${Tt(i,"browser_name")}/${Tt(i,"country_code")}`})(e),!0),i.send()},Rt=e=>{const t=window.ramp.settings,i=Ct(t,e),n=kt(e),{sourceDisplay:r,sourceVideo:o,multiplier:s}=Dt(t,n);let a=null;if(n||"ramp"!==r)(!n&&void 0!==r&&"ml"===r||n&&void 0!==o&&"ml"===o)&&(a=(({options:e,tag:t})=>{const i=At().getHours(),n=xt(t.config),r=kt(t)?"video":"display";return i!==St&&Lt({websiteId:window.ramp.settings.config.id}),"object"!=typeof Ot[r]||"object"!=typeof Ot[r][n]||"number"!=typeof Ot[r][n][Tt(e,"refresh_count")]?null:Ot[r][n][Tt(e,"refresh_count")]})({options:i,multiplier:s,tag:e,websiteId:t.config.id}));else{if(!bt)return;const t=e.config.path??e.config.section;a=bt.calculatePriceFloor(t,e.config.unit,i)}return((e,t,i)=>{"number"==typeof e&&"number"==typeof t&&(e=Math.round(e*t*100)/100,S.Ay.info("Calculated Price Floor value:",{unit:i.config.unit,priceFloor:e,multiplier:t}),(e<0||e>30)&&(e=null));const n=null===e?"na":e.toFixed(2);return!kt(i)&&i.slot.setTargeting("price_floor",n),window.PageOS.floors[void 0!==i.id?i.id:i.config?.unit]=n,n})(a,s,e)};function Mt(){if(!window.ramp||!window.ramp.settings)return;const e=window.ramp.settings;return new Promise((t=>{if(!e.config||!e.config.settings)return void t();const i=e.config.id,{enabled:n,sourceDisplay:r,sourceVideo:o}=Dt(e);Et=!0===e.config.settings.adRequestChecker||window.location.hash.includes("adrequestchecker"),S.Ay.info("Ad Request Checker Feature",{enabled:!!Et}),S.Ay.info("PriceFloor module",{enabled:n,sourceDisplay:r,sourceVideo:o});const s=o||r;if(!n||!s)return void t();window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((()=>{window.googletag.pubads().setTargeting("pf_src",s)}));const a={callback:t,startTime:Date.now(),websiteId:i};"ramp"===r&&(({websiteId:e,callback:t})=>{window.PageOS.benchmarks.trackStart("tyche_imported_PFmodule"),import((e=>`https://config.playwire.com/websites/${e}/price_floor.js`)(e)).then((({default:e})=>{window.PageOS.benchmarks.trackEnd("tyche_imported_PFmodule"),bt={calculatePriceFloor:e},t&&t()})).catch((e=>{S.Ay.error("Caught when importing price floor module",{message:e.message,stack:e.stack}),t&&t()}))})(a),("ramp"===r&&Et||"ml"===r||"ml"===o)&&Lt(a)}))}window.PageOS=window.PageOS||{},window.PageOS.adUtils=window.PageOS.adUtils||{};const jt=e=>{if(!e)return{};const t=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=Math.max(document.documentElement.clientHeight,window.innerHeight||0),n=e.getBoundingClientRect();let r=n.top+n.height/2+window.scrollY,o=n.left+n.width/2+window.scrollX,s=100*(i-(n.top+n.height/2))/i,a=100*(n.left+n.width/2)/t;return r=50*Math.floor(r/50),o=50*Math.floor(o/50),s=10*Math.floor(s/10),a=10*Math.floor(a/10),{abs_dist_top:r,abs_dist_left:o,rel_dist_bottom:s,rel_dist_left:a}},$t=()=>{window.addEventListener("message",(e=>{try{const t=JSON.parse(e.data);if("reportingObserver"===t.type){const{advertiserId:e,campaignId:i}=window.ramp.settings.slots[t.slotId].slot.getResponseInformation(),n={advertiserId:e,campaignId:i,...t};S.yt.warn(`PageOS ${t.type}`,n),"intervention"===n.reportType&&"HeavyAdIntervention"===t.id&&"function"==typeof window.ramp.reloadHeavyAd&&window.ramp.reloadHeavyAd(t.slotId)}}catch(e){}}))};window.PageOS.adUtils.getAdLocation=jt;function Nt(){const e=document.createElement("script");e.type="text/javascript",e.src="https://btloader.com/tag?o=5150306120761344&upapi=true",e.async=!0,document.head.appendChild(e)}var Ft=i(8221),Wt=i.n(Ft),Ht=i(7350),zt=i.n(Ht);const Vt={leaderboard:{desktop:[728,90],mobile:[320,50]},med_rect:[300,250],left_rail:[160,600],right_rail:[160,600],bottom_rail:[728,90],skyscraper:[160,600],"160x600":[160,600],in_content:[300,250],relevant_article:[300,250]},qt=(e=!1,t=!1)=>{const i=window.innerHeight;let n="";n+=e?`Slot: ${e}, `:"",n+=t?`Event: ${t}, `:"",S.Xt.info(`${n}Viewport Height: ${i}`)},Gt=(e,t)=>{let i="desktop";t&&(i="mobile");let n=!1;return"leaderboard"===e?Vt[e][i]&&(n=Vt[e][i]):Vt[e]&&(n=Vt[e]),n};let Xt=0,Kt=0;const Jt=document.documentElement.scrollHeight,Yt=(e,t=!1,i=!1)=>{const n=window.scrollY;let r="up";n>Xt&&(r="down");const o=Math.abs(n-Xt),s=n/Jt*100,a=Xt/Jt*100;let d="";t&&i?(d+=t?`Slot: ${t}, `:"",d+=i?`Event: ${i}, `:""):(S.Xt.info(`Scrolling from: ${Xt}px`),S.Xt.info(`Scrolling to: ${n}px`),S.Xt.info(`Document height: ${Jt}px`),S.Xt.info(`Start Scroll begin: ${parseFloat(s).toFixed(2)}%`),S.Xt.info(`End Scroll begin: ${parseFloat(a).toFixed(2)}% `));const c=(new Date).getTime(),l=c-Kt;if(Kt>0&&l>2e3)S.Xt.info(`${d}No Scroll, interval time: ${l}`);else if(0===o)S.Xt.info(`${d}No Scroll`);else{S.Xt.info(`${d}Scrolling: ${r} ${o}px`),Xt=n;const e=o/l*1e3;S.Xt.info(`${d}Scroll velocity: ${e.toFixed(2)} px/second`)}Kt=c},Zt=()=>{S.Xt.info("Focus IN")},Qt=()=>{window.PageOS=window.PageOS||{},window.PageOS.metrics=window.PageOS.metrics||{};const e=window.PageOS.metrics;e.sendViewportHeight=(e,t)=>{qt(e,t)},e.sendScroll=(e,t)=>{Yt(0,e,t)},e.sendAdHeight=(e,t,i,n)=>{((e,t,i,n)=>{let r=!!(e&&t.size&&t.size[1])&&t.size[1];if(!r){const e=Gt(t.type,n);e&&(r=e[1])}S.Xt.info(`Slot: ${e}, Event: ${i}, Ad Height: ${r}`)})(e,t,i,n)},e.sendAdViewability=(e,t,i)=>{((e,t,i)=>{S.Xt.info(`Slot: ${e}, Event: ${t}, Ad Viewability: ${i}`)})(e,t,i)},e.getStandardSlotSize=(e,t)=>Gt(e,t)};const ei=e=>{const t=document.createElement("script");t.type="text/javascript",t.src="https://prod.uidapi.com/static/js/uid2-sdk-1.0.0.js",t.async=!1,t.id="uid2SDKScript",t.onload=()=>e(),document.head.appendChild(t)},ti=()=>{void 0===window.googletag&&(window.googletag={}),void 0===window.googletag.secureSignalProviders&&(window.googletag.secureSignalProviders=[])},ii=()=>new Promise((e=>{const t=window.PageOS.uid2;if(t.enabled)return S.kX.info("UID2 already enabled"),e(!0);let i=!1;const n=window.PageOS.gdpr.isCOPPA,r=window.PageOS.gdpr.userInEU,o=!!(0,y.al)("ccpa");if(!(window._pwUserInCA||o))return n?(S.kX.info("Is a COPPA site, UID2 deactivated."),e(!1)):r?(S.kX.info("User in EU, UID2 deactivated."),e(!1)):(i=ni(),i?(t.enabled=!0,e(i)):(S.kX.error("UID2 SDK not found."),e(!1)));window.PageOS.BUS.on("ccpa_ready",(()=>!0===(window.PageOS.ccpa&&!0===window.PageOS.ccpa.hasUserOptedOut())?(S.kX.info("CCPA applies and user has opted out, UID2 deactivated."),e(!1)):(i=ni(),i?(t.enabled=!0,e(i)):(S.kX.error("UID2 SDK not found."),e(!1)))),!0)})),ni=()=>void 0!==window.__uid2&&window.__uid2,ri=e=>{const t=window.PageOS.uid2;if(t.sdkInitialized)S.kX.info("UID2 SDK already initialized; call `disconnect` function if you want to initialize it again");else{const i=ni();try{i.init({callback:e=>{t.sdkInitialized=0===e.status,t.status=e.status,t.statusText=e.statusText,S.kX.info(`UID2 SDK initialized, ${e.statusText}`)},identity:e})}catch(e){S.kX.error(e)}}},oi=e=>{if(void 0!==e.getAdvertisingToken())return!0;const t=e.isLoginRequired();return void 0===t||t?(S.kX.info("UID2 login is required; call `login` function with an email address as parameter"),!1):void 0},si=e=>{const t=JSON.parse(e.response).body;(()=>{try{let e=ni();e.disconnect(),delete window.__uid2,e=null,document.getElementById("uid2SDKScript").remove()}catch(e){S.kX.error("Error trying to clear UID2 SDK",{error:e})}})();ei((()=>{window.__uid2=new UID2,ri(t)}))};function ai(){window.PageOS=window.PageOS||{},window.PageOS.uid2=window.PageOS.uid2||{};const e=window.PageOS.uid2;e.enabled=!1;window.PageOS.BUS.on("gotConfig",(()=>{(()=>{const e=!!(0,y.al)("pwuid2"),t=!(!window.ramp||!window.ramp.settings)&&window.ramp.settings.config;let i=t&&Array.isArray(t.settings.identity)&&t.settings.identity.length>0&&t.settings.identity.includes("uid2");i=i||e;const n=window.PageOS.uid2;i?(ti(),ei((()=>{n.init()}))):S.kX.info("UID2 not enabled by config file.")})()}),!0),e.getAdvertisingToken=()=>{if(e.enabled){return ni().getAdvertisingToken()}return S.kX.error("UID2 module not available"),!1},e.isLoginRequired=()=>{if(e.enabled){return ni().isLoginRequired()}return S.kX.error("UID2 module not available"),!1},e.disconnect=()=>{if(e.enabled){e.sdkInitialized=!1,e.status=!1,e.statusText="";return ni().disconnect()}return S.kX.error("UID2 module not available"),!1},e.abort=()=>{if(e.enabled){e.sdkInitialized=!1,e.status=!1,e.statusText="";return ni().abort()}return S.kX.error("UID2 module not available"),!1},e.login=t=>{if(!e.enabled)return S.kX.error("UID2 module not available"),!1;if(e.sdkInitialized)return S.kX.warn("UID2 already initialized; call `disconnect` function if you want to initialize it again"),!1;const i=`https://devcdn.intergi.com/ttd_uid2.json?email=${encodeURIComponent(t)}`,n=new XMLHttpRequest;n.open("GET",i,!0),n.onreadystatechange=function(){if(4===n.readyState&&(200===n.status&&si(n),400===n.status))return S.kX.error("Error retrieving uid2 token",{error:n.message}),!1},n.onerror=e=>(S.kX.error("Error retrieving uid2 token",{error:e}),!1),n.send()},e.init=()=>new Promise((t=>{e.enabled&&e.sdkInitialized?(S.kX.info("UID2 already initialized; call `disconnect` function if you want to initialize it again"),t(!0)):!window.PageOS.gdpr||!1!==window.PageOS.gdpr.userInEU&&"boolean"!=typeof window.PageOS.gdpr.hasWindowCMP?window.PageOS.BUS.on("gdpr_ready",(()=>{ii().then((i=>{i?(ri(),t(oi(e))):(S.kX.warn("UID2 module not available"),t(!1))}))}),!0):ii().then((i=>{i?(ri(),t(oi(e))):(S.kX.warn("UID2 module not available"),t(!1))}))}))}const di=e=>{!function(t,i,n,r,o,s,a){function d(e,n){i[t]._Q.push([e,n])}i[t]?e():(i[t]={init(){d("i",arguments)},fetchBids(){d("f",arguments)},setDisplayBids(){},targetingKeys:()=>[],dpa(){d("di",arguments)},rpa(){d("ri",arguments)},upa(){d("ui",arguments)},_Q:[]},(s=n.createElement(r)).onload=e,s.async=!0,s.src="https://c.amazon-adsystem.com/aax2/apstag.js",s.id="pw_aps_tag",(a=n.getElementsByTagName(r)[0]).parentNode.insertBefore(s,a))}("apstag",window,document,"script")};window.addEventListener("DOMContentLoaded",(()=>{di((()=>{window.parent.postMessage(JSON.stringify({type:"_pwApsTag",message:"getInitConfig"}),"*")}))})),window.addEventListener("message",(e=>{try{if(!e.data)return;const t="string"==typeof e.data?JSON.parse(e.data):e.data,{type:i,message:n,data:r}=t;if("_pwApsTag"!==i)return;try{switch(n){case"initConfig":window.apstag.init(r,(()=>{window.parent.postMessage(JSON.stringify({type:"_pwApsTag",message:"tagLoaded"}),"*")}));break;case"rpa":{const{tokenConfig:e,setCookie:t}=r,i=()=>{window.parent.postMessage(JSON.stringify({type:"_pwApsTag",message:"rpaResponse"}),"*")};window.apstag.rpa(e,i,t);break}case"fetchBids":{const{slots:e,timeout:t}=r;window.apstag.fetchBids({slots:e,timeout:t},(e=>{const t={type:"_pwApsTag",message:"fetchBidsResponse",bids:e};window.parent.postMessage(JSON.stringify(t),"*")}));break}default:return}}catch(e){}}catch(e){}}));let ci=!1,li=!1;const pi=()=>{const e=window.Bolt.embeds[Object.keys(window.Bolt.embeds)[0]].config.video.advertising.servers,t=location.hostname.replace("www.","");let i=!1,n=!1;for(const r in e){if(!0===i)break;if(r.includes("generic-"))continue;const o=e[r].tags;for(const e in o)if(t===e){n=o[e],i=!0;break}}return n},ui=()=>{let e=window.ramp.settings?.config?.settings?.publisherId;const t=(window.ramp.settings?.config?.settings?.iabIds??[]).filter((e=>e&&-1===e.indexOf("IAB")));if(!e)try{const t=window.Bolt.embeds[Object.keys(window.Bolt.embeds)[0]].renderer.jsonConfig;if(t){const i=t.settings.playerType;e=t["precontent"===i||"adsonly"===i?"id":"hostingId"]||""}else e=""}catch(t){S.In.info("Unable to detect pulisher ID for schaing"),e=""}const i={pubID:"bd056b42-51db-43ce-9a8e-3b11319b5d1f",adServer:"googletag",videoAdServer:"DFP",schain:{ver:"1.0",complete:1,nodes:[{asi:"playwire.com",sid:`${e}`,hp:1}]},signals:{ortb2:{site:{cattax:6,cat:t,sectioncat:t,pagecat:t}}}};if(window.PageOS.ccpa&&(i.params={us_privacy:window.PageOS.ccpa.getUpsString()}),!0===window.ramp.privacy?.amazonNpa&&(i.params={us_privacy:"1NY"}),window.PageOS.gdpr&&window.PageOS.gdpr.userInEU){const e=window.PageOS.gdpr.getTCString();e&&(i.gdpr={enabled:!0,consent:e})}return i},gi=()=>{const e=document.createElement("iframe");return e.id="pw_aps_iframe",e.style.display="none",e.style.height="0",e.style.width="0",e.style.position="fixed",e.style.bottom="-99999px",e.srcdoc='<html>\n    <head lang="en">\n        <script src="https://c.amazon-adsystem.com/aax2/apstag.js" id="pw_aps_tag">\n        <\/script>\n        <script src="https://cdn.intergient.com/pageos/1.10.68/amazon/aps.js"><\/script>\n    </head><body></body></html>',e},hi=e=>{if(document.body)return void document.body.appendChild(e);const t=new MutationObserver((()=>{document.body&&(document.body.appendChild(e),t.disconnect())}));t.observe(document.documentElement,{childList:!0})},wi=()=>{window.PageOS.apstag={},window.PageOS.apstag.fetchBids=(e,t)=>new Promise((i=>{i(mi(e,t))}))},mi=(e,t)=>new Promise((i=>{if(!e.length||e.length<1)i();else if(t||(t=2500),window.ramp.settings.apstagIframed){const n=document.getElementById("pw_aps_iframe");if(n&&n.contentWindow){let r={type:"_pwApsTag",message:"fetchBids",data:{slots:e,timeout:t}};r=JSON.stringify(r),n.contentWindow.postMessage(r,"*"),yi(t).then((e=>{i(e)}))}}else window.apstag.fetchBids({slots:e,timeout:t},(e=>{i(e)}))})),fi=()=>{window.addEventListener("message",(e=>{try{if(!e.data)return;const t="string"==typeof e.data?JSON.parse(e.data):e.data,{type:i,message:n,data:r}=t;if("_pwApsTag"!==i)return;try{switch(n){case"getInitConfig":{S.In.info("Getting init config for iframed APS tag");const e=ui();_i(ci,{type:"_pwApsTag",message:"initConfig",data:e});break}case"tagLoaded":S.In.info("Iframed APS tag loaded"),window.ramp.settings.apstagLoaded=!0,window.ramp.settings.apstagIframed=!0,wi(),window.PageOS.BUS.emit("ApsTagLoaded");break;default:return}}catch(e){}}catch(e){}}))},yi=e=>new Promise((t=>{const i=e=>{try{if(!e.data)return;const n="string"==typeof e.data?JSON.parse(e.data):e.data,{type:r,message:o,bids:s}=n;if("_pwApsTag"!==r)return;if(!s)return;try{"fetchBidsResponse"===o&&(window.removeEventListener("message",i),t(s))}catch(e){}}catch(e){}};window.addEventListener("message",i),e+=500,window.setTimeout((()=>{window.removeEventListener("message",i),t(!1)}),e)})),_i=(e,t)=>{const i="string"==typeof t?t:JSON.stringify(t);e&&e.contentWindow&&e.contentWindow.postMessage(i,"*")};const vi="securepubads.g.doubleclick.net";let bi,Si,Oi,Pi=!1,Ei=!1;window.PageOS.BUS.after("gotConfig",(e=>{!0===window.ramp?.activeConfig?.settings?.tpg_enabled&&(Ei=!0),Ei?Oi=window.ramp?.activeConfig?.tpg_network||null:e.isCOPPA?bi="96780239":window.location.href.indexOf("coolmathgames.com")>-1?(Si="45966600",Pi=!0):bi="154013155"}));const Ii=()=>{const e=window.ramp?.settings?.units?.ros[0].code,t=e.indexOf(",");if(!t)return!1;const i=e.indexOf("/",t);return e.substring(t+1,i)},ki=window.ramp?.activeConfig?.settings?.publisherId;const Ai=class{_apiRegistered=!1;constructor(){window.PageOS.pagePulse=window.PageOS.pagePulse||{},this.performanceObservers=[],this.userInteractionCaptured=!1,this.firstScrollCaptured=!1,this.lastScrollTimestamp=0,this.PUB_ID=null,this.WEBSITE_ID=null,this.CUSTOMADLSCRIPT=null,this.ADLSCRIPT=null,this.ADLIGHTNINGENABLED=!1,this.performanceObserver=null,this.configId=null,this.MODULE=window.PageOS.pagePulse,this.scrollListener=null,this.gptLoadedFlag=!1}init(){this._registerPublicAPI();const e=window.ramp?.activeConfig?.settings||{};this.configId=window.ramp?.activeConfig?.config_id||null,this.PUB_ID=e.publisherId,this.WEBSITE_ID=window.ramp?.activeConfig?.id,this.CUSTOMADLSCRIPT=e.adLightningScript,this.ADLSCRIPT=this.CUSTOMADLSCRIPT||"https://tagan.adlightning.com/playwire/op.js",this.ADLIGHTNINGENABLED=e.adLightning&&!0===e.adLightning||this.CUSTOMADLSCRIPT;try{window.PerformanceObserver?(this.createObserver("navigation"),this.createObserver("resource"),this.createObserver("mark"),this.initFirstInteractionTracking(),S.op.info("PwPerformanceObserver initialized successfully.")):S.op.error("PerformanceObserver is not supported in this browser.")}catch(e){S.op.error("Error initializing PwPerformanceObserver:",e)}}createObserver(e){const t=new PerformanceObserver((t=>{t.getEntries().forEach((t=>{switch(e){case"navigation":this.handleNavigationEntries(t);break;case"resource":this.handleResourceEntries(t);break;case"mark":this.handleCustomMarks(t)}}))}));"mark"===e?t.observe({entryTypes:[e]}):t.observe({type:e,buffered:!0}),this.performanceObservers.push(t)}initFirstInteractionTracking(){this.scrollListener=()=>{this.handleUserInteraction(),this.handleFirstScroll(),this.lastScrollTimestamp=performance.now()},window.addEventListener("scroll",this.scrollListener,{passive:!0});["click","keydown","mousemove"].forEach((e=>{window.addEventListener(e,this.handleUserInteraction.bind(this))})),window.addEventListener("beforeunload",this.handleBeforeUnload.bind(this))}handleCustomMarks(e){if("pw_page_analytics_events"===e.detail?.source){let t=null;if(e.detail.ad_details&&(t={slot_id:e.detail.ad_details.slot_id,unit_type:e.detail.ad_details.unit_type,refresh_count:e.detail.ad_details.refresh_count,size_delivered:e.detail.ad_details.size_delivered||null},"slotAdRequestStart"===e.name&&(t={slot_id:e.detail.ad_details.slot_id,unit_type:e.detail.ad_details.unit_type,refresh_count:e.detail.ad_details.refresh_count,size_requested:e.detail.ad_details.size_requested||null})),S.op.info(e.name,`Start Time: ${e.startTime} Details: ${JSON.stringify(t)}`),window.PageOS.benchmarks.trackPageAnalytics(e.name,e.startTime,performance.timeOrigin+e.startTime,t,this.configId,"firstInteraction"===e.name?`${e.detail.type}`:void 0),e.startTime>0){let t=null,i=null,n=null,r=null;"number"==typeof e.startTime&&"videoAdRequestStart"===e.name&&e.startTime>0?(t=e.startTime,window.PageOS.BUS.emit("cornerAdVideoGamRqSt",t)):"number"==typeof e.startTime&&"videoAdRequestEnd"===e.name&&e.startTime>0?(i=e.startTime,window.PageOS.BUS.emit("cornerAdVideoGamRqEn",i)):"number"==typeof e.startTime&&"boltVideoAdRequestStart"===e.name&&e.startTime>0?(n=e.startTime,window.PageOS.BUS.emit("boltGamRqSt",n)):"number"==typeof e.startTime&&"boltVideoAdRequestEnd"===e.name&&e.startTime>0&&(r=e.startTime,window.PageOS.BUS.emit("boltGamRqEn",r))}}}handleFirstScroll(){this.firstScrollCaptured||(this.firstScrollCaptured=!0,window.performance.mark("scrollEventStart",{detail:{source:"pw_page_analytics_events",type:"scrollEventStart"}}))}handleUserInteraction(e){this.userInteractionCaptured||(window.performance.mark("firstInteraction",{detail:{source:"pw_page_analytics_events",type:`${e?.type}`}}),this.userInteractionCaptured=!0,window.removeEventListener("click",this.handleUserInteraction),window.removeEventListener("keydown",this.handleUserInteraction),window.removeEventListener("mousemove",this.handleUserInteraction))}handleBeforeUnload(){const e=this.lastScrollTimestamp;window.performance?.mark("scrollEventEnd",{detail:{source:"pw_page_analytics_events",type:"scrollEventEnd",pf_dr:`${e}`}})}handleNavigationEntries(e){0!==e.domComplete&&(this.logDomInteractive(e.domInteractive),this.logDomContentLoaded(e.domContentLoadedEventStart,e.domContentLoadedEventEnd),this.logLoadEvent(e.loadEventStart,e.loadEventEnd),this.logDomComplete(e.domComplete))}handleResourceEntries(e){this.isSpecificResource(e)&&this.logResourceTiming(e)}mapResourceToEventNames(e){return e.includes("ramp_config.js")||e.includes("ramp.js")?"rampConfigLoadedEvent":e.includes("ramp_core.js")?"rampCoreLoadedEvent":e.includes("script.js")?"cleanioLoadedEvent":e.includes("gpt.js")?"gptLoadedEvent":this.ADLIGHTNINGENABLED&&e.includes(this.ADLSCRIPT)?"adLightningLoadedEvent":e.includes(`${bi}%3A${Ii()}`)||e.includes(`${bi}%2C${ki}`)||e.includes(`${Si}%2Cpw`)||e.includes(`${Oi}`)?"gptAdRequestMadeEvent":void 0}isSpecificResource(e){const t=Ii();let i="";i=t?e.name.match(new RegExp(`${vi}.*${bi}%3A${t}`)):Pi?e.name.match(new RegExp(`${vi}.*${Si}%2Cpw`)):Ei?e.name.match(new RegExp(`${vi}.*${Oi}`)):e.name.match(new RegExp(`${vi}.*${bi}%2C${ki}`));const n=[(e.name&&null!==i&&e).name,this.ADLIGHTNINGENABLED?this.ADLSCRIPT:null,"https://securepubads.g.doubleclick.net/tag/js/gpt.js","https://cadmus.script.ac/d25lqe4mlyaln6/script.js","https://cdn.intergient.com/ramp_core.js",...["ramp.js","ramp_config.js"].map((e=>`https://cdn.intergient.com/${this.PUB_ID}/${this.WEBSITE_ID}/${e}`))];return("script"===e.initiatorType||"xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)&&n.includes(e.name)}logResourceTiming(e){const t=this.mapResourceToEventNames(e.name);t&&("gptLoadedEvent"===t&&(this.gptLoadedFlag?(window.PageOS.BUS.emit("gptLoadedTwice",!0),S.op.warn("gpt.js loaded twice")):this.gptLoadedFlag=!0),this.logTiming(e,t,"startTime","responseEnd"))}logTiming(e,t,i,n){const r=window.performance.timeOrigin+e[i],o=window.performance.timeOrigin+e[n];if(S.op.info(`${t}Start:`,e[i]),S.op.info(`${t}End:`,e[n]),window.PageOS.benchmarks.trackPageAnalytics(`${t}Start`,e[i],r,null,this.configId),window.PageOS.benchmarks.trackPageAnalytics(`${t}End`,e[n],o,null,this.configId),"gptAdRequestMadeEvent"===t){const t=e[n]-e[i];window.PageOS.BUS.emit("gamRqTm",t)}}logDomInteractive(e){const t=window.performance.timeOrigin+e;S.op.info("domInteractive:",e),window.PageOS.benchmarks.trackPageAnalytics("domInteractive",e,t,null,this.configId)}logDomContentLoaded(e,t){const i=window.performance.timeOrigin+e,n=window.performance.timeOrigin+t;S.op.info("domContentLoadedEventStart:",e),S.op.info("domContentLoadedEventEnd:",t),window.PageOS.benchmarks.trackPageAnalytics("domContentLoadedEventStart",e,i,null,this.configId),window.PageOS.benchmarks.trackPageAnalytics("domContentLoadedEventEnd",t,n,null,this.configId)}logLoadEvent(e,t){const i=window.performance.timeOrigin+e,n=window.performance.timeOrigin+t;S.op.info("loadEventStart:",e),S.op.info("loadEventEnd:",t),window.PageOS.benchmarks.trackPageAnalytics("loadEventStart",e,i,null,this.configId),window.PageOS.benchmarks.trackPageAnalytics("loadEventEnd",t,n,null,this.configId)}logDomComplete(e){const t=window.performance.timeOrigin+e;S.op.info("domComplete:",e),window.PageOS.benchmarks.trackPageAnalytics("domComplete",e,t,null,this.configId)}disconnectObserver(){this.performanceObservers.forEach((e=>{e.disconnect()})),this.performanceObservers=[]}markPerformanceEvent(e,t=void 0){window.performance?.mark(e,{detail:{source:"pw_page_analytics_events",type:e,ad_details:{unit_type:t?.unit_type||null,slot_id:t?.slot_id||null,refresh_count:t?.refresh_count}}})}_registerPublicAPI(){this._apiRegistered||(this._apiRegistered=!0,this.MODULE.markPerformanceEvent=this.markPerformanceEvent.bind(this))}};window.PageOS=window.PageOS||{},window.pwEdgeFlags=window.pwEdgeFlags||{},window.tyche=window.ramp||window.tyche,window.ramp=window.tyche,window.ramp.activeConfig=window.ramp.activeConfig||window.ramp.mvpConfig;const Ci=document.getElementById("tyche")||document.getElementById("ramp"),Ui=Ci&&Ci.dataset.delay,xi=parseInt(Ui,10);window.PageOS.adsPerformance=window.PageOS.adsPerformance||window.ramp&&void 0!==window.ramp.activeConfig,isNaN(xi)||(window.PageOS.delay=xi),window.PageOS.version="1.10.68",function(){window.PageOS.domReadyPromise=new Promise((e=>{"interactive"===document.readyState||"complete"===document.readyState?(at(),e()):document.addEventListener("DOMContentLoaded",(()=>{at(),e()}))})),window.PageOS.scrollTriggered=!1;const e=()=>{window.removeEventListener("scroll",e),window.PageOS.BUS.emit("userScrollTriggered"),window.PageOS.scrollTriggered=!0,window.ramp&&(window.ramp.settings&&(window.ramp.settings.scrollTriggered=!0),"function"==typeof window.ramp.userEventCallback&&window.ramp.userEventCallback("Scroll"))};window.addEventListener("scroll",e),window.PageOS.clickTriggered=!1;const t=()=>{window.removeEventListener("click",t),window.PageOS.BUS.emit("userClickTriggered"),window.PageOS.clickTriggered=!0,window.ramp&&(window.ramp.settings&&(window.ramp.settings.clickTriggered=!0),"function"==typeof window.ramp.userEventCallback&&window.ramp.userEventCallback("Click"))};if(window.addEventListener("click",t),window.pwEdgeFlags&&!0===window.pwEdgeFlags.disablePerformanceMetrics||window.location.hash.includes("disablePerformanceMetrics"))return;const i=Wt()((()=>{qt()}),1e3);window.addEventListener("resize",i);const n=zt()(Yt,500);window.addEventListener("scroll",n),void 0!==document.visibilityState&&window.document.addEventListener("visibilitychange",(()=>{"hidden"!==document.visibilityState?setTimeout(Zt,0):S.Xt.info("Focus OUT")}))}(),window.location.href.indexOf("coolmathgames.com")>-1&&"string"==typeof window.ramp.config&&Je({url:window.ramp.config,method:"get",timestamp:Date.now()}).then((({data:e})=>{window.PageOS.BUS.emit("gotConfigCMG",JSON.parse(e))})).catch((()=>{S.Ay.error("Unable to fetch CMG platform config.")}));const Ti=e=>{var t;!function(e){window.PageOS.zctaLookup=window.PageOS.zctaLookup||{};const t=window.PageOS.zctaLookup,i=(0,y.al)("zip");t.dataPromise=new Promise((n=>{if(t.data=!1,void 0===window.pwEdgeFlags&&!i)return void n();if(i&&(window.pwEdgeFlags=window.pwEdgeFlags||{},window.pwEdgeFlags.zipCode=i),"US"!==e.countryCode||window._pwUserInCA||e.isCOPPA)return void n();if(void 0!==window.pwEdgeFlags.zcta)return t.data=window.pwEdgeFlags.zcta,void n();const r=window.pwEdgeFlags.zipCode,o=`https://cdn.intergi.com/zctas/${r}/params.json`;if("string"!=typeof r||5!==r.length)return S._q.error("No zip code provided"),void n();const s=new XMLHttpRequest;s.open("GET",o,!0),s.onload=()=>{try{t.data=JSON.parse(s.responseText),n()}catch(e){S._q.error("Error fetching zctas data for zip code.",{zipCode:r}),n()}},s.onerror=()=>{S._q.error("Error fetching zctas data from CDN"),n()},s.send()}))}(e),x(e),new vt(e),!0===window.pwEdgeFlags.disableDmp||(t=window.pwEdgeFlags.dmpDisabledDomains)&&Array.isArray(t)&&t.some((e=>window.location.href.indexOf(e)>-1))||window.PageOS.BUS.after("userData_ready",(()=>new yt(e))),window.PageOS.BUS.after("userData_ready",(()=>function(){if(!0!==window.ramp.settings.config.settings.magniteData||!0===window.PageOS.gdpr.userInEU||!0!==window.PageOS.userData.ready)return;const e=document.createElement("script");e.type="text/javascript",e.text='!function(a,l,b,c,k,s,t,g,A){a.CustomerConnectAnalytics=k,a[k]=a[k]||function(){ (a[k].q=a[k].q||[]).push(arguments)},g=l.createElement(b),A=l.getElementsByTagName(b)[0],g.type="text/javascript",g.async=!0,g.src=c+"?id="+s+"&parentId="+t,A.parentNode.insertBefore(g,A) }(window,document,"script","//carbon-cdn.ccgateway.net/script","cca",window.location.hostname,"5bb3e20859");',document.head.appendChild(e)}())),window.PageOS.adUtils.adRequestCheck=Bt,window.PageOS.adUtils.calculateFloor=Rt,Mt();const n=!!(0,y.al)("ccpa"),r=!(!window.ramp||!window.ramp.settings)&&window.ramp.settings.config;(new Ai).init();r&&r.settings.blockthrough&&pt(Nt,"Blockthrough script"),window.PageOS.ccpaApplies=window._pwUserInCA,window._pwUserInCA||n?i.e(16).then(i.bind(i,495)).catch((e=>{S.D4.error("Error loading CCPA module.",e)})):(0,y.UM)("usprivacy")||(document.cookie="usprivacy=1---;path=/;max-age=33696000"),(()=>{if(window.ramp=window.ramp||{},window.ramp.settings=window.ramp.settings||{},window.ramp.settings.config?.settings?.iframedApsTag)li=window.ramp.settings.config.settings.iframedApsTag;else try{const e=pi();e?.iframedApsTag&&(li=e.iframedApsTag)}catch(e){}if(li){if(null!==document.getElementById("pw_aps_iframe"))return;window.PageOS.BUS.after("gdpr_ready",(()=>{window.PageOS.gdpr&&window.PageOS.gdpr.isCOPPA||(ci=gi(),hi(ci),fi())}))}else{const e=()=>{if(window.ramp&&window.ramp.settings&&window.ramp.settings.apstagLoaded)return void window.PageOS.BUS.emit("ApsTagLoaded");const e=ui();window.apstag.init(e,(()=>{S.In.info("Normal APS tag loaded"),window.ramp.settings.apstagLoaded=!0,window.ramp.settings.apstagIframed=!1,wi(),window.PageOS.BUS.emit("ApsTagLoaded")}))};window.PageOS.BUS.after("gdpr_ready",(()=>{window.PageOS.gdpr&&window.PageOS.gdpr.isCOPPA?(window.ramp.settings.apstagLoaded=!1,window.PageOS.BUS.emit("ApsTagLoaded")):di(e)}))}})()},Di=()=>{if((0,y.al)("pw_diagnostics")){const e="https://cdn.intergient.com/diagnostics/index.umd.cjs";try{Se(e,!1,(()=>{(new DiagnosticsTool).renderTool()}))}catch(e){S.D4.error("Error loading Diagnostics Tool.",e)}}if(window.googletag?window.PageOS.BUS.emit("GPT_loaded"):(()=>{const e=document.createElement("script");e.type="text/javascript",e.src="https://securepubads.g.doubleclick.net/tag/js/gpt.js",e.onload=()=>{window.PageOS.BUS.emit("GPTReady"),window.PageOS.BUS.emit("GPT_loaded")},document.head.appendChild(e)})(),pt($t,"ReportingObserver listener"),new _,pt(Ke,"Prebid.js"),C(),pt(ai,"UID2"),de(),Qt(),window.PageOS.BUS.on("gotConfig",(e=>{window.location.href.indexOf("coolmathgames.com")>-1?window.PageOS.BUS.after("gotConfigCMG",(t=>{Li(t),Ti(e)})):Ti(e)}),!0),window.PageOS.BUS.on("gotConfig",(e=>{!1===e.isCOPPA&&e.playerId&&(window.PageOS.userData.ready?window.PageOS.userData.initBoltTracking(e.playerId):window.PageOS.BUS.on("userData_ready",(()=>{window.PageOS.userData.initBoltTracking(e.playerId)})))}),!1),window.ramp&&(window.ramp.config||window.PageOS.adsPerformance)){(new ut).init()}},Bi=e=>{(()=>{const e=void 0!==window.ramp,t=window.ramp&&"string"==typeof window.ramp.config,i=window.PageOS.adsPerformance;return!e||!(!t&&!i)})()?e():window.PageOS.run=()=>{delete window.PageOS.run,e()}},Li=e=>{const{priceFloors:t,displayPriceFloors:i,videoPriceFloors:n,multipliers:r,iabIds:o}=e.settings,s=window.ramp.settings.config;void 0!==t&&(s.settings.priceFloors=t),void 0!==i&&(s.settings.displayPriceFloors=i),void 0!==n&&(s.settings.videoPriceFloors=n),void 0!==r&&(s.settings.multipliers=r),void 0!==o&&(s.settings.iabIds=o);const a=window.ramp.settings.device,d={display:(0,y.Go)(s.headerBidding),video:(0,y.Go)(s.headerBidding)};void 0!==e.headerBidding.display[a]&&(d.display[a].setPriceFloor=e.headerBidding.display[a].setPriceFloor),void 0!==e.headerBidding.video[a]&&(d.video[a].setPriceFloor=e.headerBidding.video[a].setPriceFloor),window.ramp.settings.config.headerBidding=d};void 0!==window.PageOS.delay?window.PageOS.domReadyPromise.then((()=>{setTimeout((()=>{Bi(Di)}),window.PageOS.delay)})):Bi(Di)},4019:e=>{e.exports=e=>{const i=unescape(encodeURIComponent(e)),n=t(i),r=d(n,8*i.length),o=c(r);return l(o)};const t=e=>{let t=[];t[(e.length>>2)-1]=void 0;for(let e=0;e<t.length;e++)t[e]=0;for(let i=0;i<8*e.length;i+=8)t[i>>5]|=(255&e.charCodeAt(i/8))<<i%32;return t},i=(e,t)=>{let i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i},n=(e,t,n,r,o,s)=>{return i((a=i(i(t,e),i(r,s)))<<(d=o)|a>>>32-d,n);var a,d},r=(e,t,i,r,o,s,a)=>n(t&i|~t&r,e,t,o,s,a),o=(e,t,i,r,o,s,a)=>n(t&r|i&~r,e,t,o,s,a),s=(e,t,i,r,o,s,a)=>n(t^i^r,e,t,o,s,a),a=(e,t,i,r,o,s,a)=>n(i^(t|~r),e,t,o,s,a),d=(e,t)=>{e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let n=1732584193,d=-271733879,c=-1732584194,l=271733878;const p=n,u=d,g=c,h=l;for(let t=0;t<e.length;t+=16)n=r(n,d,c,l,e[t],7,-680876936),l=r(l,n,d,c,e[t+1],12,-389564586),c=r(c,l,n,d,e[t+2],17,606105819),d=r(d,c,l,n,e[t+3],22,-1044525330),n=r(n,d,c,l,e[t+4],7,-176418897),l=r(l,n,d,c,e[t+5],12,1200080426),c=r(c,l,n,d,e[t+6],17,-1473231341),d=r(d,c,l,n,e[t+7],22,-45705983),n=r(n,d,c,l,e[t+8],7,1770035416),l=r(l,n,d,c,e[t+9],12,-1958414417),c=r(c,l,n,d,e[t+10],17,-42063),d=r(d,c,l,n,e[t+11],22,-1990404162),n=r(n,d,c,l,e[t+12],7,1804603682),l=r(l,n,d,c,e[t+13],12,-40341101),c=r(c,l,n,d,e[t+14],17,-1502002290),d=r(d,c,l,n,e[t+15],22,1236535329),n=o(n,d,c,l,e[t+1],5,-165796510),l=o(l,n,d,c,e[t+6],9,-1069501632),c=o(c,l,n,d,e[t+11],14,643717713),d=o(d,c,l,n,e[t],20,-373897302),n=o(n,d,c,l,e[t+5],5,-701558691),l=o(l,n,d,c,e[t+10],9,38016083),c=o(c,l,n,d,e[t+15],14,-660478335),d=o(d,c,l,n,e[t+4],20,-405537848),n=o(n,d,c,l,e[t+9],5,568446438),l=o(l,n,d,c,e[t+14],9,-1019803690),c=o(c,l,n,d,e[t+3],14,-187363961),d=o(d,c,l,n,e[t+8],20,1163531501),n=o(n,d,c,l,e[t+13],5,-1444681467),l=o(l,n,d,c,e[t+2],9,-51403784),c=o(c,l,n,d,e[t+7],14,1735328473),d=o(d,c,l,n,e[t+12],20,-1926607734),n=s(n,d,c,l,e[t+5],4,-378558),l=s(l,n,d,c,e[t+8],11,-2022574463),c=s(c,l,n,d,e[t+11],16,1839030562),d=s(d,c,l,n,e[t+14],23,-35309556),n=s(n,d,c,l,e[t+1],4,-1530992060),l=s(l,n,d,c,e[t+4],11,1272893353),c=s(c,l,n,d,e[t+7],16,-155497632),d=s(d,c,l,n,e[t+10],23,-1094730640),n=s(n,d,c,l,e[t+13],4,681279174),l=s(l,n,d,c,e[t],11,-358537222),c=s(c,l,n,d,e[t+3],16,-722521979),d=s(d,c,l,n,e[t+6],23,76029189),n=s(n,d,c,l,e[t+9],4,-640364487),l=s(l,n,d,c,e[t+12],11,-421815835),c=s(c,l,n,d,e[t+15],16,530742520),d=s(d,c,l,n,e[t+2],23,-995338651),n=a(n,d,c,l,e[t],6,-198630844),l=a(l,n,d,c,e[t+7],10,1126891415),c=a(c,l,n,d,e[t+14],15,-1416354905),d=a(d,c,l,n,e[t+5],21,-57434055),n=a(n,d,c,l,e[t+12],6,1700485571),l=a(l,n,d,c,e[t+3],10,-1894986606),c=a(c,l,n,d,e[t+10],15,-1051523),d=a(d,c,l,n,e[t+1],21,-2054922799),n=a(n,d,c,l,e[t+8],6,1873313359),l=a(l,n,d,c,e[t+15],10,-30611744),c=a(c,l,n,d,e[t+6],15,-1560198380),d=a(d,c,l,n,e[t+13],21,1309151649),n=a(n,d,c,l,e[t+4],6,-145523070),l=a(l,n,d,c,e[t+11],10,-1120210379),c=a(c,l,n,d,e[t+2],15,718787259),d=a(d,c,l,n,e[t+9],21,-343485551),n=i(n,p),d=i(d,u),c=i(c,g),l=i(l,h);return[n,d,c,l]},c=e=>{const t=32*e.length;let i="";for(let n=0;n<t;n+=8)i+=String.fromCharCode(e[n>>5]>>>n%32&255);return i},l=e=>{const t="0123456789abcdef";let i="";for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);i+=t.charAt(r>>>4&15)+t.charAt(15&r)}return i}},5145:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),i=t[0],n=t[1];return 3*(i+n)/4-n},t.toByteArray=function(e){var t,i,o=a(e),s=o[0],d=o[1],c=new r(function(e,t,i){return 3*(t+i)/4-i}(0,s,d)),l=0,p=d>0?s-4:s;for(i=0;i<p;i+=4)t=n[e.charCodeAt(i)]<<18|n[e.charCodeAt(i+1)]<<12|n[e.charCodeAt(i+2)]<<6|n[e.charCodeAt(i+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===d&&(t=n[e.charCodeAt(i)]<<2|n[e.charCodeAt(i+1)]>>4,c[l++]=255&t);1===d&&(t=n[e.charCodeAt(i)]<<10|n[e.charCodeAt(i+1)]<<4|n[e.charCodeAt(i+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],s=16383,a=0,c=n-r;a<c;a+=s)o.push(d(e,a,a+s>c?c:a+s));1===r?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return o.join("")};for(var i=[],n=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)i[s]=o[s],n[o.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function d(e,t,n){for(var r,o,s=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},8287:(e,t,i)=>{"use strict";var n=i(5145),r=i(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=d,t.IS=50;var s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,d.prototype),t}function d(e,t,i){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return p(e)}return c(e,t,i)}function c(e,t,i){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!d.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var i=0|w(e,t),n=a(i),r=n.write(e,t);r!==i&&(n=n.slice(0,r));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(F(e,Uint8Array)){var t=new Uint8Array(e);return g(t.buffer,t.byteOffset,t.byteLength)}return u(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(F(e,ArrayBuffer)||e&&F(e.buffer,ArrayBuffer))return g(e,t,i);if("undefined"!=typeof SharedArrayBuffer&&(F(e,SharedArrayBuffer)||e&&F(e.buffer,SharedArrayBuffer)))return g(e,t,i);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return d.from(n,t,i);var r=function(e){if(d.isBuffer(e)){var t=0|h(e.length),i=a(t);return 0===i.length||e.copy(i,0,0,t),i}if(void 0!==e.length)return"number"!=typeof e.length||W(e.length)?a(0):u(e);if("Buffer"===e.type&&Array.isArray(e.data))return u(e.data)}(e);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return d.from(e[Symbol.toPrimitive]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function p(e){return l(e),a(e<0?0:0|h(e))}function u(e){for(var t=e.length<0?0:0|h(e.length),i=a(t),n=0;n<t;n+=1)i[n]=255&e[n];return i}function g(e,t,i){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,t):new Uint8Array(e,t,i),Object.setPrototypeOf(n,d.prototype),n}function h(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function w(e,t){if(d.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||F(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var i=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===i)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return $(e).length;default:if(r)return n?-1:j(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,i){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return U(this,t,i);case"utf8":case"utf-8":return I(this,t,i);case"ascii":return A(this,t,i);case"latin1":case"binary":return C(this,t,i);case"base64":return E(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function f(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function y(e,t,i,n,r){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),W(i=+i)&&(i=r?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(r)return-1;i=e.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof t&&(t=d.from(t,n)),d.isBuffer(t))return 0===t.length?-1:_(e,t,i,n,r);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):_(e,[t],i,n,r);throw new TypeError("val must be string, number or Buffer")}function _(e,t,i,n,r){var o,s=1,a=e.length,d=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,d/=2,i/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(r){var l=-1;for(o=i;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===d)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(i+d>a&&(i=a-d),o=i;o>=0;o--){for(var p=!0,u=0;u<d;u++)if(c(e,o+u)!==c(t,u)){p=!1;break}if(p)return o}return-1}function v(e,t,i,n){i=Number(i)||0;var r=e.length-i;n?(n=Number(n))>r&&(n=r):n=r;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(W(a))return s;e[i+s]=a}return s}function b(e,t,i,n){return N(j(t,e.length-i),e,i,n)}function S(e,t,i,n){return N(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,n)}function O(e,t,i,n){return N($(t),e,i,n)}function P(e,t,i,n){return N(function(e,t){for(var i,n,r,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(i=e.charCodeAt(s))>>8,r=i%256,o.push(r),o.push(n);return o}(t,e.length-i),e,i,n)}function E(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function I(e,t,i){i=Math.min(e.length,i);for(var n=[],r=t;r<i;){var o,s,a,d,c=e[r],l=null,p=c>239?4:c>223?3:c>191?2:1;if(r+p<=i)switch(p){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[r+1]))&&(d=(31&c)<<6|63&o)>127&&(l=d);break;case 3:o=e[r+1],s=e[r+2],128==(192&o)&&128==(192&s)&&(d=(15&c)<<12|(63&o)<<6|63&s)>2047&&(d<55296||d>57343)&&(l=d);break;case 4:o=e[r+1],s=e[r+2],a=e[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(d=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&d<1114112&&(l=d)}null===l?(l=65533,p=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),r+=p}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);var i="",n=0;for(;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=k));return i}(n)}d.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),d.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),d.poolSize=8192,d.from=function(e,t,i){return c(e,t,i)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array),d.alloc=function(e,t,i){return function(e,t,i){return l(e),e<=0?a(e):void 0!==t?"string"==typeof i?a(e).fill(t,i):a(e).fill(t):a(e)}(e,t,i)},d.allocUnsafe=function(e){return p(e)},d.allocUnsafeSlow=function(e){return p(e)},d.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==d.prototype},d.compare=function(e,t){if(F(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),F(t,Uint8Array)&&(t=d.from(t,t.offset,t.byteLength)),!d.isBuffer(e)||!d.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,r=0,o=Math.min(i,n);r<o;++r)if(e[r]!==t[r]){i=e[r],n=t[r];break}return i<n?-1:n<i?1:0},d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return d.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=d.allocUnsafe(t),r=0;for(i=0;i<e.length;++i){var o=e[i];if(F(o,Uint8Array))r+o.length>n.length?d.from(o).copy(n,r):Uint8Array.prototype.set.call(n,o,r);else{if(!d.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r)}r+=o.length}return n},d.byteLength=w,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},d.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},d.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},d.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):m.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(e){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===d.compare(this,e)},d.prototype.inspect=function(){var e="",i=t.IS;return e=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(e+=" ... "),"<Buffer "+e+">"},o&&(d.prototype[o]=d.prototype.inspect),d.prototype.compare=function(e,t,i,n,r){if(F(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),!d.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),t<0||i>e.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=i)return 0;if(n>=r)return-1;if(t>=i)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(n>>>=0),s=(i>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(n,r),l=e.slice(t,i),p=0;p<a;++p)if(c[p]!==l[p]){o=c[p],s=l[p];break}return o<s?-1:s<o?1:0},d.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},d.prototype.indexOf=function(e,t,i){return y(this,e,t,i,!0)},d.prototype.lastIndexOf=function(e,t,i){return y(this,e,t,i,!1)},d.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(i)?(i>>>=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-t;if((void 0===i||i>r)&&(i=r),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return v(this,e,t,i);case"utf8":case"utf-8":return b(this,e,t,i);case"ascii":case"latin1":case"binary":return S(this,e,t,i);case"base64":return O(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function A(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(127&e[r]);return n}function C(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(e[r]);return n}function U(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);for(var r="",o=t;o<i;++o)r+=H[e[o]];return r}function x(e,t,i){for(var n=e.slice(t,i),r="",o=0;o<n.length-1;o+=2)r+=String.fromCharCode(n[o]+256*n[o+1]);return r}function T(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,i,n,r,o){if(!d.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function B(e,t,i,n,r,o){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function L(e,t,i,n,o){return t=+t,i>>>=0,o||B(e,0,i,4),r.write(e,t,i,n,23,4),i+4}function R(e,t,i,n,o){return t=+t,i>>>=0,o||B(e,0,i,8),r.write(e,t,i,n,52,8),i+8}d.prototype.slice=function(e,t){var i=this.length;(e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,d.prototype),n},d.prototype.readUintLE=d.prototype.readUIntLE=function(e,t,i){e>>>=0,t>>>=0,i||T(e,t,this.length);for(var n=this[e],r=1,o=0;++o<t&&(r*=256);)n+=this[e+o]*r;return n},d.prototype.readUintBE=d.prototype.readUIntBE=function(e,t,i){e>>>=0,t>>>=0,i||T(e,t,this.length);for(var n=this[e+--t],r=1;t>0&&(r*=256);)n+=this[e+--t]*r;return n},d.prototype.readUint8=d.prototype.readUInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),this[e]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]|this[e+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]<<8|this[e+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},d.prototype.readIntLE=function(e,t,i){e>>>=0,t>>>=0,i||T(e,t,this.length);for(var n=this[e],r=1,o=0;++o<t&&(r*=256);)n+=this[e+o]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*t)),n},d.prototype.readIntBE=function(e,t,i){e>>>=0,t>>>=0,i||T(e,t,this.length);for(var n=t,r=1,o=this[e+--n];n>0&&(r*=256);)o+=this[e+--n]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},d.prototype.readInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},d.prototype.readInt16LE=function(e,t){e>>>=0,t||T(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},d.prototype.readInt16BE=function(e,t){e>>>=0,t||T(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},d.prototype.readInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},d.prototype.readInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},d.prototype.readFloatLE=function(e,t){return e>>>=0,t||T(e,4,this.length),r.read(this,e,!0,23,4)},d.prototype.readFloatBE=function(e,t){return e>>>=0,t||T(e,4,this.length),r.read(this,e,!1,23,4)},d.prototype.readDoubleLE=function(e,t){return e>>>=0,t||T(e,8,this.length),r.read(this,e,!0,52,8)},d.prototype.readDoubleBE=function(e,t){return e>>>=0,t||T(e,8,this.length),r.read(this,e,!1,52,8)},d.prototype.writeUintLE=d.prototype.writeUIntLE=function(e,t,i,n){(e=+e,t>>>=0,i>>>=0,n)||D(this,e,t,i,Math.pow(2,8*i)-1,0);var r=1,o=0;for(this[t]=255&e;++o<i&&(r*=256);)this[t+o]=e/r&255;return t+i},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(e,t,i,n){(e=+e,t>>>=0,i>>>=0,n)||D(this,e,t,i,Math.pow(2,8*i)-1,0);var r=i-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+i},d.prototype.writeUint8=d.prototype.writeUInt8=function(e,t,i){return e=+e,t>>>=0,i||D(this,e,t,1,255,0),this[t]=255&e,t+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(e,t,i){return e=+e,t>>>=0,i||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(e,t,i){return e=+e,t>>>=0,i||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(e,t,i){return e=+e,t>>>=0,i||D(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(e,t,i){return e=+e,t>>>=0,i||D(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},d.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t>>>=0,!n){var r=Math.pow(2,8*i-1);D(this,e,t,i,r-1,-r)}var o=0,s=1,a=0;for(this[t]=255&e;++o<i&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+i},d.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t>>>=0,!n){var r=Math.pow(2,8*i-1);D(this,e,t,i,r-1,-r)}var o=i-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+i},d.prototype.writeInt8=function(e,t,i){return e=+e,t>>>=0,i||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},d.prototype.writeInt16LE=function(e,t,i){return e=+e,t>>>=0,i||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},d.prototype.writeInt16BE=function(e,t,i){return e=+e,t>>>=0,i||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},d.prototype.writeInt32LE=function(e,t,i){return e=+e,t>>>=0,i||D(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},d.prototype.writeInt32BE=function(e,t,i){return e=+e,t>>>=0,i||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},d.prototype.writeFloatLE=function(e,t,i){return L(this,e,t,!0,i)},d.prototype.writeFloatBE=function(e,t,i){return L(this,e,t,!1,i)},d.prototype.writeDoubleLE=function(e,t,i){return R(this,e,t,!0,i)},d.prototype.writeDoubleBE=function(e,t,i){return R(this,e,t,!1,i)},d.prototype.copy=function(e,t,i,n){if(!d.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var r=n-i;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),r},d.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!d.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var r=e.charCodeAt(0);("utf8"===n&&r<128||"latin1"===n)&&(e=r)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var o;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(o=t;o<i;++o)this[o]=e;else{var s=d.isBuffer(e)?e:d.from(e,n),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=s[o%a]}return this};var M=/[^+/0-9A-Za-z-_]/g;function j(e,t){var i;t=t||1/0;for(var n=e.length,r=null,o=[],s=0;s<n;++s){if((i=e.charCodeAt(s))>55295&&i<57344){if(!r){if(i>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}r=i;continue}if(i<56320){(t-=3)>-1&&o.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,i<128){if((t-=1)<0)break;o.push(i)}else if(i<2048){if((t-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function $(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function N(e,t,i,n){for(var r=0;r<n&&!(r+i>=t.length||r>=e.length);++r)t[r+i]=e[r];return r}function F(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function W(e){return e!=e}var H=function(){for(var e="0123456789abcdef",t=new Array(256),i=0;i<16;++i)for(var n=16*i,r=0;r<16;++r)t[n+r]=e[i]+e[r];return t}()},6807:(e,t,i)=>{i(5165),i(6094).Array.values},3387:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},8184:(e,t,i)=>{var n=i(7574)("unscopables"),r=Array.prototype;null==r[n]&&i(3341)(r,n,{}),e.exports=function(e){r[n][e]=!0}},6440:e=>{e.exports=function(e,t,i,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(i+": incorrect invocation!");return e}},4228:(e,t,i)=>{var n=i(3305);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},1464:(e,t,i)=>{var n=i(7221),r=i(1485),o=i(157);e.exports=function(e){return function(t,i,s){var a,d=n(t),c=r(d.length),l=o(s,c);if(e&&i!=i){for(;c>l;)if((a=d[l++])!=a)return!0}else for(;c>l;l++)if((e||l in d)&&d[l]===i)return e||l||0;return!e&&-1}}},4848:(e,t,i)=>{var n=i(5089),r=i(7574)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,i,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?i:o?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},5089:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},6094:e=>{var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},5052:(e,t,i)=>{var n=i(3387);e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}}},3344:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},1763:(e,t,i)=>{e.exports=!i(9448)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},6034:(e,t,i)=>{var n=i(3305),r=i(7526).document,o=n(r)&&n(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},6140:e=>{e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},2127:(e,t,i)=>{var n=i(7526),r=i(6094),o=i(3341),s=i(8859),a=i(5052),d="prototype",c=function(e,t,i){var l,p,u,g,h=e&c.F,w=e&c.G,m=e&c.S,f=e&c.P,y=e&c.B,_=w?n:m?n[t]||(n[t]={}):(n[t]||{})[d],v=w?r:r[t]||(r[t]={}),b=v[d]||(v[d]={});for(l in w&&(i=t),i)u=((p=!h&&_&&void 0!==_[l])?_:i)[l],g=y&&p?a(u,n):f&&"function"==typeof u?a(Function.call,u):u,_&&s(_,l,u,e&c.U),v[l]!=u&&o(v,l,g),f&&b[l]!=u&&(b[l]=u)};n.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},9448:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},8790:(e,t,i)=>{var n=i(5052),r=i(7368),o=i(1508),s=i(4228),a=i(1485),d=i(762),c={},l={},p=e.exports=function(e,t,i,p,u){var g,h,w,m,f=u?function(){return e}:d(e),y=n(i,p,t?2:1),_=0;if("function"!=typeof f)throw TypeError(e+" is not iterable!");if(o(f)){for(g=a(e.length);g>_;_++)if((m=t?y(s(h=e[_])[0],h[1]):y(e[_]))===c||m===l)return m}else for(w=f.call(e);!(h=w.next()).done;)if((m=r(w,y,h.value,t))===c||m===l)return m};p.BREAK=c,p.RETURN=l},9461:(e,t,i)=>{e.exports=i(4556)("native-function-to-string",Function.toString)},7526:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},7917:e=>{var t={}.hasOwnProperty;e.exports=function(e,i){return t.call(e,i)}},3341:(e,t,i)=>{var n=i(7967),r=i(1996);e.exports=i(1763)?function(e,t,i){return n.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},1308:(e,t,i)=>{var n=i(7526).document;e.exports=n&&n.documentElement},2956:(e,t,i)=>{e.exports=!i(1763)&&!i(9448)((function(){return 7!=Object.defineProperty(i(6034)("div"),"a",{get:function(){return 7}}).a}))},4877:e=>{e.exports=function(e,t,i){var n=void 0===i;switch(t.length){case 0:return n?e():e.call(i);case 1:return n?e(t[0]):e.call(i,t[0]);case 2:return n?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},1249:(e,t,i)=>{var n=i(5089);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},1508:(e,t,i)=>{var n=i(906),r=i(7574)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[r]===e)}},3305:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},7368:(e,t,i)=>{var n=i(4228);e.exports=function(e,t,i,r){try{return r?t(n(i)[0],i[1]):t(i)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},6032:(e,t,i)=>{"use strict";var n=i(4719),r=i(1996),o=i(3844),s={};i(3341)(s,i(7574)("iterator"),(function(){return this})),e.exports=function(e,t,i){e.prototype=n(s,{next:r(1,i)}),o(e,t+" Iterator")}},8175:(e,t,i)=>{"use strict";var n=i(2750),r=i(2127),o=i(8859),s=i(3341),a=i(906),d=i(6032),c=i(3844),l=i(627),p=i(7574)("iterator"),u=!([].keys&&"next"in[].keys()),g="keys",h="values",w=function(){return this};e.exports=function(e,t,i,m,f,y,_){d(i,t,m);var v,b,S,O=function(e){if(!u&&e in k)return k[e];switch(e){case g:case h:return function(){return new i(this,e)}}return function(){return new i(this,e)}},P=t+" Iterator",E=f==h,I=!1,k=e.prototype,A=k[p]||k["@@iterator"]||f&&k[f],C=A||O(f),U=f?E?O("entries"):C:void 0,x="Array"==t&&k.entries||A;if(x&&(S=l(x.call(new e)))!==Object.prototype&&S.next&&(c(S,P,!0),n||"function"==typeof S[p]||s(S,p,w)),E&&A&&A.name!==h&&(I=!0,C=function(){return A.call(this)}),n&&!_||!u&&!I&&k[p]||s(k,p,C),a[t]=C,a[P]=w,f)if(v={values:E?C:O(h),keys:y?C:O(g),entries:U},_)for(b in v)b in k||o(k,b,v[b]);else r(r.P+r.F*(u||I),t,v);return v}},8931:(e,t,i)=>{var n=i(7574)("iterator"),r=!1;try{var o=[7][n]();o.return=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var i=!1;try{var o=[7],s=o[n]();s.next=function(){return{done:i=!0}},o[n]=function(){return s},e(o)}catch(e){}return i}},4970:e=>{e.exports=function(e,t){return{value:t,done:!!e}}},906:e=>{e.exports={}},2750:e=>{e.exports=!1},1384:(e,t,i)=>{var n=i(7526),r=i(2780).set,o=n.MutationObserver||n.WebKitMutationObserver,s=n.process,a=n.Promise,d="process"==i(5089)(s);e.exports=function(){var e,t,i,c=function(){var n,r;for(d&&(n=s.domain)&&n.exit();e;){r=e.fn,e=e.next;try{r()}catch(n){throw e?i():t=void 0,n}}t=void 0,n&&n.enter()};if(d)i=function(){s.nextTick(c)};else if(!o||n.navigator&&n.navigator.standalone)if(a&&a.resolve){var l=a.resolve(void 0);i=function(){l.then(c)}}else i=function(){r.call(n,c)};else{var p=!0,u=document.createTextNode("");new o(c).observe(u,{characterData:!0}),i=function(){u.data=p=!p}}return function(n){var r={fn:n,next:void 0};t&&(t.next=r),e||(e=r,i()),t=r}}},4258:(e,t,i)=>{"use strict";var n=i(3387);function r(e){var t,i;this.promise=new e((function(e,n){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e,i=n})),this.resolve=n(t),this.reject=n(i)}e.exports.f=function(e){return new r(e)}},4719:(e,t,i)=>{var n=i(4228),r=i(1626),o=i(6140),s=i(766)("IE_PROTO"),a=function(){},d="prototype",c=function(){var e,t=i(6034)("iframe"),n=o.length;for(t.style.display="none",i(1308).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;n--;)delete c[d][o[n]];return c()};e.exports=Object.create||function(e,t){var i;return null!==e?(a[d]=n(e),i=new a,a[d]=null,i[s]=e):i=c(),void 0===t?i:r(i,t)}},7967:(e,t,i)=>{var n=i(4228),r=i(2956),o=i(3048),s=Object.defineProperty;t.f=i(1763)?Object.defineProperty:function(e,t,i){if(n(e),t=o(t,!0),n(i),r)try{return s(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},1626:(e,t,i)=>{var n=i(7967),r=i(4228),o=i(1311);e.exports=i(1763)?Object.defineProperties:function(e,t){r(e);for(var i,s=o(t),a=s.length,d=0;a>d;)n.f(e,i=s[d++],t[i]);return e}},627:(e,t,i)=>{var n=i(7917),r=i(8270),o=i(766)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},4561:(e,t,i)=>{var n=i(7917),r=i(7221),o=i(1464)(!1),s=i(766)("IE_PROTO");e.exports=function(e,t){var i,a=r(e),d=0,c=[];for(i in a)i!=s&&n(a,i)&&c.push(i);for(;t.length>d;)n(a,i=t[d++])&&(~o(c,i)||c.push(i));return c}},1311:(e,t,i)=>{var n=i(4561),r=i(6140);e.exports=Object.keys||function(e){return n(e,r)}},128:e=>{e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},5957:(e,t,i)=>{var n=i(4228),r=i(3305),o=i(4258);e.exports=function(e,t){if(n(e),r(t)&&t.constructor===e)return t;var i=o.f(e);return(0,i.resolve)(t),i.promise}},1996:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6065:(e,t,i)=>{var n=i(8859);e.exports=function(e,t,i){for(var r in t)n(e,r,t[r],i);return e}},8859:(e,t,i)=>{var n=i(7526),r=i(3341),o=i(7917),s=i(4415)("src"),a=i(9461),d="toString",c=(""+a).split(d);i(6094).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,i,a){var d="function"==typeof i;d&&(o(i,"name")||r(i,"name",t)),e[t]!==i&&(d&&(o(i,s)||r(i,s,e[t]?""+e[t]:c.join(String(t)))),e===n?e[t]=i:a?e[t]?e[t]=i:r(e,t,i):(delete e[t],r(e,t,i)))})(Function.prototype,d,(function(){return"function"==typeof this&&this[s]||a.call(this)}))},5762:(e,t,i)=>{"use strict";var n=i(7526),r=i(7967),o=i(1763),s=i(7574)("species");e.exports=function(e){var t=n[e];o&&t&&!t[s]&&r.f(t,s,{configurable:!0,get:function(){return this}})}},3844:(e,t,i)=>{var n=i(7967).f,r=i(7917),o=i(7574)("toStringTag");e.exports=function(e,t,i){e&&!r(e=i?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},766:(e,t,i)=>{var n=i(4556)("keys"),r=i(4415);e.exports=function(e){return n[e]||(n[e]=r(e))}},4556:(e,t,i)=>{var n=i(6094),r=i(7526),o="__core-js_shared__",s=r[o]||(r[o]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:i(2750)?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},9190:(e,t,i)=>{var n=i(4228),r=i(3387),o=i(7574)("species");e.exports=function(e,t){var i,s=n(e).constructor;return void 0===s||null==(i=n(s)[o])?t:r(i)}},2780:(e,t,i)=>{var n,r,o,s=i(5052),a=i(4877),d=i(1308),c=i(6034),l=i(7526),p=l.process,u=l.setImmediate,g=l.clearImmediate,h=l.MessageChannel,w=l.Dispatch,m=0,f={},y="onreadystatechange",_=function(){var e=+this;if(f.hasOwnProperty(e)){var t=f[e];delete f[e],t()}},v=function(e){_.call(e.data)};u&&g||(u=function(e){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return f[++m]=function(){a("function"==typeof e?e:Function(e),t)},n(m),m},g=function(e){delete f[e]},"process"==i(5089)(p)?n=function(e){p.nextTick(s(_,e,1))}:w&&w.now?n=function(e){w.now(s(_,e,1))}:h?(o=(r=new h).port2,r.port1.onmessage=v,n=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",v,!1)):n=y in c("script")?function(e){d.appendChild(c("script"))[y]=function(){d.removeChild(this),_.call(e)}}:function(e){setTimeout(s(_,e,1),0)}),e.exports={set:u,clear:g}},157:(e,t,i)=>{var n=i(7087),r=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?r(e+t,0):o(e,t)}},7087:e=>{var t=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:t)(e)}},7221:(e,t,i)=>{var n=i(1249),r=i(3344);e.exports=function(e){return n(r(e))}},1485:(e,t,i)=>{var n=i(7087),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},8270:(e,t,i)=>{var n=i(3344);e.exports=function(e){return Object(n(e))}},3048:(e,t,i)=>{var n=i(3305);e.exports=function(e,t){if(!n(e))return e;var i,r;if(t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;if("function"==typeof(i=e.valueOf)&&!n(r=i.call(e)))return r;if(!t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},4415:e=>{var t=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+i).toString(36))}},4514:(e,t,i)=>{var n=i(7526).navigator;e.exports=n&&n.userAgent||""},7574:(e,t,i)=>{var n=i(4556)("wks"),r=i(4415),o=i(7526).Symbol,s="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=s&&o[e]||(s?o:r)("Symbol."+e))}).store=n},762:(e,t,i)=>{var n=i(4848),r=i(7574)("iterator"),o=i(906);e.exports=i(6094).getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||o[n(e)]}},5165:(e,t,i)=>{"use strict";var n=i(8184),r=i(4970),o=i(906),s=i(7221);e.exports=i(8175)(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])}),"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},6517:(e,t,i)=>{"use strict";var n,r,o,s,a=i(2750),d=i(7526),c=i(5052),l=i(4848),p=i(2127),u=i(3305),g=i(3387),h=i(6440),w=i(8790),m=i(9190),f=i(2780).set,y=i(1384)(),_=i(4258),v=i(128),b=i(4514),S=i(5957),O="Promise",P=d.TypeError,E=d.process,I=E&&E.versions,k=I&&I.v8||"",A=d[O],C="process"==l(E),U=function(){},x=r=_.f,T=!!function(){try{var e=A.resolve(1),t=(e.constructor={})[i(7574)("species")]=function(e){e(U,U)};return(C||"function"==typeof PromiseRejectionEvent)&&e.then(U)instanceof t&&0!==k.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(e){}}(),D=function(e){var t;return!(!u(e)||"function"!=typeof(t=e.then))&&t},B=function(e,t){if(!e._n){e._n=!0;var i=e._c;y((function(){for(var n=e._v,r=1==e._s,o=0,s=function(t){var i,o,s,a=r?t.ok:t.fail,d=t.resolve,c=t.reject,l=t.domain;try{a?(r||(2==e._h&&M(e),e._h=1),!0===a?i=n:(l&&l.enter(),i=a(n),l&&(l.exit(),s=!0)),i===t.promise?c(P("Promise-chain cycle")):(o=D(i))?o.call(i,d,c):d(i)):c(n)}catch(e){l&&!s&&l.exit(),c(e)}};i.length>o;)s(i[o++]);e._c=[],e._n=!1,t&&!e._h&&L(e)}))}},L=function(e){f.call(d,(function(){var t,i,n,r=e._v,o=R(e);if(o&&(t=v((function(){C?E.emit("unhandledRejection",r,e):(i=d.onunhandledrejection)?i({promise:e,reason:r}):(n=d.console)&&n.error&&n.error("Unhandled promise rejection",r)})),e._h=C||R(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},M=function(e){f.call(d,(function(){var t;C?E.emit("rejectionHandled",e):(t=d.onrejectionhandled)&&t({promise:e,reason:e._v})}))},j=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),B(t,!0))},$=function(e){var t,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===e)throw P("Promise can't be resolved itself");(t=D(e))?y((function(){var n={_w:i,_d:!1};try{t.call(e,c($,n,1),c(j,n,1))}catch(e){j.call(n,e)}})):(i._v=e,i._s=1,B(i,!1))}catch(e){j.call({_w:i,_d:!1},e)}}};T||(A=function(e){h(this,A,O,"_h"),g(e),n.call(this);try{e(c($,this,1),c(j,this,1))}catch(e){j.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(6065)(A.prototype,{then:function(e,t){var i=x(m(this,A));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=C?E.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&B(this,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n;this.promise=e,this.resolve=c($,e,1),this.reject=c(j,e,1)},_.f=x=function(e){return e===A||e===s?new o(e):r(e)}),p(p.G+p.W+p.F*!T,{Promise:A}),i(3844)(A,O),i(5762)(O),s=i(6094)[O],p(p.S+p.F*!T,O,{reject:function(e){var t=x(this);return(0,t.reject)(e),t.promise}}),p(p.S+p.F*(a||!T),O,{resolve:function(e){return S(a&&this===s?A:this,e)}}),p(p.S+p.F*!(T&&i(8931)((function(e){A.all(e).catch(U)}))),O,{all:function(e){var t=this,i=x(t),n=i.resolve,r=i.reject,o=v((function(){var i=[],o=0,s=1;w(e,!1,(function(e){var a=o++,d=!1;i.push(void 0),s++,t.resolve(e).then((function(e){d||(d=!0,i[a]=e,--s||n(i))}),r)})),--s||n(i)}));return o.e&&r(o.v),i.promise},race:function(e){var t=this,i=x(t),n=i.reject,r=v((function(){w(e,!1,(function(e){t.resolve(e).then(i.resolve,n)}))}));return r.e&&n(r.v),i.promise}})},251:(e,t)=>{t.read=function(e,t,i,n,r){var o,s,a=8*r-n-1,d=(1<<a)-1,c=d>>1,l=-7,p=i?r-1:0,u=i?-1:1,g=e[t+p];for(p+=u,o=g&(1<<-l)-1,g>>=-l,l+=a;l>0;o=256*o+e[t+p],p+=u,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+p],p+=u,l-=8);if(0===o)o=1-c;else{if(o===d)return s?NaN:1/0*(g?-1:1);s+=Math.pow(2,n),o-=c}return(g?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,i,n,r,o){var s,a,d,c=8*o-r-1,l=(1<<c)-1,p=l>>1,u=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:o-1,h=n?1:-1,w=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-s))<1&&(s--,d*=2),(t+=s+p>=1?u/d:u*Math.pow(2,1-p))*d>=2&&(s++,d/=2),s+p>=l?(a=0,s=l):s+p>=1?(a=(t*d-1)*Math.pow(2,r),s+=p):(a=t*Math.pow(2,p-1)*Math.pow(2,r),s=0));r>=8;e[i+g]=255&a,g+=h,a/=256,r-=8);for(s=s<<r|a,c+=r;c>0;e[i+g]=255&s,g+=h,s/=256,c-=8);e[i+g-h]|=128*w}},1873:(e,t,i)=>{var n=i(9325).Symbol;e.exports=n},2552:(e,t,i)=>{var n=i(1873),r=i(659),o=i(9350),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?r(e):o(e)}},4128:(e,t,i)=>{var n=i(1800),r=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(r,""):e}},4840:(e,t,i)=>{var n="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g;e.exports=n},659:(e,t,i)=>{var n=i(1873),r=Object.prototype,o=r.hasOwnProperty,s=r.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),i=e[a];try{e[a]=void 0;var n=!0}catch(e){}var r=s.call(e);return n&&(t?e[a]=i:delete e[a]),r}},9350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9325:(e,t,i)=>{var n=i(4840),r="object"==typeof self&&self&&self.Object===Object&&self,o=n||r||Function("return this")();e.exports=o},1800:e=>{var t=/\s/;e.exports=function(e){for(var i=e.length;i--&&t.test(e.charAt(i)););return i}},8221:(e,t,i)=>{var n=i(3805),r=i(124),o=i(9374),s=Math.max,a=Math.min;e.exports=function(e,t,i){var d,c,l,p,u,g,h=0,w=!1,m=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var i=d,n=c;return d=c=void 0,h=t,p=e.apply(n,i)}function _(e){var i=e-g;return void 0===g||i>=t||i<0||m&&e-h>=l}function v(){var e=r();if(_(e))return b(e);u=setTimeout(v,function(e){var i=t-(e-g);return m?a(i,l-(e-h)):i}(e))}function b(e){return u=void 0,f&&d?y(e):(d=c=void 0,p)}function S(){var e=r(),i=_(e);if(d=arguments,c=this,g=e,i){if(void 0===u)return function(e){return h=e,u=setTimeout(v,t),w?y(e):p}(g);if(m)return clearTimeout(u),u=setTimeout(v,t),y(g)}return void 0===u&&(u=setTimeout(v,t)),p}return t=o(t)||0,n(i)&&(w=!!i.leading,l=(m="maxWait"in i)?s(o(i.maxWait)||0,t):l,f="trailing"in i?!!i.trailing:f),S.cancel=function(){void 0!==u&&clearTimeout(u),h=0,d=g=c=u=void 0},S.flush=function(){return void 0===u?p:b(r())},S}},3805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},4394:(e,t,i)=>{var n=i(2552),r=i(346);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==n(e)}},124:(e,t,i)=>{var n=i(9325);e.exports=function(){return n.Date.now()}},7350:(e,t,i)=>{var n=i(8221),r=i(3805);e.exports=function(e,t,i){var o=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(i)&&(o="leading"in i?!!i.leading:o,s="trailing"in i?!!i.trailing:s),n(e,t,{leading:o,maxWait:t,trailing:s})}},9374:(e,t,i)=>{var n=i(4128),r=i(3805),o=i(4394),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,d=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var i=a.test(e);return i||d.test(e)?c(e.slice(2),i?2:8):s.test(e)?NaN:+e}},4113:(e,t,i)=>{"use strict";i.d(t,{AJ:()=>r,E9:()=>g,G3:()=>s,IX:()=>w,Mj:()=>l,Nh:()=>h,Ns:()=>u,XC:()=>p,cS:()=>o,lC:()=>c});const n=2147483645,r=({boltConfig:e,id:t,onReady:i,playerType:n,noPrerollHide:r,prerollAdAmt:o,prerollAdRefreshRetries:s,prerollAdRefreshTimeout:a,showOnComplete:d,adUnitType:c,adPodding:l})=>{window.PageOS.benchmarks.trackStart("load_bolt_js_tag"),window.PageOS.BUS.on("boot_bolt_tag",(()=>{window.PageOS.benchmarks.trackEnd("load_bolt_js_tag")}),!0);const p=document.createElement("script");p.src="https://cdn.playwire.com/bolt/js/zeus/embed.js",p.type="text/javascript",p.setAttribute("charset","utf-8");const u={id:t,width:"100%",height:"100%",config:e,onready:i};"precontent"===n&&(u.hiddenContainer=d||`trendi_video_hidden_container_${Date.now()}`),!0===r&&(u.noPrerollHide=!0),null!=o&&(u.prerollAdAmt=o,(s||a)&&(u.prerollAdRefreshRetries=s,u.prerollAdRefreshTimeout=a)),null!=c&&(u.adunitType=c),u.adPodding="on",void 0!==l&&(l.enabled?(u.minPodLength=0,u.maxPodLength=1e3*l.maxPodLength,u.maxPodAmount=l.maxPodAmount):u.adPodding="off");for(const e in u)p.dataset[e]=u[e];return p},o=(e,t,i)=>{if("publisher"===e||"trendi"===e){const{publisherId:e}=window.ramp.settings.config.settings;return`https://${"config.playwire.com"}/${e}/playlists/v2/${t}/zeus.json`}return i},s=(e,t,i,n,r)=>{r=void 0!==r?r:.5;const o=new IntersectionObserver((e=>a(e,t,i,n,r)),{root:null,rootMargin:"0px",threshold:r});return void 0!==n&&(n.lastScrollTop=0,n.scrollingUp=!0,n.observedElement=e),o.observe(e),o},a=(e,t,i,n,r)=>{const o=e[0],s=0===r?o.target:o.target.firstChild,a=0===(void 0!==r?r:.5)?o.intersectionRatio>0:o.intersectionRatio>=r,d=window.pageYOffset||document.documentElement.scrollTop;(n=void 0!==n?n:s)&&(n.scrollingUp=d<=n.lastScrollTop,n.lastScrollTop=d<=0?0:d),null!==s&&"SCRIPT"!==s.nodeName&&(a?t(n):i(n))},d=e=>{if(e&&-1===e.indexOf("bottom"))return!1;if(!0===window.ramp.tpsBottomRailEnabled)return!0;const t=window.ramp.settings.slots["pw-oop-bottom_rail"];return void 0!==t&&t.on},c=(e,t)=>{const i=10,r=d(e.location),o=void 0===e.location?"right-bottom":e.location,s=void 0===e.stickyH?e.player.parentNode.style.height:`${e.stickyH}px`,a=void 0===e.stickyW?e.player.parentNode.style.width:`${e.stickyW}px`,c=e.player,l=window.ramp.settings;Object.assign(c.style,{height:s,"max-width":a,"max-height":s,position:"fixed",width:a,"z-index":t&&!t.isShowing?"-1":n,transition:"opacity 820ms cubic-bezier(0.230, 1.000, 0.320, 1.000)","-webkit-transition":"opacity 720ms cubic-bezier(0.230, 1.000, 0.320, 1.000)","box-shadow":"0px 0px 25px 0px rgba(50, 50, 50, 0.75)"}),void 0!==l.slots.sticky_video&&(l.slots.sticky_video.isDocked=!0),void 0!==l.slots.trendi_video&&(l.slots.trendi_video.isDocked=!0),c.classList.add("is-docked");const p=e.yOffset?e.yOffset:0;switch(o){case"left-top":c.classList.add("pw-pos-top-left"),Object.assign(c.style,{left:"10px",top:`${42+p}px`,bottom:"auto",right:"auto"});break;case"right-top":c.classList.add("pw-pos-top-right"),Object.assign(c.style,{right:"10px",top:`${42+p}px`,bottom:"auto",left:"auto"});break;case"left-bottom":c.classList.add("pw-pos-bottom-left"),Object.assign(c.style,{bottom:`${i+p}px`,left:"10px",top:"auto",right:"auto"});break;case"right-bottom":c.classList.add("pw-pos-bottom-right"),Object.assign(c.style,{bottom:`${i+p}px`,right:"10px",top:"auto",left:"auto"});break;case"sidebar":c.classList.add("pw-pos-sidebar"),Object.assign(c.style,{top:e.navHeight?`${e.navHeight}px`:0,left:"auto"});break;case"top":c.classList.add("pw-pos-top"),Object.assign(c.style,{left:0,"max-width":"100%",top:0,width:"100%"}),Object.assign(c.firstChild.style,{height:s,margin:"auto",width:a})}if(r){const e=window.ramp.settings.slots["pw-oop-bottom_rail"];let t=e?e.element.getBoundingClientRect().height:0;window.ramp.tpsBottomRailEnabled&&0===t&&(t=90);const i=window.ramp.settings.isMobile&&"right-bottom"===o&&t>0?`${t+p+5}px`:`${t+p+20}px`;c.style.bottom=i}const u=document.querySelector("#pw-close-btn");null!==u&&(u.classList.remove("hide"),u.classList.add("show")),"top"===o&&window.PageOS.BUS.emit("trendi_video_top_docked")},l=(e,t)=>{const i=window.ramp.settings,r=e.classList.contains("bolt-ad-view");e.classList.remove("is-docked"),Object.assign(e.style,{bottom:""+(r?"0px":"auto"),"box-shadow":"none",height:"100%",left:""+(r?"0px":"auto"),"max-height":"none","max-width":"none",position:""+(r?"absolute":"relative"),right:""+(r?"0px":"auto"),transition:"opacity 820ms cubic-bezier(0.230, 1.000, 0.320, 1.000)",top:""+(r?"0px":"auto"),width:"100%","z-index":t?n:0,"-webkit-transition":"opacity 720ms cubic-bezier(0.230, 1.000, 0.320, 1.000)"}),void 0!==i.slots.sticky_video&&(i.slots.sticky_video.isDocked=!1),void 0!==i.slots.trendi_video&&(i.slots.trendi_video.isDocked=!1);const o=document.querySelector("#pw-close-btn");null!==o&&(o.classList.remove("show"),o.classList.add("hide")),t&&window.PageOS.BUS.emit("trendi_video_top_docked")},p=(e,t,i)=>{let n=document.getElementById("pw-close-btn");const r=window.ramp.settings.device;if(null===n){n=document.createElement("span");const o=document.createElement("span"),s='style="stroke:rgb(255,255,255);stroke-width:3"';n.classList.add("bolt-close-button"),n.id="pw-close-btn",o.classList.add("circle"),o.innerHTML=`<svg width="32" height="32"><circle cx="16" cy="16" r="16" fill="transparent" /><line x1="11" y1="11" x2="21" y2="21" ${s} /><line x1="21" y1="11" x2="11" y2="21" ${s} /></svg>`,n.appendChild(o),void 0!==i&&n.classList.add(i),n.addEventListener("mobile"===r||"tablet"===r?"touchstart":"click",(e=>{e.preventDefault(),e.stopPropagation(),t()})),"tyche_trendi_video_container"===e.id||"tyche_trendi_slideshow_container"===e.id||"_pw_trendi_slideshow"===e.id?e.insertAdjacentElement("beforeend",n):e.parentNode.insertAdjacentElement("beforeend",n)}return window.PageOS.BUS.emit("close_btn_built"),n},u=()=>{const e=document.getElementById("pw-close-btn");e&&e.parentNode.removeChild(e)},g=(e,t)=>{const i=document.createElement("style"),r=t?`.pw-close-btn-top {right: ${(window.innerWidth-t[0])/4-16}px !important;top: 5px !important;}`:"",o=document.createTextNode(`#pw-close-btn {cursor: pointer;position: fixed;width: 32px;z-index: ${n};}.pw-close-btn-top.pw-close-btn-top--flex-docked {top: 75px !important;}.pw-close-btn-top.pw-close-btn-top--flex {top: 215px !important;}.pw-close-btn {position: absolute !important;left: 0px;top: 0px !important;}${r}#pw-close-btn.hide {display:none!important}#pw-close-btn.show {display:block!important}#pw-close-btn.bolt-linear-ad-on {display:none;}#pw-close-btn .circle {display:inline-block!important;font-family:sans-serif!important;line-height:0!important;width:32px;height:32px;}#tyche_trendi_video_container #pw-close-btn .circle {width:16px;height:16px;}`);i.type="text/css",i.appendChild(o),document.head.appendChild(i)},h=(e,t,i,n,r,o)=>{let s=document.getElementById("sticky-video-styles");const a=document.getElementsByTagName("head")[0],c=document.createTextNode(((e,t,i,n,r)=>{let o,s,a,c,l;if(o=window.parseInt(n,10)+30,d(t)){const e=window.ramp.settings.slots["pw-oop-bottom_rail"];l=e?e.element.getBoundingClientRect().height:0,o+=l||0,l>0&&window.ramp.settings.isMobile&&window.innerWidth<435&&(o+=30)}switch(t){case"left-top":s=i-20,a=5,c=`.bolt-close-button {left: ${s.toString()}px;top: ${a.toString()}px;}`;break;case"right-top":a=5,c=`.bolt-close-button {right: 10px;top: ${a.toString()}px;}`;break;case"left-bottom":s=i-21,c=`.bolt-close-button {left: ${s.toString()}px;bottom: ${o}px;}`;break;case"right-bottom":c=`.bolt-close-button {right: 10px;bottom: ${o}px;}`;break;case"sidebar":c=`.bolt-close-button {padding-right: 4px;top: ${r?parseInt(r,10)-8+"px":"-8px"};width: ${i}px !important;} .bolt-close-button #pw-close-btn-x {text-align: right !important;}`}return`\n            .placeholder-bg {\n                background-color: #eaeaea !important;\n                background-image: url(//cdn.playwire.com/sticky_video/pip_icon.png) !important;\n                background-repeat: no-repeat !important;\n                background-size: 60px !important;\n                background-position: center center !important;\n            }\n            .pw-animation {\n                transition: all 720ms cubic-bezier(0.230, 1.000, 0.320, 1.000);\n                -webkit-transition: all 720ms cubic-bezier(0.230, 1.000, 0.320, 1.000);\n            }\n            .no-pw-animation {\n                transition: opacity 720ms cubic-bezier(0.230, 1.000, 0.320, 1.000);\n                -webkit-transition: opacity 720ms cubic-bezier(0.230, 1.000, 0.320, 1.000);\n            }\n            .fade-out {\n                opacity: 0;\n            }\n            .show {\n                opacity: 1;\n            }\n            ${c}`})(0,i,n,r,o));if(s||(s=document.createElement("style"),s.type="text/css",s.id="sticky-video-styles",a.appendChild(s)),s.innerHTML="",s.appendChild(c),e){let e="50%";"desktop"!==t&&"tablet"!==t||(e="10px");const i=document.createElement("style"),n=document.createTextNode((e=>`\n            #scrolly-logger {\n                background: #ccc;\n                width: 10em;\n                box-shadow:  0px 0px 10px #000;\n                position: fixed;\n                text-align: center;\n                top: 0;\n                right: ${e};\n                border-collapse: collapse;\n                z-index: 2147483640;\n            }\n            #scrolly-logger tr,\n            #scrolly-logger td {\n                height: 20px;\n                border: 1px solid grey;\n            }`)(e));i.type="text/css",i.id="sticky-logger-styles",i.appendChild(n),a.appendChild(i)}},w=e=>{if(!e.anchorDiv)return;const{bottom:t}=e.anchorDiv.getBoundingClientRect();t<0&&(e.wasViewed=!0)};window.PageOS.videoHandler={buildScript:r,getBoltConfig:o,initIntersectionHandler:s,dockVideo:c,undockVideo:l,buildCloseBtn:p,destroyCloseBtn:u,setupGlobalCSS:g,checkWasViewed:w}},6061:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>S,D4:()=>p,GE:()=>c,In:()=>_,Iz:()=>f,W4:()=>g,XW:()=>u,Xt:()=>y,_q:()=>h,dd:()=>a,hS:()=>l,ho:()=>m,kX:()=>w,kZ:()=>d,op:()=>v,yt:()=>b});const n={name:"pageos",version:"1.10.68"},r=window.location.hash.toLowerCase().indexOf("pageosdebug")>-1,o=window.location.search.toLowerCase().indexOf("pw_diagnostics")>-1,s=(e,t=r||o)=>{const i=window.PageOS.logger.get(e,{app:n});return t&&i.setLevel(i.DEBUG),i},a=s("GDPR"),d=s("KINESIS"),c=s("PREBID"),l=s("USERDATA"),p=s("TYCHE"),u=s("VIDEO"),g=s("BENCHMARKS"),h=s("ZCTA"),w=s("UID2"),m=s("DMP"),f=s("LOTAME"),y=s("METRICS",window.location.hash.toLowerCase().indexOf("metricsdebug")>-1),_=s("AMAZON"),v=s("PERFORMANCE"),b=s("REPORTING_OBSERVER"),S=s("DEBUG")},6030:(e,t,i)=>{"use strict";i.d(t,{Fr:()=>n,Pf:()=>o,vc:()=>r});const n=()=>{let e=!1;var t;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e},r=()=>window.matchMedia("(orientation: portrait)").matches?"portrait":"landscape",o=()=>n()?"mobile":/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(navigator.userAgent.toLowerCase())?"tablet":"desktop"},4783:(e,t,i)=>{"use strict";i.d(t,{Fx:()=>h,Go:()=>m,UM:()=>s,X8:()=>c,YK:()=>l,YV:()=>u,a$:()=>p,al:()=>a,h1:()=>g,o:()=>w,v9:()=>d});var n=i(6030),r=i(4019),o=i.n(r);const s=e=>{const t=document.cookie.match(`(^|[^;]+)\\s*${e}\\s*=\\s*([^;]+)`);return t?t.pop():""},a=e=>{e=e.replace(/[\[\]]/g,"\\$&");const t=window.location.href,i=new RegExp(`[?&]${e}(=([^&#]*)|&|#|$)`).exec(t);return!!i&&(i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"")},d=()=>{const e={};return window.location.search.replace(/^\?/,"").split("&").forEach((t=>{const i=t.split("="),n=i[0],r=i[1];e.hasOwnProperty(n)?Array.isArray(e[n])?e[n].push(r):e[n]=[e[n],r]:e[n]=r})),e},c=e=>{if(window.ramp.forcePath)return window.ramp.forcePath;const t=[];for(let i=0;i<e.config.units.length;i++){const n=e.config.units[i].path??e.config.units[i].section,r=n.substr(3,n.length-4);-1===t.indexOf(r)&&n.indexOf("CP[/")>-1&&0===window.location.pathname.indexOf(r)&&t.push(r)}return t.length>0?t.reduce(((e,t)=>e.length>t.length?e:t)):null},l=()=>{try{return window.Bolt.embeds[Object.keys(window.Bolt.embeds)[0]].config.video}catch(e){return!1}},p=()=>{try{const e=window.Bolt.embeds[Object.keys(window.Bolt.embeds)[0]].config.video.advertising.servers,t=location.hostname.replace("www.","");let i=!1,r=!1;for(const n in e){if(!0===i)break;if(n.includes("generic-"))continue;const o=e[n].tags;for(const e in o)if(t===e){r=o[e],i=!0;break}}if(r){const e=(0,n.Pf)();if(void 0!==typeof r.headerBidding&&r.headerBidding&&r.headerBidding[e]){const t={...r};return t.headerBidding=t.headerBidding[e],t}}return!1}catch(e){return!1}},u=()=>{try{return window.ramp.settings.config}catch(e){return!1}},g=async(e,t)=>{if(["SHA-1","SHA-256"].includes(t.toUpperCase())){const i=(new TextEncoder).encode(e),n=await crypto.subtle.digest(t,i);return{hashHex:Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join(""),hashBase64:btoa(String.fromCharCode.apply(null,new Uint8Array(n)))}}},h=e=>o()(e),w=()=>{let e;if(window.__pwpbjs__&&"function"==typeof window.__pwpbjs__.getUserIdsAsEids){e=window.__pwpbjs__?.getUserIdsAsEids();const t=[];return e.forEach((e=>{e.uids&&e.uids.length>0&&e.uids[0].id&&t.push(e.source)})),t}},m=e=>{const t=Array.isArray(e)?[]:{};for(const i in e){const n=e[i];t[i]=n&&"object"==typeof n?m(n):n}return t}},1106:function(){Object.values||(Object.values=e=>{const t=Object.keys(e);let i=t.length;const n=new Array(i);for(;i--;)n[i]=e[t[i]];return n}),Object.entries||(Object.entries=e=>{const t=Object.keys(e);let i=t.length;const n=new Array(i);for(;i--;)n[i]=[t[i],e[t[i]]];return n}),String.prototype.includes||(String.prototype.includes=(e,t)=>(e instanceof RegExp&&console.error("first argument must not be a RegExp"),void 0===t&&(t=0),-1!==this.indexOf(e,t)))},3070:(e,t,i)=>{"use strict";i.d(t,{HF:()=>n,zj:()=>r});const n=(e,t)=>{const i=document.createElement("script");i.innerHTML=`\n        (function () {\n            var _pw_${t}_xhr = new XMLHttpRequest();\n            _pw_${t}_xhr.onreadystatechange = () => {\n                if (_pw_${t}_xhr.readyState === 4) {\n                    if (_pw_${t}_xhr.status === 200) {\n                        window.PageOS.BUS.emit('${t}', _pw_${t}_xhr.responseText);\n                    } else {\n                        window.PageOS.BUS.emit('${t}', null);\n                    }\n                }\n            };\n            _pw_${t}_xhr.open('GET', '${e}', true);\n            _pw_${t}_xhr.send();\n        })();\n    `,document.body.appendChild(i)},r=(e,t)=>{const i=[],n=(e=(new DOMParser).parseFromString(e,"text/xml")).getElementsByTagName("item"),r=t.imageSelector,s=t.titleSelector?t.titleSelector:"<title>",a=t.linkSelector?t.linkSelector:"<link>";if(!n||0===n.length)return;const d=/<(.*?)>/g,c=/\[(.*?)\]/g,l=r.match(d),p=r.match(c),u=s.match(d),g=s.match(c),h=a.match(d),w=a.match(c);if(l&&u&&h){for(let e=0;e<n.length;e++){const r=n[e];let s=o(l,p,r);if(Array.isArray(window.ramp.RSS_IMAGES)&&window.ramp.RSS_IMAGES.length>0&&(s=window.ramp.RSS_IMAGES[e]),Array.isArray(t.imageUrls)&&t.imageUrls[e]&&(s=t.imageUrls[e]),!s)continue;const a=o(u,g,r);if(!a)continue;const d=o(h,w,r);if(!d)continue;const c={title:a,url:d,thumbnail:s};i.push(c)}return i}},o=(e,t,i)=>{let n=null;const r=new DOMParser;return e.forEach((e=>{const t=e.slice(1,e.length-1);i&&((i=i.getElementsByTagName(t)[0])&&0===i.innerHTML.trim().indexOf("<![CDATA")||i&&0===i.innerHTML.trim().indexOf("&"))&&(i=r.parseFromString(i.textContent,"text/html"))})),n=i?t&&t[0]?i.getAttribute(t[0].slice(1,t[0].length-1)):i.textContent:null,n}}},e=>{var t=t=>e(e.s=t),i=(t(6807),t(6517),t(6735));pageos=i}]);