var Tyche;(self.webpackChunkTyche=self.webpackChunkTyche||[]).push([[179,672],{6191:(e,t,i)=>{"use strict";function n(e){if(window.ramp.settings.roadblockActive)return void window.PageOS.BUS.on("roadblock:removed",(()=>{n(e)}));e=Array.isArray(e)?e:[e],h(e),g(e);let t={},i={};o()&&(c(e),r(e,t,!0),s(i,!0)),window.googletag?.pubads()?.refresh&&window.googletag.pubads().refresh(e),o()&&(r(e,t,!1),s(i,!1))}i.d(t,{Z:()=>n});const o=()=>window.ramp.settings?.config?.settings?.tpg_enabled&&window.ramp.settings?.config?.tpg_network,s=(e,t)=>{let i,n;(t?window.googletag.pubads().getTargetingKeys():Object.keys(e)).forEach((o=>{n=t?window.googletag.pubads().getTargeting(o):e[o],t&&(e[o]=n);const s=a(o);i=s?d(o):l(o),window.googletag.pubads().setTargeting(t?i:o,n),window.googletag.pubads().clearTargeting(t?o:i)}))},r=(e,t,i)=>{let n,o;e.forEach((e=>{o=e.getSlotElementId();const s=i?e.getTargetingKeys():Object.keys(t[o]);i&&(t[o]={}),s.forEach((s=>{const r=i?e.getTargeting(s):t[o][s];i&&(t[o][s]=e.getTargeting(s)),n=l(s),e.setTargeting(i?n:s,r),e.clearTargeting(i?s:n)}))}))},a=e=>e.startsWith("pw_custom_"),d=e=>e.replace("pw_custom_",""),l=e=>{let t=`pw_${e}`;return t.length>20&&(t=t.slice(0,20)),t},c=e=>{e.forEach((e=>{e.getTargetingKeys().forEach((t=>{if("price_floor"===t){const i=p(e.getTargeting(t));e.setTargeting(t,i)}}))}))},p=e=>{const t=parseFloat(e);if("number"!=typeof t||isNaN(t))return e;let i;switch(!0){case t>=8:i=8;break;case t>=4:i=4;break;case t>=3.5:i=3.5;break;default:i=Math.round(10*t)/10}return i.toFixed(2)},m=e=>{const t=window.ramp?.settings.config.hbParams;return t&&t[e]&&!0===t[e].publisher_demand},g=e=>{for(let t=0;t<e.length;t++){if(!e[t])return;m(e[t].getTargeting("hb_bidder"))?e[t].setTargeting("publisher_demand","true"):e[t].getTargeting("publisher_demand").length&&e[t].clearTargeting("publisher_demand")}},w=e=>Object.keys(window.ramp.settings.slots).filter((t=>window.ramp.settings.slots[t].type===e.type)).sort(((e,t)=>e-t)).indexOf(e.id)+1,u=(e,t)=>{const i=e.config.path??e.config.section;return"ROS"===i?t.ros||t.ROS:"HP"===i?t.hp||t.HP:t[i]},h=e=>{const t=window.ramp.adSlotTagging||window.PageOS.adSlotTagging;if(t)for(let i=0;i<e.length;i++){let n=null;const o=e[i].getSlotElementId(),s=window.ramp.settings.slots[o];if(!s)continue;const r=w(s),a=u(s,t);if(!a)continue;const d=a[s.config.code];d&&("object"==typeof d&&d[r]?n=d[r]:"string"!=typeof d&&"number"!=typeof d||(n=d)),n&&e[i].setTargeting("position",`${encodeURIComponent(n)}`)}}},7905:(e,t,i)=>{"use strict";i.d(t,{W:()=>o});const n=new WeakMap;function o(e,t,i){e||console.warn("Cannot load script without URL"),i||(i=document);const o=s(i,e);if(o)return t&&"function"==typeof t&&(o.loaded?t():o.callbacks.push(t)),o.tag;const r=n.get(i)||{},a={loaded:!1,tag:null,callbacks:[]};return r[e]=a,n.set(i,r),t&&"function"==typeof t&&a.callbacks.push(t),function(e,t,i){i||(i=document);const n=i.createElement("script");n.type="text/javascript",n.async=!0;const o=s(i,e);o&&(o.tag=n);n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()};return n.src=e,function(e,t,i){let n;t=t||document,n=t.getElementsByTagName("head");try{if(n=n.length?n:t.getElementsByTagName("body"),n.length){n=n[0];const t=i?null:n.firstChild;return n.insertBefore(e,t)}}catch(e){console.error("Cannot insert element",e)}}(n,i),n}(e,(()=>{a.loaded=!0;try{for(let e=0;e<a.callbacks.length;e++)a.callbacks[e]()}catch(e){console.error("Error happened during requesting script",e)}}),i)}function s(e,t){const i=n.get(e);return i&&i[t]?i[t]:null}},1401:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(8142);let o="50px";try{o=window.ramp.isMobile?"0px 0px 50px 0px":"0px 0px 100px 0px"}catch(e){}const s=new IntersectionObserver((e=>{e.forEach((e=>{const t=Math.floor(100*e.intersectionRatio);window.ramp.settings.slots[e.target.id]&&(0!==t||document.getElementById(e.target.id)||s.unobserve(e.target),(0,n.kz)(e.target.id,0===t?0:50))}))}),{rootMargin:o,threshold:[0]}),r=s},7538:(e,t,i)=>{"use strict";i.d(t,{YY:()=>h,ZE:()=>f});var n=i(4155),o=i(3662),s=i(2210),r=i(8299),a=i(887);var d=i(1967),l=i(8434),c=i(6810),p=i(5090),m=i(8966),g=i(2125);var w=i(6191);const u=(e,t,i,l)=>{window.PageOS.tyche.findUnitsBySection(t).then((()=>{!window.ramp.passiveMode&&(window.PageOS.tyche.createVideoUnit("trendi_video"),window.ramp.settings.slots.trendi_video||(window.PageOS.tyche.createVideoUnit("trendi_slideshow"),window.ramp.settings.slots.trendi_slideshow)),n.ZP.info("Path Changed: Units Updated",e.units);const t=e.isMobile?"mobi":"desk";return e.tags=(0,r.bT)(t),n.ZP.info("Path Changed. Tags Found",e.tags),(0,r._e)()})).then((()=>(n.ZP.info("Path Changed: Slots Updated",e.slots),(0,o.ZP)()))).then((t=>{const n=(0,a.Mo)();(0,d.ZP)("in_content"),(0,d.ZP)("sidebar"),(0,d.ZP)("sticky_sidebar"),(0,d.ZP)("corner_ad_video"),(0,d.ZP)("precontent_ad_video");const o=[...window.ramp.settings.units.sec,...window.ramp.settings.units.ros].find((e=>"relevant_article"===e.unit));if(o){new s.Z(o).init()}window.googletag.pubads().setTargeting("sitecont_cat",(0,a.nW)(e.config.settings)),n.utm_source&&window.googletag.pubads().setTargeting("utm_source",n.utm_source),n.utm_medium&&window.googletag.pubads().setTargeting("utm_medium",n.utm_medium),n.utm_campaign&&window.googletag.pubads().setTargeting("utm_campaign",n.utm_campaign),n.utm_template&&window.googletag.pubads().setTargeting("utm_template",n.utm_template),n.utm_content&&window.googletag.pubads().setTargeting("utm_content",n.utm_content),n.utm_referrer&&window.googletag.pubads().setTargeting("utm_referrer",n.utm_referrer),n.utm_subid&&window.googletag.pubads().setTargeting("utm_subid",n.utm_subid),n.utm_term&&window.googletag.pubads().setTargeting("utm_term",n.utm_term),t&&(0,a.tP)(t),e.hbEnabled&&window[window.ramp.pbKey].setTargetingForGPTAsync(Object.keys(e.slots)),e.hasFocus&&window.googletag.cmd.push((()=>{(e=>{const t=[];for(const i in e.slots)void 0===e.slots[i].videoType&&!1===e.slots[i].lazy&&!1===e.slots[i].queued&&"int"!==e.slots[i].pos&&(e.slots[i].oop&&e.slots[i].slot.setTargeting("in_view","true"),t.push(e.slots[i].slot));(0,w.Z)(t)})(e)})),i()})).catch((e=>{n.ZP.error("Change Path promise error:",e),l(e)}))},h=e=>{const t=window.ramp.settings;return new Promise(((i,n)=>{if(e)if(t.cp!==e){t.cp=e,t.atHome=!1,"/"===e&&(t.atHome=!0,t.cp=null),(0,l.Z)(),(0,c.destroySidebar)(),(0,p.destroyStickySidebar)(),t.selectorBasedAdUnits&&(()=>{for(const e of g.Ef)(0,m.P)(`${e}_atf`),(0,m.P)(`${e}_btf`);for(const e in window.ramp.settings.slots){const t=window.ramp.settings.slots[e];g.Ef.includes(t.type)&&f(t)}})();for(const e in t.slots)void 0===t.slots[e].videoType?("flex_leaderboard"!==t.slots[e].type&&"flex"!==t.slots[e].type||t.slots[e].element.parentElement.remove(),f(t.slots[e])):(t.slots[e].destroyUnit&&t.slots[e].destroyUnit(),"function"==typeof window.ramp.closeInterstitial&&window.ramp.closeInterstitial());t.tagsProcessed=!1,u(t,e,i,n)}else n("Path provided is same as current path.");else n("No Path Specified")}))},f=e=>{e&&(e.refreshTimeout&&clearTimeout(e.refreshTimeout),e.auctionTimeout&&clearTimeout(e.auctionTimeout),n.ZP.info("Destroying Slot",e),window.googletag.cmd.push((()=>{(e=>{const t=window.ramp.settings;if(e.slot&&window.googletag.destroySlots([e.slot]),t.amazonSlots=t.amazonSlots.filter((t=>t.slotID!==e.id)),t.hbEnabled&&window[window.ramp.pbKey].removeAdUnit(e.id),e.adContainerElement&&e.adContainerElement.remove(),e.oop||t.selectorBasedAdUnits&&g.Ef.includes(e.type))e.element.remove();else{const t=document.getElementById(e.id);t&&(t.removeAttribute("class"),t.removeAttribute("id"))}delete t.slots[e.id]})(e)})))}},6657:(e,t,i)=>{"use strict";i.d(t,{N:()=>n});const n=(e,t,i)=>window.PageOS.tyche.checkRules(e,t,i)},7346:(e,t,i)=>{"use strict";i.d(t,{K5:()=>b,bE:()=>f,zv:()=>u});var n=i(887),o=i(8723),s=i(7998),r=i(6657),a=i(4155),d=i(3914),l=i(8142),c=i(8966),p=i(8299),m=i(6191),g=i(4299),w=i(6376);const u=(e,t,i,n=!1,o=!1)=>new Promise((s=>h(e,t,i,s,n,o))),h=(e,t,i,s,m=!1,u=!1)=>{e.id&&e.removeAttribute("id");const h=!1!==m;if(h&&(!m.rules||!m.config||m.rules&&void 0===m.rules.locationSelector))return"function"==typeof s?s(!1):void 0;const f=window.ramp.settings;let b,y,_,v,S,P=m?m.config:void 0,C=m?m.rules:void 0,k={},x=null,E=[];if(h){if(v=document.querySelector(C.locationSelector),!v)return s(!1);e.startsWith("standard_iab")?y=(0,c.Z)(`${e}`):(b=(0,l.T$)(v)>70?"atf":"btf",y=(0,c.Z)(`${e}_${b}`)),_=e}else b=t?"oop":(0,p.TX)(e),y=t?`pw-oop-${e}`:(e=>e.getAttribute(`data-pw-${window.ramp.settings.deviceSelector}`).toLowerCase())(e),_=t?e:(0,p.mt)(e);y=y.replace("sky","160x600"),y="video_backfill"===e?e:y;const A=window.location.href.indexOf("abcya.com")>-1;if(f.isMobile&&!t&&"leaderboard"===_&&(_="320x50",y=`pw-320x50_${b}`,A&&(y=`320x50_${b}`)),"sky"===_&&(_="160x600",y=`pw-160x600_${b}`,A&&(y=`160x600_${b}`)),P=P||(0,p.Xk)(_),!P)return"function"==typeof s?s(!1):void 0;if(!1===P.on)return"function"==typeof s?s(!1):void 0;if(C=C||(0,r.N)(f,P,b),!1===C)return"function"==typeof s?s(!1):void 0;if(u&&u.sizes?E=u.sizes:(void 0!==P.sizes&&null!==P.sizes&&(E=P.sizes.slice(0)),void 0!==C.sizes&&null!==C.sizes&&(E=C.sizes.slice(0))),S=void 0!==C.lazyLoad&&!0===C.lazyLoad,h){let t=e=document.createElement("div");!0===C.adContainer&&(t=((e,t,i)=>{e.classList.add("pw-sticky");const n=(0,w.DC)(t,i),o=(0,w.dF)(t),s=(0,g.Z)({height:n,showLoader:t.showLoader,backgroundColor:o});return s.appendChild(e),s})(e,C,E));let i="afterbegin";switch(C.placementRelativeToSelector){case"belowSelector":i="afterend";break;case"aboveSelector":i="beforebegin"}v.insertAdjacentElement(i,t)}if("left_rail"===_||"right_rail"===_){const e=(0,o.OC)(y,_,C);E=(0,n.TG)(y,E,e),1===E.length&&1===E[0][0]&&(E=[])}if("bottom_rail"===_){const e=f.isMobile?window.innerWidth:window.innerWidth-100;E=(0,n.UC)(E,e)}if("leaderboard"===_&&f.observerMode&&(E=(0,n.UC)(E,window.innerWidth)),i){const e=[],{width:t,height:n}=i.parentElement.getBoundingClientRect();for(let i=0;i<E.length;i++)E[i][0]<=t&&E[i][1]<=n&&e.push(E[i]);E=e}const z=74075===window.ramp.settings.config.id||74114===window.ramp.settings.config.id,B="CP[pdp]"===P.path||"CP[unpaid-pdp]"===P.path;if(z&&B&&(E=((e,t,i)=>("atf"!==t||("leaderboard"===e?i=[[944,250],[1020,250]]:"320x50"===e?i=[[320,200],[360,200]]:"med_rect"===e&&(i=[[300,118]])),i))(_,b,E)),0===E.length&&"flex_leaderboard"!==_&&"flex"!==_&&"left_rail"!==_&&"right_rail"!==_)return a.ZP.warn("No sizes available for slot ",_),"function"==typeof s?s(!1):void 0;document.getElementById(y)&&(y=(e=>{let t=2;for(;document.getElementById(e+t.toString());)t++;return e+t.toString()})(y)),"pw-oop-left_rail2"!==y&&"pw-oop-right_rail2"!==y||(E=E.filter((e=>!(1===e[0]&&7===e[1])))),f.slots[y]&&f.slots[y].slot&&(void 0!==f.slots[y].refreshTimeout&&clearTimeout(f.slots[y].refreshTimeout),window.googletag.cmd.push((()=>{window.googletag.destroySlots([f.slots[y].slot])})),delete window.ramp.settings.slots[y]),((e,t,i)=>{if("atf"!==t&&"btf"!==t)return!1;let n=void 0!==i.instance_limit?i.instance_limit:1;n="atf"===t?1:n,Object.keys(window.ramp.settings.slots).filter((i=>{const n=window.ramp.settings.slots[i];return n.type===e&&n.pos===t})).length>=n&&console.warn(`Tyche Warning: Found more than ${n} slots of type: ${e}, pos: ${t.toUpperCase()}.`)})(_,b,C);let I=0,T=0,O=!1;if(E.forEach((e=>{"fluid"===e[0]?O=!0:(e[0]>I&&(I=e[0]),e[1]>T&&(T=e[1]))})),t){if((e=document.createElement("div")).id=y,e.classList.add("pw-tag"),"pw-oop-relevant_article"===e.id||"bottom_rail"===_||"left_rail"===_||"right_rail"===_||i||e.classList.add("pw-oop-tag"),i?i.appendChild(e):document.body.appendChild(e),"flex_leaderboard"===_||"flex"===_){const t=document.createElement("div");t.id=`${e.id}_container`,t.appendChild(e),document.body.insertBefore(t,document.body.firstChild)}}else e.id=y,e.classList.contains("pw-tag")||e.classList.add("pw-tag");"med_rect"!==_&&"sky"!==_&&"160x600"!==_&&"right_rail"!==_&&"left_rail"!==_||(e.style.maxHeight=`${T}px`,e.style.maxWidth=`${I}px`),"leaderboard"!==_&&"bottom_rail"!==_||(e.style.maxHeight=`${T}px`),O&&I>0&&(e.style.maxWidth=`${I}px`,e.style.margin="auto"),k={adFetchCount:0,type:_,element:e,firstView:!1,pos:b,id:y,imps:0,inView:!1,viewability:0,refreshes:0,pbjsRefreshes:0,refreshBlocked:!1,on:!0,oop:t,slot:x,status:0,config:P,rules:C,queued:!1,sticky:null,lazy:S,pbjsBid:null,amazonBid:{hasBid:!1},lastRefresh:Date.now()},a.a2.info("Create Tyche Tag",k,null);let L=b;return t&&(L="FIXED","pw-oop-relevant_article"===y&&(L="BTF")),f.slots[k.id]=k,window.googletag.cmd.push((()=>{x=((e,t,i,s,r=!1)=>{const d=(()=>{const[n]=t.length>0?t[0]:[];if("OOP"===n||"flex"===e.unit)return window.googletag.defineOutOfPageSlot(e.code,i);let s=!1;t.forEach((e=>{"video"===e[0]&&(s=!0)})),s&&t.push([7,7]);let d=e.code;if(r){let e="";r.unitCode&&(d=(0,o.Ox)(r.unitCode,i),e+=` Custom unitCode: ${d}`),r.sizes&&(e+=" Custom sizes (filtered): ",t.forEach((t=>{e+=`[${t}]`}))),a.a2.info(`Defining customized GAM slot ${i} | ${e}`)}return window.googletag.defineSlot(d,t,i)})();d.setTargeting("pos",s),d.setTargeting("slot_id",i),d.setTargeting("refresh","false"),d.setTargeting("amazonBid","false");const l=e.path??e.section;d.setTargeting("custom_path",l.replace(/CP\[|\]/g,""));const c=!(!e.path||!e.section)&&e.section;return c&&d.setTargeting("section",c),d.setTargeting("lld_id",(0,n.Cm)()),("leaderboard"===e.unit&&"atf"===s||"med_rect"===e.unit&&"atf"===s||"standard_iab"===e.unit&&"atf"===s||"site_skin"===e.unit||"flex"===e.unit)&&d.setTargeting("takeover","true"),d.addService(window.googletag.pubads()),d})(P,E,y,L,u),k.slot=x,(0,d.K)(k),"function"==typeof s&&s(k),window.googletag.display(y)})),k},f=(e,t,i)=>{const n=h(e,t,i);n&&(window.ramp.settings.slots[n.id]=n)},b=(e,t,i)=>u(e.unit,!0,t).then((e=>{if(!e)return;const o=window.ramp.settings,r=e.id;o.slots[r]=e,e.element.dataset.pwInArticle=!0,t.insertAdjacentElement(i,e.element),a.ZP.info("Inserting in-article ad",r),!1===e.lazy?(e.lazyLoad=!1,(0,s.Z)(o,r,t).then((t=>{t&&(0,n.tP)(t),window.googletag.cmd.push((()=>{o.hbEnabled&&window[window.ramp.pbKey].setTargetingForGPTAsync(r),o.slots[r].slot.setTargeting("refresh","false"),(0,m.Z)([e.slot])}))})).catch((e=>{a.ZP.error(`Error in Prebid auction for ${r}`,e)}))):e.lazyLoad=!0})).catch((e=>{a.ZP.error("Create Tyche Tag",{message:e.message,stack:e.stack})}))},3662:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>S,Cw:()=>g,cp:()=>v});var n=i(4155),o=i(2125),s=i(887),r=i(8723),a=i(6657),d=i(8142),l=i(9416);const c=function(e){const t=Array.isArray(e)?[]:{};for(const i in e){const n=e[i];t[i]=n&&"object"==typeof n?c(n):n}return t},p=["left_rail","right_rail","bottom_rail","web_interstitial"],m=["relevant_article","video_backfill","web_interstitial"],g=(e,t)=>{const i=t.config.hbParams;if(i){let t=!1,n=!1;for(const o in e.bids)t=e.bids[o].params,"string"==typeof t&&(n=e.bids[o].bidder,e.bids[o].params=i[n][t])}},w=(e,t)=>{const i=[];for(const n in e){const s=e[n],r=o.UE.indexOf(s.unit)>-1;if(g(s.headerBids,t),"in_content"!==s.unit&&"sidebar"!==s.unit&&"sticky_sidebar"!==s.unit&&"corner_ad_video"!==s.unit&&"precontent_ad_video"!==s.unit)if(r)i.push({type:s.unit,positions:{oop:(0,a.N)(t,s,"oop")},unit:s});else{const e=s.alias??s.unit;"standard_iab"!==s.unit?i.push({type:e,positions:{atf:(0,a.N)(t,s,"atf"),btf:(0,a.N)(t,s,"btf")},unit:s}):i.push({type:e,positions:{standard:(0,a.N)(t,s,"standard")},unit:s})}}return i},u=e=>{const t=[];return e?(e.forEach((e=>{"indexExchange"===e.bidder&&void 0!==e.params.id&&delete e.params.id,t.push(e)})),t):t},h=e=>{const t={};return[...e.units.sec,...e.units.ros].forEach((e=>{const i=e.alias??e.unit;m.includes(i)||void 0!==e.headerBids&&Array.isArray(e.headerBids.bids)&&void 0===t[i]&&(t[i]=e)})),t},f=(e,t)=>"oop"===e?`pw-oop-${t}`:"160x600"===t||"320x50"===t?`pw-${t}_${e}`:`${t}_${e}`,b=(e,t,i)=>{let n=void 0!==e.sizes?e.sizes.slice(0):t.unit.sizes.slice(0),o=!1;if(n.forEach((e=>{"video"===e[0]&&(o=!0)})),"left_rail"===t.type||"right_rail"===t.type){const o=(0,r.OC)(t.unit,t.type,e,i);n=(0,s.TG)(t.unit,n,o)}else if("bottom_rail"===t.type){const e=window.ramp.settings.isMobile?window.innerWidth:window.innerWidth-100;n=(0,s.UC)(n,e)}return n=n.filter((e=>"fluid"!==e[0]&&1!==e[0]&&"video"!==e[0])),{sizes:n,isVideoAllowed:o}},y=(e,t)=>{t?void 0!==typeof e.leaderboard&&delete e.leaderboard:void 0!==typeof e["320x50"]&&delete e["320x50"]},_=(e,t)=>{const i=[];for(let n=2;n<e+1;n++){const e=c(t);e.code&&(e.code=e.code+n),e.slotID&&(e.slotID=e.slotID+n),i.push(e)}return i},v=e=>{try{const t=e.unit.unit;return"flex"!==t&&"flex_leaderboard"!==t}catch(e){return!0}};function S(){const e=window.ramp.settings;return new Promise((t=>{let i=null,o=[],r=[],a=[];if(!e.hbEnabled)return void t(i);const c=e.headerBidding.order,m=e.headerBidding.timeout||700,g=h(e);y(g,e.isMobile);const S=w(g,e);for(const t of S)for(const i in t.positions){const n=t.positions[i];if(!1!==n){const{sizes:a,isVideoAllowed:m}=b(n,t,S);if(!a||0===a.length)continue;const g=t.unit.alias??t.unit.unit,w=t.unit.alias??f(i,g),h=e.slots[w]&&e.slots[w].element&&(0,d.T$)(e.slots[w].element)>=d.Zm,y=(0,s.BT)({bids:t.unit.headerBids.bids,order:c,isInView:p.includes(t.type)||h,unitSizes:a,isVideoAllowed:m});let P=u(y,a);const C={code:w,bids:P,mediaTypes:{banner:{sizes:a}}};if(C.ortb2Imp=(0,s.Bq)(C.code,!1,i),m)if(window.pwEdgeFlags&&window.pwEdgeFlags.multiFormatUnitSplit){P=(0,s.io)(P);const e={code:w,bids:P,mediaTypes:{}};(0,l.b$)({data:e,type:t.type,bannerSizes:a}),e.ortb2Imp=(0,s.Bq)(e.code,!1,i),o.push(e),C.bids=(0,s.d7)(C.bids)}else(0,l.b$)({data:C,type:t.type,bannerSizes:a});let k={};const x=c.includes("amazon")&&v(t);if(x&&(k={slotID:w,slotName:t.unit.code,sizes:a},m&&(0,l.J5)({data:k,bannerSizes:a}),"atf"===i&&C.bids.forEach(((e,t)=>{"rubicon"===e.bidder&&(C.bids[t]={...e},C.bids[t].params={...e.params},C.bids[t].params.position="atf")})),r.push(k)),"btf"===i)if(window.ramp.passiveMode||window.ramp.settings.adsPerformance){const e=Object.entries(window.ramp.settings.slots).filter((([e])=>e.includes(w))).length;e>0&&(x&&(r=r.concat(_(e,k))),o=o.concat(_(e,C)))}else n.instance_limit&&n.instance_limit>1&&(x&&(r=r.concat(_(n.instance_limit,k))),o=o.concat(_(n.instance_limit,C)));o.push(C)}}if(window.ramp.passiveMode&&(r=r.filter((t=>e.slots[t.slotID]&&-1===e.amazonSlots.map((e=>e.slotID)).indexOf(t.slotID))),o=o.filter((t=>e.slots[t.code]&&-1===window[window.ramp.pbKey].adUnits.map((e=>e.code)).indexOf(t.code)))),0!==r.length||0!==o.length){if(window.performance.timing&&!window.ramp.passiveMode&&(0,s.Fp)("domLoading_to_getBids",window.performance.timing.domLoading),e.apstagLoaded){r.forEach((e=>{window.ramp.settings.amazonSlots.push(e),window.PageOS.pagePulse.markPerformanceEvent("amzSlotAuctionStart",{unit_type:window.ramp?.settings?.slots[e.slotID]?.type,slot_id:e.slotID,refresh_count:window.ramp?.settings?.slots[e.slotID]?.refreshes})}));const e=Date.now();window.PageOS.apstag.fetchBids(r,m).then((t=>{n.G4.info("Amazon Refresh Bids Back",{time:Date.now()-e,bids:t}),i=t,r.forEach((e=>{window.PageOS.pagePulse.markPerformanceEvent("amzSlotAuctionEnd",{unit_type:window.ramp?.settings?.slots[e.slotID]?.type,slot_id:e.slotID,refresh_count:window.ramp?.settings?.slots[e.slotID]?.refreshes})}))}))}0!==o.length?(a=o.map((e=>e.code)),window[window.ramp.pbKey].que.push((()=>{window[window.ramp.pbKey].addAdUnits(o),window[window.ramp.pbKey].requestBids({adUnitCodes:a,timeout:m,labels:[e.uuid],bidsBackHandler:()=>{t(i)}})}))):t(!1)}else t()}))}},7606:(e,t,i)=>{"use strict";i.d(t,{E9:()=>s,JM:()=>a,OE:()=>r,zy:()=>o});var n=i(7538);const o=()=>{for(const e in window.ramp.settings.slots){const t=window.ramp.settings.slots[e];"rewarded_ad_video"===t.type&&(0,n.ZE)(t)}},s=e=>{const t=(e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,i,n)=>t+t+i+i+n+n))).match(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i)||e.match(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i);if(t){return`rgba(${parseInt(t[1],16)}, ${parseInt(t[2],16)}, ${parseInt(t[3],16)}, ${t[4]?parseInt(t[4],16)/255:1})`}return null},r='\n<svg id="svg" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="3.5em" height="3.5em" viewBox="0, 0, 400,400.08453085376163"><g id="svgg"><path id="path0" d="M111.833 237.250 L 111.833 368.667 136.667 368.667 L 161.500 368.667 161.500 331.421 L 161.500 294.176 210.625 294.122 C 259.599 294.069,259.757 294.067,262.167 293.716 C 283.371 290.629,299.740 273.914,302.367 252.667 C 302.755 249.529,302.677 149.405,302.285 146.667 C 300.497 134.193,295.180 124.926,284.687 116.000 C 279.063 111.215,270.749 107.553,262.932 106.417 C 259.188 105.873,254.834 105.841,183.542 105.837 L 111.833 105.833 111.833 237.250 M252.833 200.000 L 252.833 244.333 229.083 244.333 L 205.333 244.333 205.333 269.167 L 205.333 294.000 183.227 294.000 L 161.121 294.000 161.227 289.708 C 161.285 287.348,161.381 256.223,161.440 220.542 L 161.548 155.667 207.190 155.667 L 252.833 155.667 252.833 200.000 " stroke="none" fill="#1c9bf3" fill-rule="evenodd"></path><path id="path1" d="M190.500 0.175 C 179.307 0.742,171.567 1.725,159.500 4.110 C 154.181 5.161,142.707 8.059,141.000 8.782 C 140.862 8.840,140.712 8.899,140.667 8.912 C 137.147 9.949,125.197 14.212,124.583 14.650 C 124.492 14.716,123.629 15.093,122.667 15.488 C 119.026 16.984,113.628 19.456,110.333 21.137 C 107.314 22.677,105.973 23.384,101.500 25.796 C 100.904 26.118,100.304 26.474,100.167 26.587 C 100.029 26.701,98.792 27.450,97.417 28.251 C 93.793 30.362,88.754 33.624,84.366 36.698 C 83.938 36.998,79.943 39.966,79.083 40.623 C 78.991 40.693,78.616 40.971,78.250 41.242 C 77.406 41.864,73.794 44.734,73.483 45.029 C 73.355 45.150,72.875 45.549,72.416 45.915 C 67.308 49.996,57.231 59.567,52.500 64.833 C 51.553 65.887,50.471 67.087,50.095 67.500 C 43.417 74.830,34.277 87.259,28.829 96.417 C 27.793 98.158,26.667 100.033,26.326 100.583 C 23.784 104.689,18.008 116.381,15.587 122.323 C 15.192 123.291,14.636 124.591,14.351 125.213 C 14.066 125.834,13.833 126.384,13.833 126.436 C 13.833 126.488,13.279 128.005,12.601 129.807 C 6.208 146.801,2.017 165.600,0.593 183.667 C -0.754 200.754,0.165 220.300,3.016 235.167 C 7.445 258.264,13.198 274.741,23.963 295.167 C 26.573 300.119,32.808 310.175,36.311 315.083 C 43.492 325.144,50.196 333.065,58.738 341.583 C 63.828 346.659,71.534 353.667,72.025 353.667 C 72.103 353.667,72.167 337.828,72.167 318.470 L 72.167 283.274 70.958 281.347 C 64.365 270.833,60.717 263.240,55.575 249.333 C 54.076 245.278,51.946 237.369,50.481 230.417 C 47.450 216.035,46.654 200.213,48.178 184.667 C 48.636 180.006,49.515 173.905,50.064 171.583 C 50.108 171.400,50.295 170.500,50.481 169.583 C 51.866 162.750,54.443 153.353,56.079 149.167 C 56.384 148.387,56.913 147.000,57.256 146.083 C 62.916 130.958,71.536 116.074,82.088 103.203 C 90.206 93.302,100.331 83.772,110.333 76.619 C 111.754 75.603,112.954 74.720,113.000 74.658 C 113.231 74.344,120.631 69.658,123.938 67.732 C 129.974 64.218,138.747 60.058,145.500 57.510 C 146.279 57.216,147.329 56.801,147.833 56.587 C 150.686 55.375,159.055 52.926,165.791 51.330 C 184.616 46.870,205.710 46.255,225.667 49.584 C 234.229 51.012,245.747 54.078,252.583 56.749 C 253.592 57.143,255.054 57.712,255.833 58.012 C 262.550 60.601,273.648 66.034,278.051 68.889 C 278.527 69.198,279.404 69.739,280.000 70.093 C 283.976 72.449,291.291 77.585,295.083 80.684 C 300.841 85.387,303.264 87.567,307.922 92.236 C 312.362 96.686,317.497 102.420,319.500 105.165 C 319.729 105.480,320.148 106.002,320.430 106.327 C 321.021 107.007,323.213 109.934,323.867 110.917 C 324.111 111.283,324.799 112.258,325.396 113.083 C 331.872 122.040,339.305 136.341,343.328 147.583 C 343.623 148.408,344.040 149.533,344.254 150.083 C 346.002 154.576,348.261 163.217,350.268 173.083 C 353.269 187.841,353.297 210.811,350.335 226.532 C 348.772 234.823,345.957 245.608,344.154 250.213 C 343.967 250.691,343.526 251.871,343.175 252.833 C 340.360 260.542,335.644 270.565,332.023 276.532 C 331.873 276.779,331.382 277.604,330.933 278.366 C 329.739 280.390,326.626 285.222,325.585 286.667 C 325.090 287.354,324.401 288.329,324.055 288.833 C 321.965 291.873,316.674 298.505,314.080 301.333 C 307.710 308.280,301.975 313.788,296.927 317.806 C 296.279 318.322,295.550 318.920,295.305 319.137 C 294.590 319.770,291.697 321.975,289.688 323.417 C 288.667 324.150,287.363 325.092,286.790 325.510 C 285.709 326.301,281.149 329.243,279.032 330.517 C 278.362 330.920,277.274 331.576,276.615 331.975 C 271.771 334.904,263.332 339.006,256.583 341.711 C 239.393 348.604,219.922 352.490,202.542 352.498 L 199.167 352.500 199.167 376.276 L 199.167 400.052 204.625 399.947 C 214.587 399.756,226.929 398.575,234.583 397.082 C 250.678 393.942,260.629 391.155,273.237 386.256 C 274.330 385.831,275.642 385.292,276.154 385.058 C 276.665 384.824,278.208 384.159,279.583 383.580 C 285.895 380.922,295.760 375.927,300.874 372.799 C 302.043 372.085,303.031 371.500,303.070 371.500 C 303.330 371.500,309.964 367.206,314.333 364.210 C 317.083 362.325,323.054 357.853,325.168 356.096 C 325.948 355.447,326.961 354.619,327.418 354.255 C 328.543 353.361,332.718 349.782,333.750 348.827 C 344.060 339.291,352.949 329.659,359.129 321.326 C 359.704 320.551,360.873 318.979,361.728 317.833 C 364.870 313.622,370.138 305.589,372.714 301.083 C 373.028 300.533,373.585 299.596,373.952 299.000 C 374.318 298.404,375.088 297.017,375.663 295.917 C 376.238 294.817,376.877 293.617,377.084 293.250 C 378.817 290.172,383.664 279.886,384.584 277.333 C 384.699 277.012,385.015 276.262,385.285 275.667 C 386.388 273.235,388.215 268.266,389.789 263.417 C 390.474 261.308,391.076 259.471,391.128 259.333 C 391.179 259.196,391.234 259.046,391.250 259.000 C 391.266 258.954,391.327 258.804,391.386 258.667 C 391.565 258.250,392.612 254.514,393.478 251.204 C 400.329 225.006,401.854 197.857,397.994 170.804 C 396.813 162.528,392.509 143.529,391.305 141.280 C 391.198 141.080,391.121 140.899,391.134 140.877 C 391.169 140.818,391.147 140.748,389.756 136.500 C 388.359 132.234,385.824 125.341,385.327 124.457 C 385.236 124.296,384.934 123.583,384.655 122.874 C 382.627 117.715,377.267 106.734,374.303 101.667 C 373.794 100.796,372.891 99.250,372.297 98.231 C 371.180 96.314,367.993 91.147,367.838 91.000 C 367.790 90.954,366.926 89.679,365.919 88.167 C 364.231 85.630,362.345 82.929,361.764 82.213 C 361.632 82.050,360.507 80.567,359.264 78.917 C 352.083 69.385,343.984 60.575,333.905 51.333 C 332.680 50.210,329.054 47.105,326.583 45.063 C 324.284 43.163,321.454 40.976,317.272 37.866 C 315.560 36.593,307.047 30.901,305.083 29.717 C 294.855 23.546,288.139 20.097,277.083 15.337 C 266.012 10.571,251.484 6.195,238.339 3.666 C 236.457 3.304,234.729 2.969,234.500 2.922 C 230.153 2.021,220.818 0.927,212.333 0.323 C 209.082 0.092,194.137 -0.009,190.500 0.175 " stroke="none" fill="#5c5c5c" fill-rule="evenodd"></path><path id="path2" d="M161.444 260.361 C 161.383 269.176,161.333 280.351,161.333 285.194 L 161.333 294.000 171.250 294.000 L 181.167 294.000 181.167 269.262 L 181.167 244.523 181.542 244.451 C 181.748 244.411,177.335 244.369,171.736 244.356 L 161.555 244.333 161.444 260.361 " stroke="none" fill="#0f5f97" fill-rule="evenodd"></path><path id="path3" d="M181.542 244.451 L 181.167 244.523 181.167 269.262 L 181.167 294.000 193.250 294.000 L 205.333 294.000 205.333 269.167 L 205.333 244.333 193.625 244.356 C 187.185 244.369,181.748 244.411,181.542 244.451 M161.404 262.083 C 161.404 264.100,161.429 264.902,161.458 263.866 C 161.487 262.829,161.487 261.179,161.458 260.199 C 161.428 259.219,161.404 260.067,161.404 262.083 M161.237 290.583 C 161.237 292.508,161.262 293.273,161.291 292.283 C 161.321 291.292,161.321 289.717,161.291 288.783 C 161.261 287.848,161.237 288.658,161.237 290.583 " stroke="none" fill="#147dc7" fill-rule="evenodd"></path><path id="path4" d="" stroke="none" fill="#488080" fill-rule="evenodd"></path></g></svg>\n',a='\n<svg height="0.7em" version="1.1" viewBox="0 0 24 32" width="0.7em"\nxml:space="preserve" xmlns="http://www.w3.org/2000/svg"\nxmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="Layer_1"/>\n<g id="play">\n    <polygon points="0,0 24,16 0,32" style="fill:#FFFFFF;"/>\n</g>\n</svg>\n'},5935:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(887);function o(e,t){if("object"!=typeof t.headerBidding)return;const{id:i}=e,o=window[window.ramp.pbKey].adUnits.find((e=>e.code===i));if(!o)return;const s=!!(o&&o.mediaTypes&&o.mediaTypes.video),r=(0,n.BT)({bids:e.config.headerBids.bids,order:t.headerBidding.order,isInView:e.inView&&100===e.viewability,unitSizes:s?e.config.sizes||[o.mediaTypes.video.playerSize]:o.mediaTypes.banner.sizes,isVideoAllowed:s,unitId:o.code}),a=[];r.forEach((e=>{"amazon"!==e.bidder&&("indexExchange"===e.bidder&&void 0!==e.params.id&&delete e.params.id,a.push(e))})),o.bids=a}},1084:(e,t,i)=>{"use strict";i.d(t,{Pd:()=>w,Z1:()=>c,Zk:()=>g});var n=i(887),o=i(4155),s=i(7998),r=i(3914),a=i(1401),d=i(8490),l=i(6191);const c=(e,t=!1,i=!1)=>{if(window.ramp.settings.roadblockActive)return void window.PageOS.BUS.on("roadblock:removed",(()=>{c(e,t,i)}));if("corner_ad_video"===e||"precontent_ad_video"===e)return;const r=window.ramp.settings,d=r.hbEnabled&&r.headerBidding.order,l=r.slots[e];if(l.isEmpty&&0===l.imps&&(!e.includes("_rail")&&l.element&&a.Z.observe(l.element),e.includes("_rail")&&(l.inView=!0,l.viewability=100)),!0===l.recalculateStickySidebar&&"sticky_sidebar"===l.type){l.recalculateStickySidebar=!1,window.ramp.settings.amazonSlots.forEach((t=>{t.slotID===e&&(t.sizes=l.filteredSizes)})),r.hbEnabled&&window[window.ramp.pbKey].adUnits.forEach((t=>{t.code===e&&(t.mediaTypes.banner.sizes=l.filteredSizes,t.bids=(0,n.BT)({bids:l.config.headerBids.bids,order:d,isInView:l.inView,unitSizes:l.filteredSizes,isVideoAllowed:l.isVideoAllowed}))}));const t=window.googletag.sizeMapping().addSize([1,1],l.filteredSizes).build();l.slot.defineSizeMapping(t)}if(o.pl.info(`Refresh rules for ${e}`,l.rules.refresh),void 0!==l.rules.refresh){if(void 0!==l.rules.refresh.type&&"Triggered"===l.rules.refresh.type)return;if(!0===l.rules.refresh.enabled){if(!0===l.refreshBlocked)return;if(l.refreshes<l.rules.refresh.limit){const a=1e3*l.rules.refresh.rate;if(r.hbEnabled){(0,n.pI)(l.slot);const d=window.__pwpbjs__.getConfig("timeoutBuffer")||0,c=window.__pwpbjs__.getConfig("userSync.auctionDelay")||0,m=r.headerBidding.timeout||0;let g=a-(d+c+m);g<0&&(g=0),l.auctionTimeout&&clearTimeout(l.auctionTimeout),l.auctionTimeout=setTimeout((()=>{l.pbjsBid=null,l.amazonBid={hasBid:!1};const d=Math.round(Date.now());(0,s.Z)(r,e).then((o=>{const s=Math.round(Date.now())-d;o&&(0,n.tP)(o);let r=a-(g+s);r<0&&(r=0),p(e,t,i,r)})).catch((e=>{o.G4.error("Prebid Auction Error: ",e)}))}),t?0:g)}else p(e,t,i,a)}else l.rules.refresh.enabled=!1}}},p=(e,t,i,n)=>{const o=window.ramp.settings,s=o.slots[e];s.refreshTimeout&&clearTimeout(s.refreshTimeout),s.refreshTimeout=setTimeout((()=>{s.isHidden?c(e,!1):document.getElementById(s.id)?!1===s.inView&&"inViewOnly"===s.rules.refresh.condition&&o.hasFocus&&void 0!==o.inViewDelayedRegistry?o.inViewDelayedRegistry[e]=!0:!0!==s.refreshBlocked&&m(e,i):clearTimeout(s.refreshTimeout)}),t?0:n)},m=(e,t)=>{const i=window.ramp.settings,n=i.slots[e];if(i.hasFocus){const o=n.rules.refresh.type;"Scroll"!==o&&"Click"!==o||"Scroll"===o&&i.scrollTriggered||"Click"===o&&i.clickTriggered?u(n,i.hbEnabled,e,true,t):"Scroll"===o?i.scrollDelayedSlots.push(n):i.clickDelayedSlots.push(n)}else"Always"===n.rules.refresh.condition&&u(n,i.hbEnabled,e,true,t),"inViewOnly"===n.rules.refresh.condition&&void 0!==i.inViewDelayedRegistry&&(i.inViewDelayedRegistry[e]=!0)},g=e=>{const t=window.ramp.settings,i=t.slots[e];o.pl.info(`Refresh rules for ${e}`,i.rules.refresh),t.hbEnabled?((0,n.pI)(i.slot),i.pbjsBid=null,i.amazonBid=!1,i.amazonMediaType="",(0,s.Z)(t,e).then((o=>{o&&(0,n.tP)(o),u(i,t.hbEnabled,e,!1)})).catch((e=>{o.G4.error("Prebid Auction Error: ",e)}))):u(i,t.hbEnabled,e,!1)},w=(e,t,i="")=>{const n=window.ramp.settings,o=n.slots[e];if("corner_ad_video"===o.type)return void o.__softRefreshSlot(i);const s=o.slot.getTargetingMap();let r,a="";if(t)for(const e in s)e.startsWith("hb_adid_")&&s[e][0]===t&&(a=e.slice(8));a&&(r=[`hb_adid_${a}`,`hb_adomain_${a}`,`hb_bidder_${a}`,`hb_format_${a}`,`hb_pb_${a}`,`hb_size_${a}`,`hb_source_${a}`],r=r.map((e=>e.length<=20?e:e.slice(0,20)))),a||(r=["amznbid","amzniid","amznp","amznsz"],o.slot.setTargeting("amazonBid","false")),r.forEach((e=>{o.slot.clearTargeting(e)})),u(o,n.hbEnabled,e,!1)},u=(e,t,i,s=!0,a=!1)=>{if((0,r.K)(e),s&&e.refreshes++,e.slot.setTargeting("refresh","true"),e.slot.setTargeting("refresh_count",e.refreshes),e.slot.setTargeting("tfre",a?"true":"false"),e.slot.setTargeting("lld_id",(0,n.Cm)()),t&&window[window.ramp.pbKey].setTargetingForGPTAsync(i),void 0!==e.rules.refresh.type&&e.slot.setTargeting("refresh_type",e.rules.refresh.type),window.location.hash.toLowerCase().includes("blankaddebug"))for(const t in e.slot.getTargetingMap())(t.includes("hb_")||t.includes("amzn"))&&e.slot.clearTargeting(t),e.slot.setTargeting("refresh","true"),e.slot.setTargeting("price_floor","30.00");o.$n.info(`Slot "${i}" - Time elapsed since rendered: ${Math.round(Date.now())-e.lastRenderedTime} ms.`);(0,d.E)(i,"Ad request"),!t&&(0,l.Z)([e.slot]),t&&window[window.ramp.pbKey].que.push((()=>{(0,l.Z)([e.slot])})),o.pl.info(`Slot: ${i} refreshed`,{hbEnabled:t,countRefresh:s})}},7080:(e,t,i)=>{"use strict";i.d(t,{GD:()=>r,RE:()=>s,aD:()=>o,et:()=>d,o6:()=>a});var n=i(4155);const o=e=>{if(void 0===e.config.headerBidding)return!1;return void 0!==(r(e.config.headerBidding)||a(e.config.headerBidding))[e.isMobile?"mobile":"desktop"]&&!("DFP_COPPA"===e.config.server&&(!e.config.headerBidding||0===Object.keys(e.config.headerBidding).length))},s=e=>{if(void 0!==e.headerBidding)return e.headerBidding;const t=r(e.config.headerBidding)||a(e.config.headerBidding);let i;if(void 0===e.hbEnabled&&(e.hbEnabled=o(e)),e.hbEnabled&&(i="tablet"===e.device&&void 0===t.tablet?t.mobile:t[e.device],void 0===i.order)){const t=i,o=Object.keys(t),s=Math.floor(Math.random()*o.length),r=i[o[s]];e.hbTest=o[s],i=r,window.kinesis.headerBiddingABTest(e.hbTest),n.Gt.info("Header Bidding AB Test",{name:e.hbTest})}return i},r=e=>{if(e)return e.display?e.display:e.video?null:e},a=e=>{if(e)return e.video?e.video:e.display?null:e},d=e=>{if(!e)return;const t=window.ramp.settings.device;let i;return i="tablet"===t&&void 0===e.tablet?e.mobile:e[t],i}},887:(e,t,i)=>{"use strict";i.d(t,{BT:()=>h,Bq:()=>x,Cm:()=>y,DP:()=>p,Fp:()=>d,Mo:()=>m,Ox:()=>k,TG:()=>_,UC:()=>c,_1:()=>u,a:()=>P,d7:()=>S,hP:()=>w,hv:()=>a,io:()=>v,n$:()=>C,nW:()=>f,pI:()=>l,sA:()=>g,tP:()=>b});var n=i(4155),o=i(2125);const s=["corner_ad_video","trendi_video","precontent_ad_video"],r=["bottom_rail","left_rail","right_rail"],a=()=>{if(document.getElementById("pwCSSstyling"))return!1;const e=o.UR,t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.id="pwCSSstyling",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),t.appendChild(i)},d=(e,t,i=Date.now())=>{const n=setInterval((()=>{if(void 0===window.kinesis)return;clearInterval(n);const o=i-t;o<0||o>3e4||window.kinesis.newBenchmark(e,o)}),1)},l=e=>{if(null===e)return;const t=["kbackfill","hb_container","hb_size","hb_val","hb_adid","hb_bidder","amznbid","amzniid","amznp","amznsz","size","slotID"];for(let i=0;i<t.length;i++)window.googletag.cmd.push((()=>{e?.getTargeting(t[i]).length&&e.clearTargeting(t[i])}));e.setTargeting("amazonBid","false")},c=(e,t)=>{for(let i=e.length-1;i>=0;i--)e[i][0]>t&&e.splice(i,1);return e},p=e=>{e=e.replace(/[\[\]]/g,"\\$&");const t=window.location.href,i=new RegExp(`[?&]${e}(=([^&#]*)|&|#|$)`).exec(t);return!!i&&(i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"")},m=()=>{const e={};return window.location.search.replace(/^\?/,"").split("&").forEach((t=>{const i=t.split("="),n=i[0],o=i[1];e.hasOwnProperty(n)?Array.isArray(e[n])?e[n].push(o):e[n]=[e[n],o]:e[n]=o})),e},g=e=>r.includes(e.type)||"Bolt Player"===e.videoType,w=e=>!!s.includes(e.id)||"Bolt Player"===e.videoType,u=(e,t)=>{if(!t||!e.slots[t])return;const i=e.slots[t];i.refreshBlocked=!0,(i.type.indexOf("_rail")>-1||i.element.classList.contains("pw-sticky")||0===i.imps)&&(i.element.style.display="none",window.googletag.cmd.push((()=>{window.googletag.destroySlots([e.slots[t].slot])})))},h=({bids:e,order:t,isInView:i,unitSizes:o,isVideoAllowed:s,unitId:r})=>{if(!e||!Array.isArray(t)||!Array.isArray(o))return n.ZP.error("reSort helper method missing params!"),e;let a=[];const d=JSON.stringify(o.map((e=>e.join("x"))));return t.forEach((t=>{const n={default:[],inView:[]};e.forEach((e=>{const i={...e};if(!(!1===s&&i.size&&i.size.length>0&&"video"===i.size[0])){if(Array.isArray(i.size)&&i.size.length>0&&"ANY"!==i.size[0]&&"video"!==i.size[0]){if(!i.size.every((e=>d.indexOf(e)>-1)))return}i.bidder===t&&(!0===i.inViewPID?n.inView.push(i):n.default.push(i))}})),a=i&&n.inView.length>0?a.concat(n.inView):a.concat(n.default)})),(a||[]).forEach((e=>{e&&e.size&&e.size.length>0&&e.size.includes("video")&&e.size.splice(e.size.indexOf("video"),1)})),"precontent_ad_video"===r&&a.forEach((e=>{const t=o[0][0],i=o[0][1];switch(e.bidder){case"openx":e.params=e.params||{},e.params.video={vht:i,vrw:0,vwd:t};break;case"triplelift":case"pubmatic":e.params=e.params||{},e.params.video=e.params.video||{},e.params.video.w=t,e.params.video.h=i}})),a},f=e=>{let t=[];const i=e.pathCategories;if(t=t.concat(e.categories?e.categories:[],e.category?e.category:[],e.keywords?e.keywords:[]),i)for(const n of i)if(0===window.location.pathname.indexOf(n.path)||n.path===e.cp){t=t.concat(n.categories?n.categories:[],n.keywords?n.keywords:[]);break}return window.PageOS.dmp&&window.PageOS.dmp.ready&&window.PageOS.dmp.addCategories(t),t},b=e=>{for(const t of e){const e=window.ramp.settings.slots[t.slotID],{amznbid:i,amznp:n,amzniid:o}=t;void 0!==e&&i.length>1&&n.length>1&&window.googletag.cmd.push((()=>{e.slot.setTargeting("amznbid",i),e.slot.setTargeting("amznp",n),e.slot.setTargeting("amzniid",o),e.slot.setTargeting("amazonBid","true")}))}},y=()=>{const e=window.PageOS.dataStream.randomUuid().split("_");return e[1].replace(/-/g,"")+e[2].slice(-8)},_=(e,t,i)=>{const o=t.filter((e=>e[0]<=i.width&&e[1]<i.height||"fluid"===e[0]));return 0===o.length?n.ZP.info(`No available sizes for ${e}`):n.ZP.info(`Available sizes for ${e}`,o),o},v=e=>e.filter((e=>e&&e.size&&"video"===e.size[0])),S=e=>e.filter((e=>!(e&&e.size&&"video"===e.size[0]))),P=()=>Math.max(document.documentElement.clientHeight,window.innerHeight||0),C=()=>Math.max(document.documentElement.clientWidth,window.innerWidth||0),k=()=>C()*P(),x=(e,t=!1,i=!1)=>{const n=t||window.ramp.settings.slots[e];return{ext:{data:{pos:i||(n?.pos?n.pos:void 0),in_view:n?.inView?n.inView:void 0,sitecont_cat:f(window.ramp.settings.config.settings),adunit:e}}}}},6123:(e,t,i)=>{"use strict";i.d(t,{T8:()=>n});const n=()=>window.matchMedia("(orientation: portrait)").matches?"portrait":"landscape"},713:()=>{Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if(0===n)return!1;var o,s,r=0|t,a=Math.max(r>=0?r:n-Math.abs(r),0);for(;a<n;){if((o=i[a])===(s=e)||"number"==typeof o&&"number"==typeof s&&isNaN(o)&&isNaN(s))return!0;a++}return!1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=arguments[1],o=0;o<i;){var s=t[o];if(e.call(n,s,o,t))return s;o++}}}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})),Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),i=t.length,n=new Array(i);i--;)n[i]=[t[i],e[t[i]]];return n})},8355:(e,t,i)=>{"use strict";function n({src:e,async:t,defer:i,onload:n,onerror:o}){const s=document.createElement("script");s.type="text/javascript",s.src=e,"boolean"==typeof t&&(s.async=t),"boolean"==typeof i&&(s.defer=i),n&&"function"==typeof n&&(s.onload=n),o&&"function"==typeof o&&(s.onerror=o),document.head.appendChild(s)}i.d(t,{Z:()=>n})},8490:(e,t,i)=>{"use strict";i.d(t,{E:()=>n});const n=(e,t)=>{const i=window.ramp.settings,n=i.slots[e],o=i.isMobile;window.PageOS.metrics.sendScroll(e,t),window.PageOS.metrics.sendViewportHeight(e,t),window.PageOS.metrics.sendAdHeight(e,n,t,o),window.PageOS.metrics.sendAdViewability(e,t,n.viewability)}},4155:(e,t,i)=>{"use strict";i.d(t,{$n:()=>u,E4:()=>b,F9:()=>p,G4:()=>a,Gt:()=>r,Hf:()=>d,VA:()=>f,ZP:()=>y,a2:()=>l,ho:()=>c,lj:()=>m,pl:()=>w,sc:()=>g});const n={build_timestamp:"2024-10-23 13:05:09.116",name:"tyche",version:"4.10.45",variant:{}},o=window.location.hash.toLowerCase().indexOf("tychedebug")>-1,s=e=>{const t=window.PageOS.logger.get(e,{app:n});return o&&t.setLevel(t.TRACE),t},r=s("AB_TEST"),a=s("PREBID"),d=s("GDPR"),l=s("AD_UNIT"),c=(s("AD_REQUEST"),s("AD_RESPONSE"),s("AD_EVENT")),p=(s("KINESIS"),s("STICKY_VIDEO"),s("TRENDI_SLIDESHOW"),s("RELEVANT_ARTICLE")),m=s("PASSIVE_MODE"),g=(s("ADLIGHTNING"),s("COPPA")),w=s("REFRESH_TYPE"),u=s("HB_TIMING"),h=s("DISPLAY_VIDEO"),f=s("CORNER_AD_VIDEO"),b=s("PRECONTENT_AD_VIDEO");window.ramp._loggers=window.ramp._loggers||[],window.ramp._loggers.push({name:"DISPLAY_VIDEO",logger:h}),window.ramp._loggers.push({name:"AD_EVENT",logger:c});const y=s("DEBUG")},3914:(e,t,i)=>{"use strict";i.d(t,{K:()=>n,Z:()=>o});const n=e=>window.PageOS.adUtils.calculateFloor(e);function o(){return new Promise((e=>{window.PageOS.BUS.after("userData_ready",(()=>{e()}))}))}},2210:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var n=i(6657),o=i(7346);const{buildScript:s,initIntersectionHandler:r,dockVideo:a,undockVideo:d,setupGlobalCSS:l}=window.PageOS.videoHandler;class c{constructor(e){if(this.validRules=void 0!==e,!this.validRules)return;const{precontentUrl:t}=e.video;this.rules=e,this.boltConfig=t,this.playerType="undefined"!=typeof playlistId?"playlist":"precontent",this.adUnitType="in_article",this.device=window.ramp.settings.device;const i="tablet"===this.device?"desktop":this.device;this.size=this.rules.video.size[i],this.containerDiv=this.buildContainer(),this.dockInArticleVideo=this.dockInArticleVideo.bind(this)}init(e,t,i,n){void 0!==n&&(this.adUnitType=n);const a=this;return a.item=e,a.position=t,new Promise(((n,c)=>{if(!a.validRules)return void c("Rules are missing");const p=s({boltConfig:a.boltConfig,id:"tyche_in_article_video",onReady:"window.ramp.handleBoltEvents.inArticleVideo",playerType:a.playerType,adUnitType:a.adUnitType});p.id="tyche_in_article_video_script",l(a.device),a.containerDiv.appendChild(p),e.insertAdjacentElement(t,a.containerDiv),a.rules.video.sticky&&(window.ramp.settings.slots.sticky_video=a.rules.video,window.ramp.settings.slots.sticky_video.isDocked=!1,window.ramp.settings.slots.sticky_video.videoType="Bolt Player",window.ramp.settings.slots.sticky_video.pwIframeId="zIframe_tyche_in_article_video"),window.ramp.handleBoltEvents=window.ramp.handleBoltEvents||{},window.ramp.handleBoltEvents.inArticleVideo=()=>{window.Bolt.playMedia("tyche_in_article_video"),window.Bolt.on("tyche_in_article_video",window.Bolt.BOLT_AD_COMPLETE,(()=>{a.removeBolt(),i&&(0,o.K5)(window.inArticleVideo.unit,e,t)})),window.Bolt.on("tyche_in_article_video",window.Bolt.BOLT_AD_STARTED,(()=>{a.containerDiv.style.height=a.containerDivHeight,a.rules.video.sticky?a.observer=r(a.containerDiv,d,a.dockInArticleVideo):a.observer=r(a.containerDiv,a.playVideo,a.pauseVideo),n()})),window.Bolt.on("tyche_in_article_video",window.Bolt.BOLT_AD_ERROR,(()=>{a.removeBolt(),i&&(0,o.K5)(window.inArticleVideo.unit,e,t),c("BOLT_AD_ERROR Fired")}))}}))}playVideo(){window.Bolt.playMedia("tyche_in_article_video")}pauseVideo(){window.Bolt.pauseMedia("tyche_in_article_video")}buildContainer(){const e=document.createElement("div");return e.id="tyche_in_article_video_container",e.style.margin="20px auto",e.style.width=`${this.size[0]}px`,e.style.height=0,e.style.overflow="hidden",this.containerDivHeight=`${this.size[1]}px`,e}dockInArticleVideo(e){a({player:e,location:"right-bottom",stickyW:this.size[0]})}removeBolt(){window.Bolt.removeVideo("tyche_in_article_video",!0),document.getElementById("tyche_in_article_video_container").remove(),window.inArticleVideo.video=void 0}}var p=i(4155);class m{constructor(e){if(this.unit=e,this.rules=(0,n.N)(window.ramp.settings,e,"any"),this.adUnitType="relevant_article",!this.rules)return this.isValid=!1,void p.F9.error("No valid rules found for unit.",{unit:e});this.rules.video&&(this.rules.video.size={desktop:[300,180],mobile:[300,180]}),window.ramp.isMobile||(this.unit.sizes=[[300,250]],this.rules.sizes=[[300,250]]),this.refreshes=0,this.RSS_URL=window.ramp.RSSURL||this.rules.RSSURL;const t="null"===this.rules.paragraphContainer.toLowerCase()?document.body:document.querySelector(this.rules.paragraphContainer);try{const e=0===this.rules.paragraphStart?0:this.rules.paragraphStart-1;if(this.anchorDiv=t.querySelectorAll(this.rules.paragraphRecognition)[e],!this.anchorDiv)throw new Error;this.isValid=!0}catch(e){this.isValid=!1,p.F9.error("No matching element found",{paragraphContainer:this.rules.paragraphContainer,paragraphRecognition:this.rules.paragraphRecognition,paragraphStart:this.rules.paragraphStart})}}appendStyles(){if(document.getElementById("pwRelArticleCSS"))return!1;const e=`\n            #pwRelArticles {\n                width: 100%;\n                min-width: 320px;\n                max-width: 640px;\n                text-align: center;\n                margin: 0 auto;\n            }\n            #pwRelArticles > .pw_left,\n            #pwRelArticles > .pw_right {\n                width: 50%;\n                min-width: ${window.ramp.isMobile?"320px;":"300px;"}\n                display: inline-block;\n                border: 1px #acacac solid;\n                vertical-align: top;\n            }\n            #pwRelArticles > .pw_right {\n                padding: 25px 0;\n            }\n            #pwRelArticles > .pw_left {\n                padding: 20px 20px 10px 20px;\n            }\n            #pwRelArticles > div.pw_left > h1.pw_headline {\n                font-size: 16px;\n                margin:0;\n                padding:0;\n                padding-bottom: 20px;\n                line-height: normal;\n                font-family: "Open Sans",arial, sans-serif;\n                text-align: left;\n                color: black;\n                font-weight: 600;\n            }\n            #pwRelArticles > div.pw_left > p.pw_tagline {\n                font-size: 10px;\n                color: #b2b2b2;\n                margin:0;\n                padding:0;\n                text-align: center;\n                font-family: "Open Sans",arial, sans-serif;\n            }\n            #pwRelArticles > div.pw_left > div.pw_list_item {\n                position: relative;\n                margin:0 0 10px 0;\n                padding:0 0 15px 0;\n                border-bottom: 1px #eeeeee solid;\n            }\n            #pwRelArticles > div.pw_left > div.pw_list_item > a.pw_link {\n                display: block;\n                position: absolute;\n                width: 100%;\n                height: 60px;\n                top: 0;\n                left: 0;\n                z-index: 10;\n            }\n            #pwRelArticles > div.pw_left > div.pw_list_item > img.pw_thumb {\n                width:60px;\n                height:60px;\n                margin:0;\n                padding:0;\n                border: 1px #acacac solid;\n                float: left;\n            }\n            #pwRelArticles > div.pw_left > div.pw_list_item > p.pw_title {\n                font-size: 15px;\n                color: #777777;\n                text-align: left;\n                margin: 0;\n                padding: 0 10px 0 20px;\n                display: -webkit-box;\n                -webkit-line-clamp: 4;\n                -webkit-box-orient: vertical;\n                max-width: calc(100% - 60px);\n                overflow: hidden;\n                text-overflow: ellipsis;\n                height:60px;\n                line-height: 1.2;\n                font-family: "Open Sans",arial, sans-serif;\n            }\n        `,t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.id="pwRelArticleCSS",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),t.appendChild(i)}fillContainerDiv(e){const t=document.createElement("div"),i=document.createElement("div");t.classList.add("pw_left"),i.classList.add("pw_right"),window.ramp.isMobile||(t.style.height="353px",i.style.height="353px",i.style.borderLeft="none"),this.adSlot=document.createElement("div"),i.appendChild(this.adSlot);const n=document.createElement("h1");n.classList.add("pw_headline"),n.innerText="Read More On This Topic",t.appendChild(n),this.insertItems(this.items,t);const o=document.createElement("p");o.classList.add("pw_tagline"),o.innerText="Powered by Playwire",t.appendChild(o),e.appendChild(t),e.appendChild(i)}getVideoRules(e){let t=!1,i=!1;for(let n=0;n<e.rules.length;n++){const o=e.rules[n].rule;if(void 0!==o.video&&(t=o.video),void 0!==o.refresh&&(i=o.refresh),t&&i)break}return{video:t,refresh:i}}handleLazy(e){this.observer=new IntersectionObserver((t=>{t[0].isIntersecting&&(this.placeInDom(e),this.observer.unobserve(this.anchorDiv))}),{root:null,rootMargin:"0px",threshold:1}),this.observer.observe(this.anchorDiv)}init(e=this.RSS_URL){if(!this.isValid||this.rules.loaded)return;p.F9.info("Init method",this.rules);const t="relevant_artricle_RSS",i=document.createElement("div");i.id="pwRelArticles",window.PageOS.BUS.on(t,(e=>{if(!e)return;this.items=window.PageOS.tyche.getRSSdata(e,this.rules);const t=window.ramp.isMobile?2:3;this.items.length<t||(this.items=this.items.slice(0,t),this.rules.loaded=!0,this.appendStyles(),this.fillContainerDiv(i),this.rules.lazyLoad?this.handleLazy(i):this.placeInDom(i))})),window.PageOS.tyche.fetchRSS(e,t)}insertItems(e,t){e.forEach((e=>{const{thumbnail:i,title:n,url:o}=e,s=document.createElement("div");s.classList.add("pw_list_item");const r=document.createElement("a");r.classList.add("pw_link"),r.href=o,r.setAttribute("target","_blank");const a=document.createElement("img");a.classList.add("pw_thumb"),a.src=i;const d=document.createElement("p");d.classList.add("pw_title"),d.innerText=n,s.appendChild(r),s.appendChild(a),s.appendChild(d),t.appendChild(s)}))}insertVideo(){if(void 0===window.inArticleVideo&&!window.ramp.settings.stickyVideoOn){const e=this.getVideoRules(this.unit);window.inArticleVideo={rules:e,position:"afterbegin",adType:this.rules.adType,unit:this.unit,refreshes:0}}void 0!==window.inArticleVideo&&void 0===window.inArticleVideo.video&&0===this.refreshes||this.refreshes<window.inArticleVideo.rules.refresh.limit?(window.inArticleVideo.video=new c(window.inArticleVideo.rules),window.inArticleVideo.video.init(this.adSlot,window.inArticleVideo.position,"DisplayAndVideo"===this.rules.adType,this.adUnitType).then((()=>{window.inArticleVideo.refreshes++})).catch((()=>{(0,o.K5)(this.unit,this.adSlot,"afterend")}))):(0,o.K5)(this.unit,this.adSlot,"afterend")}placeAd(){"DisplayAndVideo"===this.rules.adType||"VideoAdsOnly"===this.rules.adType?this.insertVideo():(0,o.K5)(this.unit,this.adSlot,"afterend")}placeInDom(e){const t=0===this.rules.paragraphStart?"beforebegin":"afterend";this.anchorDiv.insertAdjacentElement(t,e),this.placeAd()}}},7998:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(887),o=i(8723),s=i(4155),r=i(3662),a=i(8142),d=i(8490),l=i(9416);function c(e,t,i){return new Promise((c=>{const p=e.slots[t],m=e.slots[t].config.headerBids,g=e.headerBidding;e.slots[t].pbjsBid=null,e.slots[t].amazonBid={hasBid:!1};let w=700,u=null,h=null,f=!1;if(!1===e.hbEnabled||!m)return void c();g&&(h=g.order),w=g.timeout,p.config.initialSizes&&(p.config.sizes=p.config.initialSizes);const b=void 0!==p.rules.sizes?p.rules.sizes.slice(0):p.config.sizes.slice(0);let y=!1,_=b.filter((e=>("video"===e[0]&&(y=!0),"fluid"!==e[0]&&"video"!==e[0])));if("left_rail"===p.type||"right_rail"===p.type){_=_.filter((e=>"fluid"!==e[0]&&"video"!==e[0]));const e=(0,o.OC)(p.id,p.type,p.rules);_=(0,n.TG)(p.id,_,e)}else"sticky_sidebar"===p.type&&(_=p.filteredSizes);if(i){const e=[],{width:t,height:n}=i.parentElement.getBoundingClientRect();for(let i=0;i<_.length;i++)_[i][0]<=t&&_[i][1]<=n&&e.push(_[i]);_=e}if(e.apstagLoaded&&h&&h.includes("amazon")&&(0,r.cp)(p)){const i=e.amazonSlots.filter((e=>e.slotID===t)),n=Date.now();if(!i.length&&_.length){const e={};e.sizes=_,e.slotID=t,e.slotName=p.config.code,y&&(0,l.J5)({data:e,bannerSizes:_}),i.push(e),window.ramp.settings.amazonSlots.push(e)}else if("left_rail"===p.type||"right_rail"===p.type)for(let e=0;e<i.length;e++)i[e].sizes=_;i.forEach((e=>{window.PageOS.pagePulse.markPerformanceEvent("amzSlotAuctionStart",{unit_type:window.ramp?.settings?.slots[e.slotID]?.type,slot_id:e.slotID,refresh_count:window.ramp?.settings?.slots[e.slotID]?.refreshes+1})})),window.PageOS.apstag.fetchBids(i,w).then((e=>{s.G4.info("Amazon Refresh Bids Back",{time:Date.now()-n,bids:e}),f=e,i.forEach((e=>{window.PageOS.pagePulse.markPerformanceEvent("amzSlotAuctionEnd",{unit_type:window.ramp?.settings?.slots[e.slotID]?.type,slot_id:e.slotID,refresh_count:window.ramp?.settings?.slots[e.slotID]?.refreshes+1})}))}))}for(let e=0;e<window[window.ramp.pbKey].adUnits.length;e++)if(window[window.ramp.pbKey].adUnits[e].code===t){u=window[window.ramp.pbKey].adUnits[e];break}if(null===u&&_.length){(0,r.Cw)(m,e);const i={code:t,mediaTypes:{banner:{sizes:_}},bids:(0,n.BT)({bids:m.bids,order:h,isInView:p.inView&&p.viewability>=a.Zm,unitSizes:_,isVideoAllowed:y})};y&&(0,l.b$)({data:i,type:p.type,bannerSizes:_}),window[window.ramp.pbKey].addAdUnits([i])}else if(null!==u&&("left_rail"===p.type||"right_rail"===p.type)){p.config.initialSizes=p.config.sizes,p.config.sizes=_,u.mediaTypes.banner.sizes=_,u.bids=(0,n.BT)({bids:m.bids,order:h,isInView:p.inView&&p.viewability>=a.Zm,unitSizes:_,isVideoAllowed:y});const e=window.googletag.sizeMapping().addSize([1,1],_).build();p.slot.defineSizeMapping(e)}(0,d.E)(t,"Request bids"),u&&u.code&&(u.ortb2Imp=(0,n.Bq)(u.code)),window[window.ramp.pbKey].que.push((()=>{window[window.ramp.pbKey].requestBids({adUnitCodes:[t],timeout:w,labels:[e.uuid],bidsBackHandler:()=>{(0,d.E)(t,"Bids back"),c(f)}})}))}))}},3558:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(8142),o=i(3493),s=i.n(o),r=i(6191);class a{constructor(){this.settings=window.ramp.settings}handleViewable(e){"pw-oop-left_rail2"!==e&&"pw-oop-right_rail2"!==e&&window.googletag.cmd.push((()=>{this.settings.slots[e].slot.setTargeting("in_view","true"),(0,r.Z)([this.settings.slots[e].slot])}))}lazySpy(){const e=this.settings;for(const t in e.slots){const i=e.slots[t];if(void 0===i.videoType&&!0===i.lazy){(0,n.vL)(i)&&(i.lazy=!1,i.queued=!0,this.handleViewable(t))}}}startSpying(){window.addEventListener("scroll",s()(this.lazySpy.bind(this),16.67),!0),this.lazySpy()}}},4295:(e,t,i)=>{"use strict";i.d(t,{WT:()=>a,ff:()=>r});var n=i(4155),o=i(3493),s=i.n(o);const r=e=>{!0===e.rules.sticky&&!1===e.firstView&&"med_rect"!==e.type&&(e.firstView=!0,l(e))},a=e=>{n.ZP.info("Sticky Sidebar Init");try{if(e.element.offsetHeight>250)return;const t=d(e),i=e.element.getBoundingClientRect().left,o=e.element.offsetTop,r=()=>{if(!1===e.rules.sticky)return;const i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;if(e.viewability<50&&!e.element.classList.contains("pw-sticky")&&(n.ZP.info("Sticky Sidebar: Out of View."),e.element.classList.add("pw-sticky"),e.element.style.top=null===a?"0px":`${a.offsetHeight}px`),t.getBoundingClientRect().bottom-e.element.offsetHeight<=0){const i=t.getBoundingClientRect().bottom-e.element.offsetHeight;e.element.style.top=`${i}px`}i<=o+e.element.offsetHeight&&(e.element.style.top="0px",e.element.classList.remove("pw-sticky"))};let a=null,l=null;if(!1===t)return;if(e.element.style.left=`${i}px`,n.ZP.info("Sticky Sidebar Debug: Rules",e.rules),l=e.rules.nav,void 0!==l&&""!==l&&document.querySelectorAll(l).length>0){n.ZP.info("Sticky Sidebar DEBUGGER"),a=document.querySelectorAll(l)[0];const t=""===window.getComputedStyle(a).zIndex?2147483647:parseInt(window.getComputedStyle(a).zIndex,10)-1;e.element.style.zIndex=t,e.element.style.top=`${a.offsetHeight}px`,n.ZP.info("Sticky Sidebar Debug: Nav Style",`${a.offsetHeight}px`)}window.addEventListener("scroll",s()(r,16.67))}catch(e){n.ZP.info("STICKY Sidebar Error",e)}},d=e=>{const t=e.rules.container;if(void 0!==t&&""!==t){let e=!1;if("#"===t.charAt(0))e=document.getElementById(t.substr(1))||!1;else if("."===t.charAt(0)){const i=document.getElementsByClassName(t.substr(1));i.length>0&&(e=i[0])}return!1===e&&n.ZP.info("Sticky Unit Error: No Container Found For Selector",t),e}return n.ZP.info("Sticky Unit: No Container Specified"),!1},l=e=>{try{const t=4e3,i=(new Date).getTime(),o=d(e);if(null===e.sticky&&(e.sticky={time:0,top:e.element.offsetTop,left:o?o.getBoundingClientRect().left:e.element.getBoundingClientRect().left,stickyTimer:null,on:!!e.element.classList.contains("pw-sticky"),contain:o},"med_rect"===e.type&&(e.element.style.left=e.sticky.left-10+"px")),"med_rect"===e.type&&!1===o)return;n.ZP.info("Sticky Debug",e.sticky),e.sticky.stickyTimer=setInterval((()=>{if(!0!==e.rules.sticky&&clearInterval(e.sticky.stickyTimer),e.inView){const t=(new Date).getTime();e.sticky.time=t-i}!1===e.inView&&!1===e.sticky.on&&e.sticky.time<t&&(e.sticky.on=!0,e.element.classList.add("pw-sticky")),!1===e.inView&&!0===e.sticky.on&&e.sticky.time>=t&&(e.sticky.on=!1,e.rules.sticky=!1,e.element.classList.remove("pw-sticky")),!0===e.inView&&!0===e.sticky.on&&e.sticky.time>=t&&(e.sticky.on=!1,e.rules.sticky=!1,e.element.classList.remove("pw-sticky"))}),25),n.ZP.info(`Sticky Event: Sticky Activated For ${e.id}`,e.sticky)}catch(e){console.error(e)}}},2125:(e,t,i)=>{"use strict";i.d(t,{BD:()=>r,Ef:()=>s,Ph:()=>a,UE:()=>n,UR:()=>d,yw:()=>o});const n=["behind_page","in_image","above_page","top_rail","bottom_rail","right_rail","left_rail","INIMG","SKIN","flex_leaderboard","site_skin","flex"],o=["behind_page","in_image","above_page","top_rail","bottom_rail","right_rail","left_rail","INIMG","SKIN","flex_leaderboard","flex"],s=["leaderboard","med_rect","sky","320x50"],r=["tyche_af829a9c-fa98-4b60-b61b-f930e2cd5fcb","tyche_c955b8f4-a911-4eff-b20f-d4c64b53c7e9","tyche_2ce70a28-2179-4dbf-b77a-f9342a82399c","tyche_b61bf930-e2cd-4fcb-8307-59010ad5913c"],a=/widget server|googlebot|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub\.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum\.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail\.RU_Bot|discobot|heritrix|findthatfile|europarchive\.org|NerdByNature\.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net\.com\.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler\.com|siteexplorer\.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e\.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf\.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive\.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis/i,d='.pw-tag { text-align: center; opacity: 1}.pw-oop-tag {width: 1px; height: 1px; line-height:1px; position: fixed}.pw-tag-hidden { visibility: hidden; opacity: 0}.pw-in-article { padding: 20px 0; }.pw-in-article--size-logic__container { padding: 20px 0; }.pw-in-article--size-logic__container .pw-in-article { padding: 0; }.pw-in-article--size-logic {max-height: 500px;overflow: hidden;position:relative;} .pw-in-article--size-logic::-webkit-scrollbar {display: none;} .pw-in-article_hidden { visibility: hidden; height:0; }.pw-sticky { position: sticky; top: 0; padding: 0 }.pw-sticky-corner #pw-close-video-container { display: none!important} .pw-sticky-corner { margin: 10px auto!important; top: 0px; z-index: unset!important; }div.pw-loading-spinner {text-align:center;width:100%;position: absolute;top: 0;left: 0;height: 100%;display: flex;justify-content: center;align-items: center;}div.pw-loading-spinner-gif {height: 100px;width: 100px;background-image:url(https://cdn.intergi.com/tyche-assets/pw_loading_icon.gif);background-repeat: no-repeat;background-size: contain;}div.pw-ad-container-logo {margin: 0 5px 5px 0;}.pw-fixed-mobile-leaderboard{ position: fixed;bottom: 0px;left: 50%;width: 320px;height:50px;margin-left:-160px;z-index: 2147483645;text-align: center;padding: 2px 0;background: rgba(0, 0, 0, 0.8);transition: opacity .6s ease-in}.fixed-mobile-close { cursor: pointer;border-top: 1px solid rgba(0,0,0,0.35);border-left: 1px solid rgba(0,0,0,0.35);border-right: 1px solid rgba(0,0,0,0.35);border-radius: 4px 4px 0 0; padding: 3px 6px 3px 6px;position: absolute; top: -22px; right: -1px; z-index: -1;background-color: rgba(0,0,0,0.55);box-shadow: inset 0 0 0 1px rgba(255,255,255,0.2);color: rgba(255,255,255,0.75);line-height: 1.2;font-size: 12px;font-family: Helvetica,Arial,sans-serif;-webkit-transition: all .5s ease-out;-moz-transition: all .5s ease-out;-o-transition: all .5s ease-out;transition: all .5s ease-out;}.pw-siderail-left-close { cursor: pointer;border-top: 1px solid rgba(0,0,0,0.35);border-left: 1px solid rgba(0,0,0,0.35);border-right: 1px solid rgba(0,0,0,0.35);border-radius: 4px 4px 0 0; padding: 3px 6px 3px 6px; position: absolute;top: -22px; left: -1px; z-index: -1; background-color: rgba(0,0,0,0.55);box-shadow: inset 0 0 0 1px rgba(255,255,255,0.2);color: rgba(255,255,255,0.75);line-height: 1.2;font-size: 12px;font-family: Helvetica,Arial,sans-serif;-webkit-transition: all .5s ease-out;-moz-transition: all .5s ease-out;-o-transition: all .5s ease-out;transition: all .5s ease-out;}.pw-siderail-right-close { cursor: pointer;border-top: 1px solid rgba(0,0,0,0.35);border-left: 1px solid rgba(0,0,0,0.35);border-right: 1px solid rgba(0,0,0,0.35);border-radius: 4px 4px 0 0; padding: 3px 6px 3px 6px; position: absolute;top: -22px; right: -1px; z-index: -1; background-color: rgba(0,0,0,0.55);box-shadow: inset 0 0 0 1px rgba(255,255,255,0.2);color: rgba(255,255,255,0.75);line-height: 1.2;font-size: 12px;font-family: Helvetica,Arial,sans-serif;-webkit-transition: all .5s ease-out;-moz-transition: all .5s ease-out;-o-transition: all .5s ease-out;transition: all .5s ease-out;}div[data-pw-desk="leaderboard_atf"].pw-sticky,div[data-pw-mobi="leaderboard_atf"].pw-sticky { z-index: 2147483645;position: fixed; top:0px; left:0px; width: 100%; padding: 20px 0;background: rgba(0,0,0,.2);overflow:hidden;transition: 750ms opacity ease-out;opacity: 1;border-bottom: 1px solid rgba(238, 238, 238, 0.4)}div[data-pw-desk="med_rect_atf"].pw-sticky { z-index: 2147483644;position: fixed; width: 300px; padding: 0; background: transparent;overflow:hidden;transition: 750ms opacity ease-out;opacity: 1;border-bottom: 20px solid #fff;border-top: 20px solid #fff}.pws-sticky:before {z-index: -1;-webkit-filter: blur(34px);width: 100%;height: 100%;content: "";position: absolute;top: 0px;left: 0px;background: rgba(0,0,0,.5);}.pw-sticky-hide{opacity: 0%;}#pw-oop-behind_page { z-index: 0}#pw-oop-site_skin { z-index: 0}#pw-oop-above_page { z-index: 2147483647}#pw-oop-top_rail { top: 0px; left:0px}#pw-oop-left_rail, #pw-oop-left_rail2  { left: 0px; top: 0px; position: fixed;height:600px}#pw-oop-right_rail, #pw-oop-right_rail2 { right: 0px; top: 0px; position: fixed;height:600px}.pw-tps{ display: none }#pw-oop-left_rail2, #pw-oop-right_rail2 {opacity: 0; }#tycheConsole{ background-color: #fff; border-top: 1px solid;font-family: Arial, Helvetica, sans-serif; font-size: 12px;position: fixed; bottom: 0; width: 100%; padding: 0 2% 2% 2%;z-index: 9999999999; box-sizing: border-box}#tycheConsole a:visited{ color: rgb(52, 152, 219) }#tycheConsole li:hover{background: rgba(52, 152, 219,.26)}.ad__name{ display:inline-block; width: 15%; font-weight:bold;}div[data-pw-desk="leaderboard_atf"] > div > iframe { margin:auto; }#pw-oop-bottom_rail > div > iframe { margin:auto; }.pw_rail_push_hide {transform: translateY(-250%); transition: 2s; }.pw_rail_push_show { opacity: 1; animation: showDiv 1s forwards; }@keyframes showDiv { 0% {transform: translateY(1000%); } 100% { transform: translateY(0);  opacity: 1; } }#video_backfill {position: relative; top: 50%; transform: translateY(-50%); -ms-transform: translateY(-50%);z-index: 11}#video_backfill > .pw_report_ad_container { display: block}.pw-ad-container-hidden { background-image: none !important; }.pw-corner-ad-video.pw-hide {display: none}#pw-oop-bottom_rail.pw-tag.pointer-modifier {pointer-events: none; border-top: unset !important;}.pw-corner-ad-video-container {width: 100%;height:100%;max-height:100%}.pw-clearfix{clear:both}.pw-border-incontent-before { flex-grow: 1; margin-right: 10px; }.pw-border-incontent-after { flex-grow: 1; margin-left: 10px; } .pw-footer-container-incontent { display: flex; align-items: center; position: absolute; bottom: 0; width: 100%; height: 1px;}'},8299:(e,t,i)=>{"use strict";i.d(t,{TX:()=>p,Xk:()=>c,_e:()=>u,bT:()=>l,f1:()=>g,mt:()=>m,wG:()=>h});var n=i(887),o=i(7346),s=i(4155),r=i(2125),a=i(6657),d=i(8142);const l=e=>{let t=[];return e&&(t=Array.from(document.querySelectorAll(`div[data-pw-${e.toLowerCase()}]`))),t.filter((e=>!(0,d._Q)(e)))},c=e=>{const t=window.ramp.settings;if(t.units.sec.length>0)for(let i=0;i<t.units.sec.length;i++){const n=t.units.sec[i],o=n.alias?"alias":"unit";if(void 0!==n[o]&&n[o].toLowerCase()===e.toLowerCase())return n}for(let i=0;i<t.units.ros.length;i++){const n=t.units.ros[i],o=n.alias?"alias":"unit";if(void 0!==n[o]&&n[o].toLowerCase()===e.toLowerCase())return n}return!1},p=e=>{const t=e.getAttribute(`data-pw-${window.ramp.settings.deviceSelector}`).split("_");return t.length>1&&t[t.length-1].toLowerCase()},m=e=>{const t=e.getAttribute(`data-pw-${window.ramp.settings.deviceSelector}`);if(t.startsWith("standard_iab"))return t;const i=t.split("_");let n=i[0];if(i.length>2)for(let e=1;e<i.length-1;e++)n+=`_${i[e]}`;return n=n.toLowerCase(),n},g=e=>new Promise(((t,i)=>{if(null!==e.tags)return void i("Tags already scraped");window.performance.timing&&(0,n.Fp)("domLoading_to_findTags",window.performance.timing.domLoading);const o=e.isMobile?"mobi":"desk";e.interactive=!0,e.selectorBasedAdUnits||(e.tags=l(o)),0===e.tags.length?(s.a2.warn(`No Playwire tags found in DOM for ${o}`),i("Tags scraped. No Tags Found.")):(s.a2.info(`Playwire DOM tags found for ${o}`,e.tags),t())})),w=(e,t,i=!1)=>{const n=window.ramp.settings;let o,s;i?(o="",s=e):(o=t?"oop":p(e),s=t?e:m(e)),s="sky"===s?"160x600":s;const r=c(s);return{type:s,pos:o,oop:t,config:r,rules:!!r&&(0,a.N)(n,r,o)}},u=e=>{const t=window.ramp.settings,i=e||t.selectorBasedAdUnits;return new Promise((e=>{const n=[];if(!window.ramp.settings.adsPerformance&&!i)for(let e=0;e<t.tags.length;e++)n.push((0,o.zv)(t.tags[e],!1));if(i){s.ZP.info("Selector based ad units found.",null,"color:black;background:orange;");const e=[...r.Ef,...t.selectorBasedIabUnits];for(let t=0;t<e.length;t++){const i=w(e[t],!1,!0);if(!i.rules.locationSelector)continue;const s=!!i.rules&&i.rules.locationSelector.split(",");if(s)for(let r=0;r<s.length;r++)i.rules=Object.assign({},i.rules),i.rules.locationSelector=s[r],n.push((0,o.zv)(e[t],!1,!1,i))}}const a=window.ramp.settings.adsPerformance?r.yw:r.UE;for(let e=0;e<a.length;e++)n.push((0,o.zv)(a[e],!0));Promise.all(n).then((()=>{t.tagsProcessed=!0,e()})).catch((e=>{s.a2.error("Could not process tags.",e)}))}))},h=(e,t,i={})=>new Promise(((n,s)=>{(0,o.zv)(t,!1,!1,!1,i).then((t=>{t&&(e.slots[t.id]=t,n(t)),n()})).catch((e=>{s(`Could not process tag: ${e}`)}))}))},2056:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});let n=!1;const o={tyche_trendi_video:"precontent_ad_video"},s=(e,t,i)=>{o[e]&&(e=o[e]),window.PageOS.BUS.on(`${e}:${t}`,i,!1)};function r(){n||(n=!0,window.Bolt=window.Bolt||{},window.Bolt.BOLT_AD_REQUEST_START="boltAdRequestStart",window.Bolt.BOLT_AD_IMPRESSION="boltAdImpression",window.Bolt.BOLT_AD_STARTED="boltAdStarted",window.Bolt.BOLT_FIRST_QUARTILE="boltFirstQuartile",window.Bolt.BOLT_MIDPOINT="boltMidPoint",window.Bolt.BOLT_THIRD_QUARTILE="boltThirdQuartile",window.Bolt.BOLT_AD_COMPLETE="boltAdComplete",window.Bolt.BOLT_AD_SESSION_COMPLETE="boltAdSessionComplete",window.Bolt.BOLT_AD_ERROR="boltAdError",window.Bolt.BOLT_AD_PAUSED="boltAdPaused",window.Bolt.BOLT_AD_CLICKED="boltAdClicked",window.Bolt.SHOW_HIDDEN_CONTAINER="showHiddenContainer",window.Bolt.on=window.Bolt.on||s)}},3193:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>j,isTPGEnabled:()=>ce,nextElementInlineIdx:()=>J,renameTargetingKeysMap:()=>le});var n=i(4155),o=i(7905),s=i(9416);const r=({rules:e,size:t,contentVideo:i,fullscreen:o})=>{const s=document.querySelector(".pw-corner-ad-video");if(!s)return void n.VA.error("adWrapper is not found");const r=window.ramp.settings.isMobile?e.mobileLocation:e.desktopLocation,d=c(e);d&&d.x&&d.y?a(r,d,s,t,e,i.enabled,o):n.VA.error("unit position config is not support",d)},a=(e,t,i,o,s,r,a)=>{const l=a?"%":"px";o=a?[100,100]:o;const c=window.ramp.settings.bottomRailBlockRefresh;if("corner"===e){if(i.style.width=`${o[0]}${l}`,i.style.height=`${o[1]}${l}`,i.style.position="fixed",i.style[t.x]="0",i.style[t.y]=!0===c?"60px":"0",i.style.zIndex=t.z,i.style.borderRadius="8px",i.style.background="#000000",r){const e=i.getElementsByClassName("pw-corner-ad-video-container");if(a){e[0].requestFullscreen();const t=i.getElementsByClassName("pw-custom-ima-container");e&&e.length>0&&(e[0].style.width="100%",e[0].style.height="100%"),t&&t.length>0&&(t[0].style.width="100%",t[0].style.height="100%")}else document.fullscreenElement&&document.exitFullscreen()}a||d(i,s)}else n.VA.error(`unit location is not support - "${e}"`)},d=(e,t)=>{const i=p(t),n=m(t),o=c(t),s=n>=0?n:10;let r=i>=0?i:5;const a=g();"number"!=typeof i&&a&&"bottom"===o.y&&(r+=a),"right"===o.x?e.style.marginRight=s+"px":"left"===o.x&&(e.style.marginLeft=s+"px"),"bottom"===o.y?e.style.marginBottom=r+"px":"top"===o.y&&(e.style.marginTop=r+"px")},l=e=>{if(e&&(e.setAttribute("style",""),e.firstChild))for(;e.firstChild;)e.removeChild(e.firstChild)},c=e=>window.ramp.settings.isMobile?e.mobilePosition:e.desktopPosition,p=e=>window.ramp.isMobile?e.mobileOffsetY:e.desktopOffsetY,m=e=>window.ramp.isMobile?e.mobileOffsetX:e.desktopOffsetX,g=()=>{const e=[0];return window.PageOS.BUS.after("gumgumAdHeight",(t=>{if(t>0){t+=window.ramp.isMobile?5:10,e.push(t)}})),Object.keys(window.ramp.settings.slots).forEach((t=>{const i=window.ramp.settings.slots[t];"bottom_rail"===i.type&&i.on&&i.element&&i.element.parentElement&&e.push(i.element.offsetHeight)})),Math.max(...e)};var w=i(8966),u=i(3662),h=i(887),f=i(7080);const b=(e,{unit:t,rules:i,size:n})=>{const o=document.createElement("div");return o.id=e,o.classList.add("pw-tag","pw-corner-ad-video-container"),{adFetchCount:0,type:t.unit,element:o,pos:"FIXED",id:e,imps:0,inView:!0,viewability:100,refreshes:0,refreshBlocked:!1,on:!0,config:t,rules:i,pbjsBid:null,amazonBid:!1,lastRefresh:Date.now(),playerSize:n,closeButtonEnabled:!0}},y=(e,{unit:t,size:i,amazonSlotId:n})=>{if(!window.ramp.settings.headerBidding||!window.ramp.settings.headerBidding.order.includes("amazon"))return!1;const o={slotID:n,slotName:t.code,mediaType:"video",sizes:[i]};return window.ramp.settings.amazonSlots.push(o),o},_=(e,{unit:t,size:i,contentVideo:n})=>{const o=(0,f.o6)(window.ramp.settings.config.headerBidding),r=(0,f.et)(o);if(!r)return!1;(0,u.Cw)(t.headerBids,window.ramp.settings);const a="desktop"===window.ramp.settings.device||"tablet"===window.ramp.settings.device,d={code:e,mediaTypes:{video:{useCacheKey:!0,context:"outstream",playerSize:i,mimes:["video/mp4","video/webm","video/ogg","application/x-mpegURL","application/javascript"],protocols:a?[2,3,5,6,7,8,13,14]:[2,3,5,6],maxduration:30,linearity:1,api:a?[1,2]:[2],minduration:1,startdelay:0,placement:5,plcmt:n.enabled?2:4,ext:{},skip:1,skipmin:0,skipafter:0,minbitrate:250,maxbitrate:4e3,playbackmethod:[2]}},bids:(0,h.BT)({bids:t.headerBids.bids,order:r.order,isInView:!0,unitSizes:[i],isVideoAllowed:!0}),renderer:{url:(0,s.gg)(),render:s.k_,backupOnly:!1}};return window.location.hash.toLowerCase().includes("videobiddersoverride")&&d.bids.forEach((e=>{"appnexus"!==e.bidder&&"appnexusAst"!==e.bidder||(e.params=e.params||{},e.params.placementId=13232385)})),window[window.ramp.pbKey].addAdUnits([d]),d},v=e=>{const t=(0,f.o6)(window.ramp.settings.config.headerBidding),i=(0,f.et)(t);return e.slot&&i?new Promise((t=>{const o=i.timeout||700,s=e.slot.amazonSlot,r=e.slot.prebidSlot;if(!s&&!r)return void t();let a;const d=new Promise((e=>{a=e}));if(s){window.performance?.mark("amzSlotAuctionStartCornerAdVid",{detail:{source:"pw_page_analytics_events",type:"amzSlotAuctionStartCornerAdVid",ad_details:{unit_type:e.slotId,slot_id:e.slotId,refresh_count:null}}});const t=Date.now();window.PageOS.apstag.fetchBids([s],o).then((i=>{n.G4.info("[video] Amazon Bids Back",{time:Date.now()-t,bids:i}),window.performance?.mark("amzSlotAuctionEndCornerAdVid",{detail:{source:"pw_page_analytics_events",type:"amzSlotAuctionEndCornerAdVid",ad_details:{unit_type:e.slotId,slot_id:e.slotId,refresh_count:null}}}),e.amazonBids=i,a()})).catch((()=>{a()}))}else a();let l;const c=new Promise((e=>{l=e}));if(r){r.ortb2Imp=(0,h.Bq)(r.code,e.slot.rampSlot),window.performance?.mark("slotAuctionStartCornerAdVid",{detail:{source:"pw_page_analytics_events",type:"slotAuctionStartCornerAdVid",ad_details:{unit_type:e.slotId,slot_id:e.slotId,refresh_count:null}}});const t=Date.now();window[window.ramp.pbKey].requestBids({adUnitCodes:[r.code],timeout:o,labels:[window.ramp.settings.uuid],bidsBackHandler:i=>{n.G4.info("[video] Prebid Bids Back",{time:Date.now()-t,bids:i}),window.performance?.mark("slotAuctionEndCornerAdVid",{detail:{source:"pw_page_analytics_events",type:"slotAuctionEndCornerAdVid",ad_details:{unit_type:e.slotId,slot_id:e.slotId,refresh_count:null}}}),e.prebidAllBids=i&&i[e.slotId]&&i[e.slotId].bids,l()}})}else l();Promise.any([Promise.all([d,c]),S(o)]).then((()=>{t()}))})):Promise.resolve()},S=function(e){return new Promise((t=>{setTimeout(t,e)}))};var P=i(6657),C=i(7538),k=i(3914);const x=e=>{if(e.inline)return e.inlineSize&&e.width&&e.height?[e.width,e.height]:[640,480]};let E=!1;const A=e=>{const t=e.containerElement;if(t.style.position="relative",!e.slot.rampSlot.isDocked){t.classList.add("pw-hide-close-button"),t.style.width=`${e.slot.rampSlot.playerSizeInline[0]}px`,t.style.height=`${e.slot.rampSlot.playerSizeInline[1]}px`;const i=e.slot.rampSlot.element;i.style.width=`${e.slot.rampSlot.playerSizeInline[0]}px`,i.style.height=`${e.slot.rampSlot.playerSizeInline[1]}px`,t.classList.add("pw-sticky-corner")}if(e.slot.rampSlot.isDocked){t.classList.remove("pw-hide-close-button"),t.classList.remove("pw-sticky-corner");const i=window.ramp.settings.isMobile?e.rules.mobilePosition:e.rules.desktopPosition;t.style.width=`${e.size[0]}px`,t.style.height=`${e.size[1]}px`;const n=e.slot.rampSlot.element;n.style.width=`${e.size[0]}px`,n.style.height=`${e.size[1]}px`,t.style.position="fixed",t.style[i.x]="0",t.style[i.y]="0",t.style.zIndex=i.z,t.style.borderRadius="8px",t.style.background="#000000"}return t};var z=i(8723),B=i(3774),I=i(6376),T=i(8850),O=i(2056),L=i(4299),D=i(9379);const V=["mp4","webm","ogg"],R=e=>`https://config.playwire.com/${window.ramp.settings.config.settings.publisherId}/videos/v2/${e}/manifest.f4m`,$=({rules:e})=>{const t=(e=>e.playList)(e);return t.length>0?(e=>e.map((e=>R(e))))(t):[]},Z=e=>{const t=M(e),i=t.mediaGroups;let n;i.mp4?n=i.mp4:i.webm?n=i.webm:i.ogg&&(n=i.ogg);return window.ramp.settings.isMobile?n.hd&&n.mobile?(n.sd=n.mobile,delete n.mobile):!n.hd&&n.sd&&n.mobile&&(n.hd=n.sd,n.sd=n.mobile,delete n.mobile):n.hd&&n.sd&&n.mobile?delete n.mobile:n.sd&&n.mobile?(n.hd=n.sd,n.sd=n.mobile,delete n.mobile):n.hd&&n.mobile&&(n.sd=n.mobile,delete n.mobile),n.duration=t.duration,n},M=e=>{const t=(new DOMParser).parseFromString(e,"application/xml"),i=t.getElementsByTagName("baseURL")[0].textContent.trim();let o,s=t.getElementsByTagName("duration")[0].textContent.trim();s=U(s);let r=t.getElementsByTagName("media");if(r.length>1)try{const e=[];for(o=0;o<r.length;o++)e.push(r[o]);r=e.sort(((e,t)=>{const i=window.parseInt(e.getAttribute("bitrate"),10),n=window.parseInt(t.getAttribute("bitrate"),10);return i<n?-1:i>n?1:0}))}catch(e){n.VA.error(`Cannot process media list: ${e.message}`)}const a={};for(o=0;o<r.length;o++){const e=r[o],t=e.getAttribute("url"),n=/.(mp4|m4v|ogg|webm)/i;let s=t.match(n);if(s&&(s=s[1],V.indexOf(s)>-1)){let n=e.getAttribute("url");0!==n.indexOf("http")&&(n=`${i}/${n}`),"m4v"===s&&(s="mp4"),a[s]||(a[s]={}),t.indexOf("video-hd")>-1?a[s].hd=n:t.indexOf("video-sd")>-1?a[s].sd=n:t.indexOf("video-mobile")>-1&&(a[s].mobile=n)}}return{duration:s,mediaGroups:a}},U=e=>{let t=Math.floor(e/3600),i=Math.floor((e-3600*t)/60),n=e-3600*t-60*i;return t=t<10?`0${t}`:t,i=i<10?`0${i}`:i,n=n<10?`0${n}`:n,`${t}:${i}:${n}`};let F;const H=new Promise((e=>{F=e}));let N=!1;const j=(e,t=!1)=>{if(N||window.ramp.settings.slots.corner_ad_video)return void n.VA.warn("Only one unit of that type is allowed!");n.VA.info("Initialization started"),N=!0,(0,O.Z)();const i={isFirstRenderDone:!1,baseUrl:"https://securepubads.g.doubleclick.net/gampad/ads?"},o=de(e);if(!o)return void n.VA.error("No valid rules");if(i.unit=e,i.rules=o,t&&(i.customProperties=t),t&&t.sizes?i.size=t.sizes[0]:i.size=ie(o),!i.size)return void n.VA.error("No valid video player size defined");i.contentVideo={enabled:!1},i.rules.playContent&&i.rules.adFrequency&&i.rules.playList&&(i.contentVideo.playlist=$(i),i.contentVideo.playlist.length>0&&(i.contentVideo.enabled=!0,i.lastAdDuration=0,i.lastVideoType="content")),i.rules.inline&&(i.inlineSize=x(o)),i.amazonSlotId="Outstream_Player",i.slot=(e=>{const t=(0,w.Z)(e.unit.unit);return{amazonSlot:y(0,e),prebidSlot:_(t,e),rampSlot:b(t,e)}})(i),i.slotId=i.slot.rampSlot.id,window.ramp.settings.slots[i.slotId]=i.slot.rampSlot,i.slot.rampSlot.__onViewModeChangedListeners=[],i.slot.rampSlot.__onViewModeChanged=function(e){i.slot.rampSlot.__onViewModeChangedListeners.push(e)}.bind(void 0);const s=(({rules:e,size:t,slot:i})=>{const o=i.rampSlot.element,s=document.createElement("div");s.classList.add("pw-corner-ad-video"),s.classList.add("pw-hide");const r=window.ramp.settings.isMobile?e.mobileLocation:e.desktopLocation,d=c(e);if(d&&d.x&&d.y)return a(r,d,s,t,e),s.appendChild(o),s;n.VA.error("unit position config is not support",d)})(i);if(i.rules.inline){const e=(0,L.Z)({height:i.inlineSize[1],backgroundColor:"#F5F5F5"});i.placeholder=e}i.containerElement=s;const p=()=>{(e=>{if(void 0!==window[window.ramp.pbKey]){const t=window[window.ramp.pbKey].adUnits.find((t=>t.code===e.slotId));t&&(t.mediaTypes.video.playerSize=e.slot.rampSlot.playerSize)}if(window.ramp.settings.amazonSlots&&window.ramp.settings.amazonSlots.length){const t=window.ramp.settings.amazonSlots.find((t=>t.slotID===e.amazonSlotId));t&&(t.sizes=[e.slot.rampSlot.playerSize])}})(i),g(i)},m=e=>{window.PageOS.BUS.on("corner_video_first_unfilled",(()=>{i.slot.rampSlot.isDocked=!0,i.containerElement=A(i),p()})),i.slot.rampSlot.inlineInitialized=!0,i.slot.rampSlot.isDocked=!1,i.inlineContainer=e,i.relativePosition=i.rules.placementRelativeToSelector?i.rules.placementRelativeToSelector:"belowSelector";const t=(0,I.Xt)(i);i.inlineContainer.insertAdjacentElement(t,i.placeholder),i.placeholder.appendChild(i.containerElement),i.slot.rampSlot.firstUnfilled=!1,i.slot.rampSlot.playerSizeInline=(e=>x(e.rules))(i),(e=>{if(void 0!==window[window.ramp.pbKey]){const t=window[window.ramp.pbKey].adUnits.find((t=>t.code===e.slotId));t&&(t.mediaTypes.video.playerSize=e.slot.rampSlot.playerSizeInline)}if(window.ramp.settings.amazonSlots&&window.ramp.settings.amazonSlots.length){const t=window.ramp.settings.amazonSlots.find((t=>t.slotID===e.amazonSlotId));t&&(t.sizes=[e.slot.rampSlot.playerSizeInline])}})(i),A(i),q(i),((e,t)=>{const i=e.placeholder;new IntersectionObserver((function(n){n.forEach((n=>{i.getBoundingClientRect().top>0||(n.isIntersecting?(!E&&n.intersectionRatio<.5&&(E=!0),e.slot.rampSlot.isDocked=E&&n.intersectionRatio<.5):e.slot.rampSlot.isDocked=!!E,t(e))}))}),{root:null,rootMargin:"0px",threshold:[0,.5]}).observe(i)})(i,(e=>{e.containerElement=A(e),p()}))};if(!0==!i.rules.inline)document.body.append(i.containerElement),q(i);else{i.rules.placementRelativeToSelector||(i.rules.placementRelativeToSelector="belowSelector");K(i).then((e=>{e?m(e):n.VA.warn("Not valid selector")})).catch((e=>{n.VA.warn(`Unable to run inline video. Trying to run corner ad video. ${e}`),document.body.append(i.containerElement),q(i)}))}if(!i.containerElement)return;i.slot.rampSlot.playerPosition=(({rules:e})=>{const t=window.ramp.settings.isMobile?e.mobileLocation:e.desktopLocation,i=c(e);return`${t}|${i.x}|${i.y}`})(i),ne(),i.slot.rampSlot.__destroyUnit=function(){(0,w.P)(i.slot.rampSlot.type),(0,C.ZE)(i.slot.rampSlot),i.placeholder&&i.placeholder.remove(),i.containerElement&&i.containerElement.remove(),N=!1}.bind(void 0),i.slot.rampSlot.__refreshSlot=function(){if(null!=i.slot.rampSlot.rules.maxAds&&i.slot.rampSlot.imps>=i.slot.rampSlot.rules.maxAds)return n.VA.warn("Destroy unit due to 'maxAds' rule"),void i.slot.rampSlot.__destroyUnit();if(!0!==i.slot.rampSlot.inlineInitialized){if(i.amazonBids=null,i.prebidAllBids=null,i.slot.rampSlot.pbjsBid=null,i.slot.rampSlot.amazonBid=!1,l(i.slot.rampSlot.element),i.size=ie(o),!i.size)return;i.fullscreen=!1,r(i),(e=>{if(!e.slot.rampSlot)return!1;e.slot.rampSlot.playerSize=e.size})(i),(e=>{if(!e.slot.prebidSlot)return!1;const t=(0,f.o6)(window.ramp.settings.config.headerBidding),i=(0,f.et)(t);if(!i)return!1;e.slot.prebidSlot.mediaTypes.video.playerSize=e.size,e.slot.prebidSlot.bids=(0,h.BT)({bids:e.unit.headerBids.bids,order:i.order,isInView:!0,unitSizes:[e.size],isVideoAllowed:!0})})(i),(e=>{if(!e.slot.amazonSlot)return!1;e.slot.amazonSlot.sizes=[e.size]})(i)}v(i).then((()=>{re(i)}))}.bind(void 0),i.slot.rampSlot.__softRefreshSlot=function(e){"amazon"===e.toLowerCase()?(i.amazonBids=null,i.slot.rampSlot.amazonBid=!1):(i.prebidAllBids=null,i.slot.rampSlot.pbjsBid=null),i.amazonBids||i.prebidAllBids?(l(i.slot.rampSlot.element),re(i)):i.slot.rampSlot.__refreshSlot()}.bind(void 0),i.slot.rampSlot.__handleBlankAd=function(){const e=i.rules.refreshRetries||0,t=i.rules.refreshTimeout||0,n=i.slot.rampSlot.retries||0;if(i.containerElement.classList.add("pw-hide"),i.lastVideoType="content",n>=e&&"hide"===i.rules.playerBehaviorOnAdUnavailable)return i.slot.rampSlot.retries=0,void setTimeout((()=>{i.slot.rampSlot.__refreshSlot()}),1e3*t);n>=e&&"close"===i.rules.playerBehaviorOnAdUnavailable?i.slot.rampSlot.__destroyUnit():(i.slot.rampSlot.retries=n+1,i.slot.rampSlot.__refreshSlot())}.bind(void 0),i.slot.rampSlot.__handleVideoImpression=function(){i.slot.rampSlot.imps++}.bind(void 0),i.slot.rampSlot.__toogleFullscreen=function(){n.VA.info("Toogle fullscreen"),i.contentVideo.enabled&&(i.fullscreen=!i.fullscreen,r(i))}.bind(void 0),i.slot.rampSlot.__shouldPlayContentVideo=function(){const e=i.contentVideo.mediaDuration-i.contentVideo.playDuration-i.contentVideo.offset;e<0&&(i.contentVideo.diff=Math.abs(e),i.lastVideoType="ad"),ae(i)}.bind(void 0),["bottom_rail_closed","bottom_rail_loaded","bottom_rail_rendered"].forEach((e=>{window.PageOS.BUS.on(e,(()=>{if(("bottom_rail_loaded"===e||"bottom_rail_rendered"===e)&&(0,D.vm)()){const e=i.slot.rampSlot;window.ramp.settings.isMobile?e.__destroyUnit():"bottom"===i.rules.desktopPosition.y&&(e.playerPosition.replace("bottom","top"),i.rules.desktopPosition.y="top",r(i))}setTimeout((()=>{d(i.containerElement,i.rules)}))}),!1)}));const g=e=>{try{e.slot.rampSlot.__onViewModeChangedListeners.forEach((e=>e()))}catch(e){}};window.document.addEventListener("visibilitychange",(()=>{const e="hidden"!==document.visibilityState;ee(i,e),te(i)})),ee(i,window.ramp.settings.hasFocus),te(i),n.VA.info("Initialization completed")},q=e=>{Promise.all([oe(),H]).then((()=>{v(e).then((()=>{se(e)}))})).catch((()=>{n.VA.error("Ad unit not started due to issues with IMA SDK and custom IMA player")}))},W=(e,t,i)=>{let n=0;i?n=i:t.distanceFromTop?t.distanceFromTop.includes("px")?n=parseFloat(t.distanceFromTop,10):t.distanceFromTop.includes("vh")&&(n=window.innerHeight*(parseFloat(t.distanceFromTop,10)/100)):"belowTheFold"===t.insertionType&&(n=window.innerHeight);for(let t=0;t<e.length;t++){const i=e[t].getBoundingClientRect().top;if(i>n)return window.thresholdHeight=i,t}},K=e=>new Promise(((t,i)=>{const n=e.rules,o=n?.elementSelector,s=(0,B.Z)("in_content"),r=s&&(0,B.g)(s),a=o&&document.querySelector(o);if(!r&&a)return void t(a);const d=document.querySelector((0,z.zI)(n));if(!d)return void i(new Error("Container element not found"));n.excludedElements=r?.excludedElements||n?.excludedElements;const l=(0,z.hL)(d,n);if(!l||l.length<1)return void i(new Error("Content elements not found"));const c=r?.elementSelector;o?G(l,n,c,t,a):Y(l,n,r,c,t)})),G=(e,t,i,n,o)=>{if(i){if(o)return void n(o);n(e[0])}else window.PageOS.BUS.on("firstIncontentPlacedHeight",(i=>{const o=W(e,t,i);n(e[o])}))},Y=(e,t,i,n,o)=>{if(n){const i=W(e,t);window.firstCornerVideoPlaced=!0,window.PageOS.BUS.emit("firstCornerVideoPlacedHeight"),o(e[i])}else Q(e,t,i,o)},Q=(e,t,i,n)=>{if(!0===i.adsAtf&&"aboveTheFold"!==t.insertionType)X(e,i,n);else{const i=W(e,t);window.firstCornerVideoPlaced=!0,window.thresholdIdx=i,window.PageOS.BUS.emit("firstCornerVideoPlacedIdx",i),n(e[i])}},J=(e,t,i)=>{let n;if((0,T.isV2Insertion)(t)){const o=t.insertedDistance?(0,I.Qw)(t):0,s=e[i].getBoundingClientRect().bottom;for(n=i;n<e.length&&e[n].getBoundingClientRect().top<=s+o;)n++}else n=i+(0,I.Qw)(t)+1;return n},X=(e,t,i)=>{if(window.PageOS.BUS.on("firstIncontentPlacedIdx",(n=>{const o=J(e,t,n);return o<e.length?(window.PageOS.BUS.emit("firstCornerVideoPlacedIdx",o),i(e[o])):i(null)})),void 0!==window.firstCornerVideoPlacedIdx){const n=J(e,t,window.firstCornerVideoPlacedIdx);return n<e.length?(window.PageOS.BUS.emit("firstCornerVideoPlacedIdx",n),i(e[n])):i(null)}},ee=(e,t)=>{e&&e.slot&&e.slot.rampSlot&&(e.slot.rampSlot.inView=t)},te=e=>{if(void 0===window[window.ramp.pbKey])return;const t=window[window.ramp.pbKey].adUnits.find((t=>t.code===e.slotId));if(!t)return;const i=(0,f.o6)(window.ramp.settings.config.headerBidding),n=(0,f.et)(i);t.bids=(0,h.BT)({bids:e.unit.headerBids.bids,order:n.order,isInView:e.slot.rampSlot.inView,unitSizes:[t.mediaTypes.video.playerSize],isVideoAllowed:!0})},ie=e=>{const t=window.ramp.settings.isMobile;if(!t&&e.desktopCutoff&&e.desktopCutoff.screenWidthCutoff&&e.desktopCutoff.sizeAboveCutoff&&e.desktopCutoff.sizeAboveCutoff.length&&e.desktopCutoff.sizeBelowCutoff&&e.desktopCutoff.sizeBelowCutoff.length)return document.documentElement.clientWidth>e.desktopCutoff.screenWidthCutoff?e.desktopCutoff.sizeAboveCutoff:e.desktopCutoff.sizeBelowCutoff;let i=!1;return e.size&&(i=t?e.size?.mobile:e.size?.desktop),!(!i||!i.length)&&i},ne=()=>{if(window.pwImaPlayerInitialization&&"function"==typeof window.pwImaPlayerInitialization)return F(),void n.VA.info("Custom IMA video player already loaded");(0,o.W)((0,s.gg)(),(()=>{F(),n.VA.info("Custom video player has been loaded")}))},oe=()=>new Promise(((e,t)=>{if((0,s.NH)())return void e();const i=setInterval((()=>{(0,s.NH)()&&(e(),clearInterval(i),clearTimeout(n))}),70),n=setTimeout((()=>{clearInterval(i),t()}),1e4)})),se=e=>{ae(e),n.VA.info("First refresh triggered"),e.isFirstRenderDone=!0},re=e=>{e.isFirstRenderDone&&(ae(e),n.VA.info("Refresh triggered"))},ae=e=>{const{shouldPlayContent:t,contentDuration:i}=we(e);if(t){if(0===e.contentVideo.playlist.length&&(e.contentVideo.playlist=$(e)),e.contentVideo.playlist.length>0){const t=e.contentVideo.diff??0;t>0?(e.contentVideo.offset=0,e.contentVideo.playDuration=Math.floor(t)):e.contentVideo.mediaDuration===e.contentVideo.playDuration+e.contentVideo.offset?(e.contentVideo.offset=0,e.contentVideo.playDuration=Math.floor(i),e.contentVideo.diff=1):(e.contentVideo.offset=e.contentVideo.offset+e.contentVideo.playDuration,e.contentVideo.playDuration=Math.floor(i)),ge(e)}}else{e.baseParamsMap=new Map,e.customParamsMap=new Map,e.slot.rampSlot.targeting=null;(({unit:e,size:t,customParamsMap:i,baseParamsMap:n,contentVideo:o,customProperties:s},r)=>{let a=e.code;s&&s.unitCode&&(a=s.unitCode[0]),n.set("sz","640x480"),n.set("iu",a),n.set("impl","s"),n.set("gdfp_req","1"),n.set("env","vp"),n.set("output","vast"),n.set("unviewed_position_start","1"),n.set("url",encodeURIComponent(window.location.href)),n.set("description_url",encodeURIComponent(window.location.href)),n.set("correlator",Date.now()),n.set("vad_type","linear");let d=t;r&&(d=r),(window.ramp.privacy?.flags?.rdp||window.PageOS.ccpa?.hasUserOptedOut())&&n.set("rdp","1"),(window.ramp.privacy?.flags?.npa||!window.ramp.privacy?.flags?.npa&&window.PageOS.gdpr?.userInEU&&!window.PageOS.gdpr?.consent?.acString)&&n.set("npa","1"),window.ramp.privacy?.flags?.tfua&&n.set("tfua","1"),(window.ramp.privacy?.flags?.tfcd||void 0===window.ramp.privacy?.flags?.tfcd&&window.ramp.settings.isCoppa)&&n.set("tfcd","1");const l=e.path??e.section;i.set("custom_path",l.replace(/CP\[|\]/g,"")),i.set("adunit","corner_ad_video"),i.set("instream","false"),i.set("owning_pub_id",window.ramp.settings.config.settings.publisherId),i.set("pub_id",window.ramp.settings.config.settings.publisherId),i.set("website_id",window.ramp.settings.config.id),i.set("player_width",d[0]),i.set("player_height",d[1]),i.set("synd","false"),i.set("vid_long_form","false"),i.set("vid_location","corner"),i.set("sticky","true"),o.enabled&&i.set("plcmt",2);const c=window.googletag.pubads().getTargetingKeys();c&&c.length&&c.forEach((e=>{i.set(e,window.googletag.pubads().getTargeting(e))}))})(e,!0===e.slot.rampSlot.inlineInitialized?e.inlineSizes:void 0),e.isFirstRenderDone&&(e.slot.rampSlot.refreshes++,e.customParamsMap.set("refresh","true"),e.customParamsMap.set("refresh_count",e.slot.rampSlot.refreshes));try{const t=(0,k.K)(e.slot.rampSlot);null!=t&&e.customParamsMap.set("price_floor",t)}catch(t){n.VA.warn("Cannot calculate price floor",t),e.customParamsMap.set("price_floor","na")}(({customParamsMap:e,amazonBids:t,amazonSlotId:i})=>{if(!t||!t.length||!e)return;const n=t.find((e=>e.slotID===i));n&&(e.set("amznbid",n.amznbid),e.set("amzniid",n.amzniid),e.set("amznp",n.amznp),e.set("amznqsparams",n.encodedQsParams),e.set("amznslotid",n.slotID),window.location.href.toLowerCase().includes("amzn_debug_mode=1")&&n.amznbid.startsWith("o_")&&(e.set("amznbid",n.amznbid.replace("o_","v_")),e.set("amznqsparams",n.encodedQsParams.replace("o_","v_"))))})(e),(({customParamsMap:e,prebidAllBids:t})=>{if(t&&t.length&&e)try{let i=-1/0,n=null,o=null;t.forEach((t=>{const s=t.adserverTargeting.hb_val||t.adserverTargeting.hb_pb,r=parseFloat(s);let a=t.bidderCode;r>i&&(i=r,n=a,o=t.adserverTargeting?.hb_uuid),"appnexus"===a&&(a="appnexusAst"),e.set(`hb_bidder_${a}`.slice(0,20),a),e.set(`hb_pb_${a}`.slice(0,20),r.toFixed(2)),e.set(`hb_uuid_${a}`.slice(0,20),t.videoCacheKey),"rubicon"===a&&t.adserverTargeting.hb_deal&&(e.set(`hb_deal_${a}`.slice(0,20),t.adserverTargeting.hb_deal),e.set("rubicon_direct","true"))})),e.set("hb_pb",i.toFixed(2)),e.set("hb_bidder",n),e.set("hb_uuid",o)}catch(e){n.VA.error("Error happened during setting Prebid bids KVs",e)}})(e),e.slot.rampSlot.lastRefresh=Date.now(),e.slot.rampSlot.adFetchCount++;let t=new Map;e.slot.rampSlot.targeting=Object.fromEntries(e.customParamsMap),ce()&&(e.customParamsMap=le(e,t,!0));const i=(({baseUrl:e,customParamsMap:t,baseParamsMap:i})=>{const n=[];if(i.forEach(((e,t)=>{n.push(`${t}=${e}`)})),t.size){let e=[];t.forEach(((t,i)=>{"string"==typeof t||"number"==typeof t||"boolean"==typeof t?e.push(`${i}=${t}`):Array.isArray(t)&&e.push(`${i}=${encodeURIComponent(t.join("&"))}`)})),e.length&&n.push(`cust_params=${e.join("%26")}`)}return e+n.join("&")})(e);ce()&&(e.customParamsMap=le(e,t,!1)),(0,s.k_)({adUnitCode:e.slotId,vastUrl:i}),e.lastVideoType="ad"}},de=e=>{if("corner_ad_video"!==e.unit)return!1;const t=(0,P.N)(window.ramp.settings,e,"any");if(!t)return!1;let i=!1;const n=window.ramp.settings.isMobile;if(!n&&t.desktopCutoff&&t.desktopCutoff.screenWidthCutoff&&t.desktopCutoff.sizeAboveCutoff&&t.desktopCutoff.sizeAboveCutoff.length&&t.desktopCutoff.sizeBelowCutoff&&t.desktopCutoff.sizeBelowCutoff.length)i=!0;else{const e=n?t.size?.mobile:t.size?.desktop;e&&e.length&&(i=!0)}return!!i&&t},le=function(e,t,i){let n,o=new Map;const s=e.slotId,r=i?e.customParamsMap:t;return i&&(t[s]=new Map),r.forEach(((e,s)=>{const r=i?e:t.get(s);i&&t.set(s,r),n=i?pe(s):s,o.set(n,r)})),o},ce=function(){return window.ramp?.settings?.config?.settings?.tpg_enabled&&window.ramp?.settings?.config?.tpg_network},pe=e=>{let t=`pw_${e}`;return t.length>20&&(t=t.slice(0,20)),t},me=e=>{var t,i;n.VA.info(`Playing content video from ${e.contentVideo.mediaFileUrl}`),(0,s.k_)({adUnitCode:e.slotId,vastXml:(t=e.contentVideo.mediaFileUrl,i=e.contentVideo.mediaDuration,`<VAST version="3.0"> <Ad> <InLine> <AdSystem>2.0</AdSystem> <Impression/> <Creatives> <Creative> <Linear><Duration>${i}</Duration> <MediaFiles> <MediaFile delivery="progressive" type="video/mp4"> <![CDATA[${t}]]> </MediaFile> </MediaFiles> </Linear> </Creative> </Creatives> </InLine> </Ad> </VAST>`),isContent:!0,contentVideo:e.contentVideo}),e.lastVideoType="content"},ge=e=>{const t=!(e.contentVideo.mediaDuration&&!(e.contentVideo.diff&&e.contentVideo.diff>0));if(e.contentVideo.diff=0,t){const t=e.contentVideo.playlist.shift();(i=t,new Promise(((e,t)=>{const n=new XMLHttpRequest;n.open("GET",i,!0),n.onload=()=>{if(4===n.readyState&&200===n.status){const t=Z(n.responseText);e(t)}},n.onerror=()=>{t(null)},n.send()}))).then((t=>{const i=window.ramp.settings.isMobile?t.sd:t.hd,n=t.duration;e.contentVideo.mediaFileUrl=i,e.contentVideo.mediaDuration=(e=>{const t=e.split(":");return 3600*parseInt(t[0],10)+60*parseInt(t[1],10)+parseInt(t[2],10)})(n),e.contentVideo.offset=0,me(e)})).catch((e=>{n.VA.error("Cannot play content video",e)}))}else me(e);var i},we=e=>{let t=!1,i=0;if("content"===e.lastVideoType)return{shouldPlayContent:t,contentDuration:i};if(e.contentVideo.enabled){const t=e.rules.adFrequency||!1;if(!1!==t)switch(t){case"adLength":e.lastAdDuration=window.ramp.settings.slots[e.slotId].lastAdDuration??0,i=e.contentVideo.diff>0?e.contentVideo.diff:e.lastAdDuration;break;case"time":i=(e.rules.adFrequencyTime||0)/1e3}}return t=i>0,{shouldPlayContent:t,contentDuration:i}}},9379:(e,t,i)=>{"use strict";i.d(t,{ZL:()=>a,vm:()=>r});const n=()=>{const e=document.querySelector("#pw-oop-bottom_rail.pw-tag"),t=document.querySelector("#pw-oop-bottom_rail div iframe");e&&t&&(e.classList.add("pointer-modifier"),t.setAttribute("style","pointer-events: auto;"))},o=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)return!1;try{return CSS.supports(e,t.toLowerCase())}catch(e){return!1}},s=(e,t)=>{const i=document.createElement("div");i.style.color=e.toLowerCase(),document.body.appendChild(i);const n=window.getComputedStyle(i).color;return document.body.removeChild(i),-1===n.indexOf("rgba")?n.replace("rgb","rgba").replace(")",`,${t})`):n.replace(/[\d.]+\)$/g,`${t})`)},r=()=>{const e=window.ramp.settings.slots["pw-oop-bottom_rail"];return!0===e?.rules?.expandable&&!0===window.ramp.settings.bottomRailBlockRefresh},a=(e,t,i)=>{try{if(e.element.classList.contains("pw-tps"))return;e.width=t,e.height=i,(e=>{const t=e.rules?.expandable;e.slot.setTargeting("expandable_br",!0===t?"true":"false"),t&&!0===window.ramp.settings.bottomRailBlockRefresh&&(e.refreshBlocked=!0)})(e);const r=(e=>{let t="#f5f5f526",i=!1;const r=window.ramp?.override?.settings?.bottomRailStyling,a="boolean"==typeof r?.transparent;(void 0!==e.rules.railBackground&&!1===e.rules?.railBackground?.enabled||"transparent"===e.rules?.railBackground?.styling)&&(i=!0);let d="0.15";a?d=r?.transparent?"0.15":"1":i&&(t="#f5f5f500",n());const l=r?.color,c=e?.rules?.railBackground?.color;return o("background-color",l)?t=s(l,d):!0===e?.rules?.railBackground?.enabled&&o("background-color",c)&&(t=c),t})(e),a=e.element.style.maxHeight?`max-height: ${e.element.style.maxHeight}`:"",d=e.element.style.maxWidth?`max-width: ${e.element.style.maxWidth}`:"";if(e.element.setAttribute("style",`width:100%;position:fixed;left:0;bottom:0;\n            z-index: 2147483643;background-color: ${r};\n            border-top:1px solid rgba(0,0,0,0.1);padding-top:5px;\n            text-align:center;${a};${d}`),void 0!==e.rules.closeButton&&!0===e.rules.closeButton){const t=document.createElement("div"),i=window.ramp.settings.isMobile&&window.innerWidth<435,n=i?"2px":"20px",o=i?"2px":"20px";t.onclick=()=>{e.element.remove(),e.width=0,e.height=0,window.PageOS.BUS.emit("bottom_rail_loaded"),window.PageOS.BUS.emit("bottom_rail_closed")},t.innerHTML='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg style="margin:6px;" class="icon" height="12" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M35.2 33.6 976 972.8 35.2 33.6ZM548.8 512l310.4-312c12.8-12.8 12.8-33.6 0-44.8-12.8-12.8-33.6-12.8-44.8 0L504 467.2 193.6 153.6c-12.8-12.8-32-12.8-44.8 0-12.8 12.8-12.8 32 0 44.8L459.2 512 148.8 824c-12.8 12.8-12.8 32 0 44.8 6.4 6.4 14.4 9.6 22.4 9.6 8 0 16-3.2 22.4-9.6l310.4-312 310.4 312c6.4 6.4 14.4 9.6 22.4 9.6 8 0 16-3.2 22.4-9.6 12.8-12.8 12.8-32 0-44.8L548.8 512z" /></svg>',t.setAttribute("style",`background-color:#fff;position:absolute;right:${o};top:${n};\n                color:#7b7b7b;border:1px solid #7b7b7b;cursor:pointer;\n                border-radius:50%;width:25px;height:25px;box-sizing:border-box;`),e.element.appendChild(t)}}catch(e){console.error(e)}}},8723:(e,t,i)=>{"use strict";i.d(t,{OC:()=>r,Ox:()=>b,QU:()=>f,af:()=>m,hL:()=>u,m$:()=>g,no:()=>p,zI:()=>c});var n=i(4155),o=i(887),s=i(8850);const r=(e,t,i,s=[])=>{let r=0,d=0;const l={contextualSizes:{},availableSpace:{}};r=(e=>{const t=e.contentWidth;if(void 0===t)return 300;const i=((0,o.n$)()-t)/2;return(0,o.a)()<600||i<120?0:i>=300?300:i>=160?160:i>=120?120:void 0})(i),l.contextualSizes.sideRailWidth=r,d=(0,o.a)(l),l.contextualSizes.viewPortHeight=d;let c=.5*d-300;c=c>l.contextualSizes.viewPortHeight?0:c,d-=c,l.contextualSizes.sideBarTop=c;const p=t.split("_")[0];return d-=a(p,l,s),l.availableSpace={width:r,height:d},n.ZP.info(`Available space for ${"object"!=typeof e?e:e.unit}`,l),{width:r,height:d}},a=(e,t,i)=>{let n=0;t.contextualSizes.cornerVideoHeight=0,t.contextualSizes.bottomRailHeight=0;for(const i in window.ramp.settings.slots){const n=window.ramp.settings.slots[i];if("corner_ad_video"===n.type&&n.playerPosition.includes("bottom")&&n.playerPosition.includes(e)){const e="corner_ad_video";if(document.getElementById(e)){const e=n.playerSize[1];t.contextualSizes.cornerVideoHeight+=e}}else if(n.videoType&&"Bolt Player"===n.videoType&&n.desktopLocation&&"corner"===n.desktopLocation&&n.location&&n.location.y&&"bottom"===n.location.y&&n.location.x&&n.location.x===e){const e="tyche_trendi_video_container";if(document.getElementById(e)&&n.size?.desktop){const e=n.size.desktop[1];t.contextualSizes.cornerVideoHeight+=e}}else if("bottom_rail"===n.type){const e=d(n.config?.sizes);t.contextualSizes.bottomRailHeight=e}}if(i.length>0)for(const e of i)if("bottom_rail"===e.type){const i=d(e.unit.sizes);t.contextualSizes.bottomRailHeight=i}return n=t.contextualSizes.cornerVideoHeight+t.contextualSizes.bottomRailHeight,n},d=e=>{let t=0;return e.forEach((([e,i])=>{i&&i>t&&(t=i)})),t},l=()=>{const e=window.ramp.settings,t=e.config.pageLayouts,i="mobile"===e.device?"mobile":"desktop";let n=!1;if(Array.isArray(t))for(let i=0;i<t.length;i++)e.atHome?"HP"===t[i].target&&(n=t[i]):null!==e.cp&&"CP"===t[i].target&&t[i].path===e.cp&&(n=t[i]),!1===n&&"ROS"===t[i].target&&(n=t[i]);return n&&n[i]?(e.pageLayout=n[i],n[i]):{}},c=e=>l().contentContainer||e.containerSelector||!1,p=e=>l().navigationContainer||e.stickyNavigationContainer||!1,m=e=>l().sidebarContainer||e.stickySidebarContainer||e.containerSelector||!1,g=e=>l().primaryWrapper||e.primaryWrapperSelector||!1,w=(e,t)=>{const i=e.clientWidth-parseInt(getComputedStyle(e).paddingLeft,10)-parseInt(getComputedStyle(e).paddingRight,10),n=(t||"")+(t?", ":"")+".pw-ad-scroll-container, .pw_report_ad_container, .pw-tag, .pw-corner-ad-video",o=Array.from(e.querySelectorAll("*"));let s=[];for(let t=0;t<o.length;t++){const r=o[t];if(n&&r.matches(n))continue;if(!r){console.error("An element does not exist.");continue}const a=getComputedStyle(r),d=r.offsetWidth,l=parseInt(a.marginLeft,10),c=parseInt(a.marginRight,10);let p=d+l+c+parseInt(a.paddingLeft,10)+parseInt(a.paddingRight,10);"flex"===getComputedStyle(e).display&&(p=d+l+c);const m=Math.round(100*p)/100;Math.abs(m-i)<=1&&s.push(r)}if("flex"===getComputedStyle(e).display){const t=h(e),i=s.concat(t);s=Array.from(new Set(i))}return s},u=(e,t)=>{const i=((e,t)=>{if(!(0,s.isV2Insertion)(t)&&t.elementSelector)return Array.from(e.querySelectorAll(t.elementSelector));const i=window.innerWidth/2,n=Array.from(e.querySelectorAll("p")).filter((e=>{const{left:t,right:n}=e.getBoundingClientRect();return t<i&&n>i}));if(n.length>0)return n;const o=w(e,t.excludedElements);return o?.length>0?o:void 0})(e,t)||[],n=((e,t)=>{const i=[],n=(t.excludedElements||"")+(t.excludedElements?", ":"")+".pw-ad-scroll-container, .pw_report_ad_container, .pw-tag, .pw-corner-ad-video";let o=[];if(!(0,s.isV2Insertion)(t)&&t.elementSelector)return e.forEach((e=>{n&&e.matches(n)||o.push(e)})),o;e.forEach((e=>{i.includes(e.parentElement)||i.push(e.parentElement)}));const r=[];return i.forEach((e=>{r.push(...Array.from(e.children))})),r.forEach((e=>{if(!n||!e.matches(n)){if("OL"===e.tagName||"UL"===e.tagName){if(n.match("li")?.index>0)return;o.push(...Array.from(e.querySelectorAll("li")))}o.push(e)}})),o=o.filter((e=>!o.some((t=>e!==t&&e.contains(t))))),o})(i,t);return!(0,s.isV2Insertion)(t)&&t.elementSelector||n.sort(((e,t)=>e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),n},h=e=>{const t=Array.from(e.children),i=(e=>{const t=window.getComputedStyle(e),i=e.clientWidth-(parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)),n=e.children;let o=0,s=0;for(let e=0;e<n.length;e++){const t=n[e],r=window.getComputedStyle(t),a=parseFloat(r.width)+parseFloat(r.marginLeft)+parseFloat(r.marginRight);if(!(Math.round(s+a)<=i))break;s+=a,o++}return o})(e);let n=0;const o=[];for(let e=0;e<t.length;e++)n===i&&(o.push(t[e]),n=0),n++;return o},f=(e,t)=>{const i=[];return t.forEach((t=>{const n=t.replace(/^([.#])(\d)/,"$1\\3$2 ");e.querySelectorAll(n).forEach((e=>i.push(e)))})),i},b=(e,t)=>{if(1===e.length)return e[0];const i=(e=>{const t=e.match(/\d+$/);return t?parseInt(t[0],10):0})(t);if(i>e.length){return e[e.length-1]}return 0===i?e[0]:e[i-1]}},8434:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(2743),o=i(8966),s=i(7538);const r=()=>{(0,o.P)("in_content");for(const e in window.ramp.settings.slots){const t=window.ramp.settings.slots[e];"in_content"===t.type&&(0,s.ZE)(t)}(0,n.J)()}},8850:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>w,handleLazyLoading:()=>g,isV2Insertion:()=>m,resizeObserver:()=>y});var n=i(2743),o=i(3774),s=i(4953),r=i(4951),a=i(6376),d=i(184),l=i(8723),c=i(8142),p=i(3279);const m=e=>"viewportHeight"===e.insertionType||"pixelValue"===e.insertionType,g=(e,t)=>{const i=new IntersectionObserver((n=>{if(n[0].isIntersecting){if(m(t.rules)){i.unobserve(e);const o=n[0].target.dataset.batchId;return void t.adRequestCallbacks[o]()}return 0===t.batch.length&&(t.batch=(0,s.Z)(t),(0,r.B6)(t).then((()=>{(0,a.ZP)(t)}))),void i.unobserve(e)}}),{root:null,rootMargin:"0px",threshold:0});i.observe(e)},w=(e,t=!1)=>{window.ramp.settings.roadblockActive?window.PageOS.BUS.on("roadblock:removed",(()=>{u(e,t)})):u(e,t)},u=(e,t)=>{const i=(0,o.g)(e);if(!i)return;n.Z.unit=e,n.Z.rules=i,t&&(n.Z.customProperties=t);const a=document.querySelector((0,l.zI)(i));if(a&&!(0,c._Q)(a)&&(n.Z.adsInPlace=new Set,n.Z.resizeObserver=y,y.observe(a),n.Z.containerElement=a,n.Z.rules.heightReport=n.Z.rules.adLabel?.enabled||n.Z.rules.reportAdLink?.enabled?20:0,n.Z.customProperties&&n.Z.customProperties.selector?n.Z.contentElements=(0,l.QU)(a,n.Z.customProperties.selector):n.Z.contentElements=(0,l.hL)(n.Z.containerElement,i),0!==n.Z.contentElements.length)){if(n.Z.relativePosition=i.placementRelativeToSelector?i.placementRelativeToSelector:"belowSelector",n.Z.contentWidth=n.Z.containerElement.getBoundingClientRect().width,t&&t.sizes?n.Z.filteredSizes=t.sizes:n.Z.filteredSizes=n.Z.contentWidth?(0,d.Z)(e,i,n.Z.contentWidth):i.sizes||e.sizes,n.Z.isVideoAllowed=!1,n.Z.filteredSizes&&n.Z.filteredSizes.length>0){let e;for(let t=0;t<n.Z.filteredSizes.length;t++)"video"===n.Z.filteredSizes[t][0]&&(e=t);null!=e&&(n.Z.isVideoAllowed=!0,n.Z.filteredSizes.splice(e,1))}n.Z.maxInsertionInstances=i.maxInsertionInstances||!1,n.Z.batch=(0,s.Z)(n.Z),0!==n.Z.filteredSizes.length&&(n.Z.rules.placementRelativeToSelector||(n.Z.rules.placementRelativeToSelector="belowSelector"),m(n.Z.rules)&&n.Z.rules.lazyLoad?(0,r.B6)(n.Z).then((()=>{b(n.Z)})):h(n.Z))}},h=e=>{window.PageOS.BUS.after("userScrollTriggered",(()=>{e.userHasScrolled=!0,(0,r.B6)(e).then((()=>{(0,a.ZP)(e)}))}))};let f;const b=e=>{if(f)return;f=!0;let t,i=performance.now();const n=()=>{clearTimeout(t),t=setTimeout((()=>{clearTimeout(t)}),500)};document.addEventListener("scroll",(()=>{e.userHasScrolled=!0,t?(clearTimeout(t),n()):(i=performance.now(),n());performance.now()-i<e.rules.scrollPpmLookback||(i=performance.now(),(void 0===e.rules.scrollPpmMax||e.scrollPpm<e.rules.scrollPpmMax)&&(0,a.ZP)(e))}));let o=window.scrollY,s=performance.now();const r=[],d=()=>{const t=performance.now(),i=window.scrollY,n=t-s;if(n>0){const t=(i-o)/n;r.push(t),r.length>20&&r.shift();const s=r.reduce(((e,t)=>e+t),0)/r.length;e.scrollPpm=s.toFixed(3)}o=i,s=t,requestAnimationFrame(d)};d()},y=new ResizeObserver(i.n(p)()((()=>{requestAnimationFrame((()=>{if(!n.Z.userHasScrolled)return;const e=n.Z.containerElement;e&&(n.Z.customProperties&&n.Z.customProperties.selector?n.Z.contentElements=(0,l.QU)(n.Z.containerElement,n.Z.customProperties.selector):n.Z.contentElements=(0,l.hL)(e,n.Z.rules),0!==n.Z.contentElements.length&&(0,a.ZP)(n.Z))}))}),500))},2743:(e,t,i)=>{"use strict";i.d(t,{J:()=>s,Z:()=>o});const n={},o=n,s=()=>{n.resizeObserver&&n.containerElement&&n.resizeObserver.unobserve(n.containerElement),Object.keys(n).forEach((e=>{delete n[e]}))}},4299:(e,t,i)=>{"use strict";i.d(t,{D:()=>n,Z:()=>o});const n=(e=!1)=>{const t=document.createElement("div");t.classList.add("pw-ad-container-logo"),t.style.height=e?"11px":"20px",t.style.width=e?"55px":"20px",t.style.position=e?"relative":"absolute",t.style.bottom=e?"unset":"0px",t.style.right=e?"unset":"0px";const i=document.createElement("a");i.setAttribute("href","//playwire.com?utm_source=pw_ad_container"),i.setAttribute("target","_blank");const n=document.createElement("img"),o=e?"https://cdn.intergi.com/tyche-assets/1-playwire-logo-primary-2021.png":"https://cdn.intergi.com/tyche-assets/pw_logo.svg";return n.setAttribute("src",o),n.style.height="100%",n.style.width="100%",n.style.position="absolute",n.style.top="0px",n.style.right="0px",e&&(t.style.display="inline-block",t.style.marginBottom="-2px",t.style.marginRight="0"),i.appendChild(n),t.appendChild(i),t},o=({height:e,showLoader:t,backgroundColor:i,isNew:o})=>{const s=document.createElement("div");if(s.classList.add("pw-ad-scroll-container"),s.classList.add("pw-clearfix"),s.dataset.pwInArticle="true",s.style.width="100%",s.style.margin="10px 0",s.style.backgroundColor=i,s.style.minHeight=`${e}px`,s.style.position="relative",t){const e=document.createElement("div");e.classList.add("pw-loading-spinner");const t=document.createElement("div");t.classList.add("pw-loading-spinner-gif"),e.appendChild(t),s.appendChild(e)}if(!o){const e=n(!1);s.appendChild(e)}return s}},4951:(e,t,i)=>{"use strict";i.d(t,{B6:()=>l,J8:()=>d,lE:()=>a});var n=i(4155),o=i(887),s=i(3662),r=i(9416);const a=(e,{unit:t,filteredSizes:i,contentWidth:n,isVideoAllowed:o})=>{if(!window.ramp.settings.headerBidding||!window.ramp.settings.headerBidding.order.includes("amazon"))return!1;"in_content"===e&&(i=i.filter((e=>600!==e[1])));const s={sizes:i,slotID:e,slotName:t.code};return o&&(0,r.J5)({data:s,bannerSizes:[[Math.floor(n),1e4]],minSizes:[300,168],maxSizes:[512,488]}),window.ramp.settings.amazonSlots.push(s),s},d=(e,{unit:t,filteredSizes:i,contentWidth:n,isVideoAllowed:a})=>{if(!window.ramp.settings.headerBidding)return!1;(0,s.Cw)(t.headerBids,window.ramp.settings),"in_content"===e&&(i=i.filter((e=>600!==e[1])));let d=(0,o.BT)({bids:t.headerBids.bids,order:window.ramp.settings.headerBidding.order,isInView:!1,unitSizes:i,isVideoAllowed:a});const l={code:e,bids:d,mediaTypes:{banner:{sizes:i}}};if(a)if(window.pwEdgeFlags&&window.pwEdgeFlags.multiFormatUnitSplit){d=(0,o.io)(d);const i={code:e,bids:d,mediaTypes:{}};(0,r.b$)({data:i,type:t.unit,bannerSizes:[[Math.floor(n),1e4]],minSizes:[300,168],maxSizes:[512,488]}),window[window.ramp.pbKey].addAdUnits([i]),l.bids=(0,o.d7)(l.bids)}else(0,r.b$)({data:l,type:t.unit,bannerSizes:[[Math.floor(n),1e4]],minSizes:[300,168],maxSizes:[512,488]});return window[window.ramp.pbKey].addAdUnits([l]),l},l=e=>{const t=e.batch||e.slot,i=Array.isArray(t)?t:[t];return new Promise((t=>{if(!window.ramp.settings.headerBidding)return void t();const s=window.ramp.settings.headerBidding.timeout||700,r=i.reduce(((e,t)=>(t.amazonSlot&&e.push(t.amazonSlot),e)),[]),a=i.reduce(((e,t)=>(t.prebidSlot&&e.push(t.prebidSlot.code),e)),[]);if(0===r.length&&0===a.length)return void t();let d=!1;if(r.length){const e=Date.now();window.PageOS.apstag.fetchBids(r,s).then((t=>{n.G4.info("Amazon Bids Back",{time:Date.now()-e,bids:t}),d=t}))}a.length?(i.forEach((e=>{e.prebidSlot.ortb2Imp=(0,o.Bq)(e.prebidSlot.code,e.rampSlot)})),window[window.ramp.pbKey].requestBids({adUnitCodes:a,timeout:s,labels:[window.ramp.settings.uuid],bidsBackHandler:()=>{e.amazonBids=d,e.prebidBids=a,t()}})):setTimeout((()=>{e.amazonBids=d,t()}),s)}))}},9727:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(8966),o=i(4951),s=i(8723);const r=(e,t)=>{const{unit:i,rules:n}=t,o=document.createElement("div");o.id=e,o.classList.add("pw-tag"),o.classList.add("pw-in-article_hidden");if(n.maxHeightEnabled&&o.classList.add("pw-in-article--size-logic"),!0===n.adContainer){o.classList.add("pw-sticky");const e=(0,s.no)(n);if(e){let t=0;document.querySelectorAll(e).forEach((e=>{t+=e.clientHeight})),o.setAttribute("style",`top: ${t}px !important`)}}return{adFetchCount:0,type:i.unit,element:o,firstView:!1,pos:i.unit,id:e,imps:0,inView:!1,viewability:0,refreshes:0,pbjsRefreshes:0,refreshBlocked:!1,on:!0,oop:!1,slot:null,status:0,config:i,rules:n,filteredSizes:t.filteredSizes,queued:!1,sticky:null,lazy:!!n.lazyLoad,pbjsBid:null,amazonBid:{hasBid:!1},lastRefresh:Date.now()}},a=e=>{const t=(0,n.Z)(e.unit.unit);return{amazonSlot:(0,o.lE)(t,e),prebidSlot:(0,o.J8)(t,e),rampSlot:r(t,e)}}},4953:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(9727),o=i(8850);const s=(e,t)=>{const{rules:i,isVideoAllowed:s,batch:r=[]}=e;if(0===e.filteredSizes.length)return r;if(s&&(!window.pwEdgeFlags||!window.pwEdgeFlags.multiFormatUnitSplit)){let t=!1;e.filteredSizes.forEach((e=>{7===e[0]&&7===e[1]&&(t=!0)})),t||e.filteredSizes.push([7,7])}const a=(t=>{let n;if(n=t?r.length+i.incrementBidsOnRender:i.fetchBidsOnLoad||i.batchLoadSize,(0,o.isV2Insertion)(i)&&e.maxInsertionInstances&&"in_content"===e.unit.unit){e.totalInsertedInstances=e.totalInsertedInstances||0;e.totalInsertedInstances+n>e.maxInsertionInstances&&(n=e.maxInsertionInstances-e.totalInsertedInstances),e.totalInsertedInstances+=n}return n})(t);for(;r.length<a;)r.push((0,n.Z)(e));return r}},184:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const n=(e,t,i)=>((window.ramp.settings.isMobile?t.mobileSizes:t.desktopSizes)||t.sizes||e.sizes).filter((e=>e[0]<=i||"video"===e[0]||"fluid"===e[0]))},6376:(e,t,i)=>{"use strict";i.d(t,{L0:()=>B,ZP:()=>M,dF:()=>I,DC:()=>N,Qw:()=>T,Xt:()=>F});var n=i(887),o=i(4299),s=i(2743),r=i(6810),a=i(4953),d=i(4951);const l=e=>{const t=window.ramp.settings.slots[e],i=t&&t.type;return"in_content"===i?s.Z:"sidebar"===i?r.sidebarUnitInfo:void 0},c=new IntersectionObserver((e=>{e.forEach((e=>{if(e.intersectionRatio>0||e.target.getBoundingClientRect().top<window.innerHeight){c.unobserve(e.target);const t=l(e.target.id);if(0===t.contentElements.length)return;t.contentWidth=t.containerElement.getBoundingClientRect().width,t.batch=(0,a.Z)(t),(0,d.B6)(t).then((()=>{M(t)}))}}))}),{rootMargin:"0px",threshold:0}),p=c;var m=i(8142),g=i(8723),w=i(3493);let u=!1,h=!1;const f=e=>{if(u||!e.rules.maxHeightEnabled)return;let t=0;window.addEventListener("scroll",(()=>{u=!0;const e=document.body.getBoundingClientRect().top,i=t-e;t=e;const n=document.getElementsByClassName("pw-in-article--size-logic");Array.from(n).forEach((e=>{const t=e.querySelector("[id^='google_ads_iframe_']");if(e.querySelector(".pw-custom-ima-container"))return t.style.position=null,void(t.style.top=null);if(e.clientHeight>0&&(0,m.T$)(e)>70){const t=e.querySelector("[id^='google_ads_iframe_'");if(!t)return;const n=t.querySelector("iframe[id^='google_ads_iframe_'");if(n&&(n.style.margin="0 auto"),void 0!==t&&t.clientHeight>B){t.style.position="relative";const e=B-t.clientHeight;let n=t.offsetTop-i;n=n>0?0:n,n=n<e?e:n,t.style.top=`${n}px`}}}))}))},b=i.n(w)()((()=>{if(!1===h)return;const e=s.Z.containerElement;if(!e)return;if(s.Z.customProperties&&s.Z.customProperties.selector?s.Z.contentElements=(0,g.QU)(s.Z.containerElement,s.Z.customProperties.selector):s.Z.contentElements=(0,g.hL)(e,s.Z.rules),0===s.Z.contentElements.length)return;const t=s.Z.contentElements.length,i=s.Z.lastPlacementMarker;s.Z.contentElements.forEach(((e,n)=>{e===i&&t>n+s.Z.rules.batchLoadSize&&(window.removeEventListener("scroll",b),h=!1,M(s.Z))}))}),500);var y=i(4155),_=i(6191),v=i(9416),S=i(3914),P=i(8850),C=i(3193),k=i(3558);const x="topAndBottom",E="bgColor",A="transparent",z=[[768,432],[640,360],[512,288],[384,216],[320,180]],B=500,I=e=>{let t="#F5F5F5";const i=e.background?.styling||x;return(e.background?.enabled||i===E)&&e.background.color?t=e.background.color:!1!==e.background?.enabled&&i!==A&&i!==x||(t="transparent"),t},T=e=>{if(e.insertedDistance){if(e.insertedDistance.includes("px"))return parseFloat(e.insertedDistance,10);if(e.insertedDistance.includes("vh"))return window.innerHeight*(parseFloat(e.insertedDistance,10)/100)}const t=window.ramp.settings.isMobile?e.mobileMinimumSpacing:e.desktopMinimumSpacing;return void 0!==t?t:e.minimumSpacing},O=(e,t,i,n)=>{if(!(0,P.isV2Insertion)(e.rules))return t===i+T(e.rules)+n;const o=T(e.rules),s=e.lastPlacementMarker.getBoundingClientRect().bottom;return e.contentElements[t].getBoundingClientRect().top>s+o},L=(e,t)=>{const i=window.ramp.settings.slots?.corner_ad_video,n=((e,t)=>{if("in_content"===e.unit.unit){const i=H(e);return e.contentElements[t].getBoundingClientRect()[i]}return e.contentElements[t].getBoundingClientRect().top})(e,t);return new Promise((o=>{i?.rules?.inline&&"in_content"===e?.unit?.unit?e?.rules?.elementSelector?D(i,n,o,e):V(e,i,n,o,t):o(Z(e,n,t))}))},D=(e,t,i,n)=>{e.rules.elementSelector?i(Z(n,t)):(window.PageOS.BUS.on("firstCornerVideoPlacedHeight",(()=>{window.firstCornerVideoPlaced=!0})),window.firstCornerVideoPlaced&&i(t>window.thresholdHeight))},V=(e,t,i,n,o)=>{const s=Z(e,i);if(t.rules.elementSelector){const e=document.querySelector((0,g.zI)(t.rules));if(!(e?e.querySelector(t.rules.elementSelector):document.querySelector(t.rules.elementSelector)))return console.warn("Element specified by elementSelector not found."),void n(!0);s?(window.firstIncontentPlaced||(window.PageOS.BUS.emit("firstIncontentPlacedHeight",i),window.firstIncontentPlaced=!0),n(!0)):n(!1)}else!0===e.rules.adsAtf&&"aboveTheFold"!==t.insertionType?R(e,o,s,n):$(e,o,n)},R=(e,t,i,n)=>{if(window.PageOS.BUS.on("firstCornerVideoPlacedIdx",(t=>{window.firstCornerVideoPlaced=!0,window.thresholdIdx=t,e.lastPlacementIdx=t,e.lastPlacementMarker=e.contentElements[t]}),!1),window.firstCornerVideoPlaced){n(t>=(0,C.nextElementInlineIdx)(e.contentElements,e.rules,window.thresholdIdx))}else i&&window.PageOS.BUS.emit("firstIncontentPlacedIdx",t),n(i)},$=(e,t,i)=>{if(window.PageOS.BUS.on("firstCornerVideoPlacedIdx",(t=>{window.firstCornerVideoPlaced=!0,window.thresholdIdx=t,e.lastPlacementIdx=t,e.lastPlacementMarker=e.contentElements[t]}),!1),window.firstCornerVideoPlaced){i(t>=(0,C.nextElementInlineIdx)(e.contentElements,e.rules,window.thresholdIdx))}else i(!1)},Z=(e,t,i)=>{let n=!1;t<0&&(n=!1),!0!==e.rules.adsAtf&&(n=t>window.innerHeight);const o="string"==typeof e.rules.firstAdDistance;return o&&e.rules.firstAdDistance.includes("px")&&(n=t>parseFloat(e.rules.firstAdDistance,10)),o&&e.rules.firstAdDistance.includes("vh")&&(n=t>window.innerHeight*(parseFloat(e.rules.firstAdDistance,10)/100)),"number"==typeof e.rules.firstAdDistance&&(n=t>e.rules.firstAdDistance),!1===n&&((e,t)=>{if(!0!==t.rules.ignoreCLS)return;const i=new IntersectionObserver((n=>{n[0].isIntersecting&&(i.unobserve(e),t.placements=[],t.placements.push(e),t.batch=(0,a.Z)(t,!0),(0,d.B6)(t).then((()=>{U(t)})))}),{root:null,rootMargin:"0px",threshold:0});i.observe(e)})(e.contentElements[i],e),n},M=async e=>{if(void 0!==e.rules.scrollPpmMax&&e.scrollPpm>e.rules.scrollPpmMax)return;if(0===e.batch.length&&e.maxInsertionInstances&&e.totalInsertedInstances&&e.maxInsertionInstances===e.totalInsertedInstances)return;e.placements=[];let t=e.lastPlacementIdx||0,i=0;const{rules:n}=e;for(let o=t;o<e.contentElements.length;o++){if(e.rules.lazyLoad&&e.lastPlacementMarker){const t=e.contentElements[o].getBoundingClientRect(),s=t.top,r=t.bottom,a=e.lastPlacementMarker.getBoundingClientRect().bottom;if(n.insertedDistance&&e.lastAd){const t=e.lastAd.getBoundingClientRect().bottom,s=T(n);if(t+s>window.innerHeight)break;if(r<window.innerHeight||r<t+s){o===e.contentElements.length-1&&(e.customProperties&&e.customProperties.selector?e.contentElements=(0,g.QU)(e.containerElement,e.customProperties.selector):e.contentElements=(0,g.hL)(e.containerElement,n)),i++;continue}i=0,e.lastPlacementIdx=o,e.lastPlacementMarker=e.contentElements[o],e.placements.push(e.contentElements[o]);break}if(e.contentElements[o]!==e.lastPlacementMarker&&s<a){i++;continue}}if(o>0&&e.contentElements[o].getBoundingClientRect().top<e.contentElements[o-1].getBoundingClientRect().bottom)i++;else{if(e.lastPlacementMarker)O(e,o,t,i)&&(i=0,t=o,e.lastPlacementIdx=t,e.lastPlacementMarker=e.contentElements[o],e.placements.push(e.contentElements[o]));else if(!e.lastPlacementMarker&&await L(e,o)&&(t=o,e.lastPlacementIdx=t,e.lastPlacementMarker=e.contentElements[o],e.placements.push(e.contentElements[o]),n.lazyLoad&&"in_content"!==e.unit.unit))break;if(e.placements.length===e.batch.length&&(e.lastPlacementIdx=o,(0,P.isV2Insertion)(n)&&(e.lastPlacementIdx=o+1,e.lastPlacementMarker=e.contentElements[o+1]),!n.lazyLoad||n.lazyLoad&&"in_content"===e.unit.unit))break;if(e.placements.length===e.batch.length+1&&n.lazyLoad&&"in_content"===e.unit.unit){e.specialMarker=e.contentElements[o];break}}}U(e)},U=e=>{const{rules:t,filteredSizes:i}=e,n=Array.isArray(e.placements)?e.placements:[e.placements];if(0===n.length)return;if(!t.adContainer)return void j(e,n);const s=[];n.forEach(((r,a)=>{if(a>=n.length)return;let d;if(t.adContainer){const e=I(t),n=void 0!==t.pwBranding;d=(0,o.Z)({height:N(t,i),showLoader:t.showLoader,backgroundColor:e,isNew:n})}else d=document.createElement("div"),d.classList.add("pw-in-article--size-logic__container");s.push(d);const l=F(e);r.insertAdjacentElement(l,d)})),j(e,s)},F=e=>{let t="beforebegin";if("in_content"!==e.unit.unit&&"corner_ad_video"!==e.unit.unit)return t;switch(e.relativePosition){case"belowSelector":t="afterend";break;case"aboveSelector":t="beforebegin";break;default:t="afterbegin"}return t},H=e=>{let t="";if("belowSelector"===e.relativePosition)t="bottom";else t="top";return t},N=(e,t)=>{let i=0;const n=e.maxHeightEnabled;n?i=B:(t.forEach((([e,t])=>{t&&t>i&&(i=t)})),e.padding&&(i+=e.padding));const o=e.heightReport??0;return i+=n?0:o},j=(e,t)=>{const i=e.rules,o=[];let s=i.adContainer||i.maxHeightEnabled?"beforeend":"afterend";"sidebar"!==e.unit.unit||i.adContainer||i.maxHeightEnabled||(s="beforebegin");for(let r=0;r<t.length;r++){const d=t[r];if(void 0!==e.adsInPlace){if(e.adsInPlace.has(d))continue;e.adsInPlace.add(d)}const l=q(e.batch),c=W(l.rampSlot.id,e);o.push(c),l.rampSlot.slot=c;const m=l.rampSlot;if((0,S.K)(m),e.amazonBids&&(0,n.tP)(e.amazonBids),e.prebidBids&&window[window.ramp.pbKey].setTargetingForGPTAsync(e.prebidBids),window.ramp.settings.slots[l.rampSlot.id]=l.rampSlot,i.adContainer&&(window.ramp.settings.slots[l.rampSlot.id].adContainerElement=d),e.rules.adContainer?d.insertAdjacentElement(s,l.rampSlot.element):d.insertAdjacentElement(F(e),l.rampSlot.element),0===e.batch.length&&(e.lastAd=d),(0,P.isV2Insertion)(i)&&i.lazyLoad&&e.lastAd)return e.batch=(0,a.Z)(e,!0),d.dataset.batchId=l.rampSlot.id,e.adRequestCallbacks=e.adRequestCallbacks||{},e.adRequestCallbacks[l.rampSlot.id]=()=>{i.maxHeightEnabled&&f(e)},(0,P.handleLazyLoading)(d,e),void(e.lastAd=d);if(0===e.batch.length){if(!i.lazyLoad){p.observe(l.rampSlot.element);break}if(i.lazyLoad&&"in_content"===e.unit.unit){const t=e.specialMarker||d;return t.dataset.batchId=l.rampSlot.id,(0,P.handleLazyLoading)(t,e),void(e.specialMarker=null)}}}i.lazyLoad||((0,_.Z)(o),i.maxHeightEnabled&&f(e)),e.batch.length>0&&!i.scrollPpmMax&&(y.G4.info(`${e.batch.length} bids not placed`),"in_content"===e.unit.unit&&(h||(h=!0,window.addEventListener("scroll",b))));const r=window.ramp.settings;if(i.lazyLoad&&!r.slotReadyTime){(new k.Z).startSpying(),r.slotReadyTime=new Date}},q=e=>e.shift(),W=(e,t)=>{const{unit:i,filteredSizes:o,isVideoAllowed:s,customProperties:r}=t,a=(s&&"in_content"===i.unit?((e,t)=>{const i=[...e],n=(0,v.C7)({data:{},bannerSizes:[[Math.floor(t),1e4]],minSizes:[300,168],maxSizes:[512,488]}),[o,s]=n||[0,0];for(let e=0;e<z.length;e++){const[t,n]=z[e];if(t<=o&&n<=s){i.push(z[e]);break}}return i})(o,t.contentWidth):o).filter((t=>"in_content"!==e||600!==t[1]));let d=i.code;if(r){let t="";r.unitCode&&(d=(0,g.Ox)(r.unitCode,e),t+=` Custom unitCode: ${d} | `),r.sizes&&(t+=" Custom sizes (filtered): ",a.forEach((e=>{t+=`[${e}]`}))),r.selector&&(t+=` Custom selector: ${r.selector} | `),y.a2.info(`Defining customized GAM slot ${e} | ${t}`)}const l=window.googletag.defineSlot(d,a,e);l.setTargeting("pos",i.unit),l.setTargeting("slot_id",e),l.setTargeting("refresh","false"),l.setTargeting("amazonBid","false");const c=i.path??i.section;return l.setTargeting("custom_path",c.replace(/CP\[|\]/g,"")),l.setTargeting("lld_id",(0,n.Cm)()),l.addService(window.googletag.pubads()),l}},3774:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a,g:()=>r});var n=i(6657),o=i(8723),s=i(8850);const r=e=>{const t=(0,n.N)(window.ramp.settings,e,"any");if(!t)return!1;if(0===((window.ramp.settings.isMobile?t.mobileSizes:t.desktopSizes)||t.sizes||e.sizes||[]).length)return!1;if("sticky_sidebar"===e.unit)return!(!(0,o.af)(t)||!t.stickySidebarContentEnd)&&t;const i=(window.ramp.settings.isMobile?t.mobileMinimumSpacing:t.desktopMinimumSpacing)||t.minimumSpacing;return!!((0,s.isV2Insertion)(t)||void 0!==t.batchLoadSize&&void 0!==i)&&(!(!(0,o.zI)(t)||"undefined"===t.insertionType&&!t.elementSelector)&&t)},a=e=>[...window.ramp.settings.units.sec,...window.ramp.settings.units.ros].find((t=>t.unit===e))},1967:(e,t,i)=>{"use strict";i.d(t,{Kf:()=>s,ZP:()=>d,zX:()=>r});var n=i(3774),o=i(8434);const s=(e=!1)=>{const t=(0,n.Z)("corner_ad_video");t&&Promise.resolve().then(i.bind(i,3193)).then((i=>{i.default(t,e)}))},r=(e=!1)=>{const t=(0,n.Z)("precontent_ad_video");t&&i.e(451).then(i.bind(i,1987)).then((i=>{i.default(t,e)}))},a=()=>{const e=(0,n.Z)("rewarded_ad_video");e&&(debug.info("Loading Google rewarded module"),i.e(427).then(i.bind(i,1896)).then((({default:t})=>{e.readyToInit&&e.init()})))},d=(e,t=!1)=>{if("in_content"===e){(0,o.Z)();const e=(0,n.Z)("in_content");e&&Promise.resolve().then(i.bind(i,8850)).then((i=>{i.default(e,t)}))}else if("sidebar"===e){const e=(0,n.Z)("sidebar");e&&Promise.resolve().then(i.bind(i,6810)).then((i=>{i.default(e,t)}))}else if("sticky_sidebar"===e){const e=(0,n.Z)("sticky_sidebar");e&&Promise.resolve().then(i.bind(i,5090)).then((i=>{i.default(e,t)}))}else"corner_ad_video"===e?s(t):"precontent_ad_video"===e?r(t):"rewarded_ad_video"===e&&a()}},8966:(e,t,i)=>{"use strict";i.d(t,{P:()=>s,Z:()=>o});const n={};const o=e=>(n[e]||(n[e]=function*(e){let t="";const i=(e=>"sidebar"===e||"sticky_sidebar"===e)(e)?"pw_":"";for(yield`${i}${e}${t}`,t=2;;)yield`${i}${e}${t}`,t++}(e)),n[e].next().value),s=e=>{delete n[e]}},6810:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>w,destroySidebar:()=>f,sidebarUnitInfo:()=>g});var n=i(3774),o=i(4953),s=i(4951),r=i(6376),a=i(8966),d=i(7538),l=i(184),c=i(8723),p=i(8142);const m={},g=m,w=(e,t=!1)=>{window.ramp.settings.roadblockActive?window.PageOS.BUS.on("roadblock:removed",(()=>{u(e,t)})):u(e,t)},u=(e,t)=>{if(window.ramp.settings.isMobile)return;const i=(0,n.g)(e);if(!i)return;m.unit=e,m.rules=i,t&&(m.customProperties=t);const s=document.querySelector((0,c.af)(i));if(s&&!(0,p._Q)(s)&&(m.containerElement=s,m.contentElements=m.containerElement.querySelectorAll(i.elementSelector),0!==m.contentElements.length)){if(m.rules.heightReport=m.rules.adLabel?.enabled||m.rules.reportAdLink?.enabled?20:0,m.contentWidth=h(m.containerElement),t&&t.sizes?m.filteredSizes=t.sizes:m.filteredSizes=m.contentWidth?(0,l.Z)(e,i,m.contentWidth):i.sizes||e.sizes,m.isVideoAllowed=!1,m.filteredSizes&&m.filteredSizes.length>0){let e;for(let t=0;t<m.filteredSizes.length;t++)"video"===m.filteredSizes[t][0]&&(e=t);null!=e&&(m.isVideoAllowed=!0,m.filteredSizes.splice(e,1))}m.batch=(0,o.Z)(m),0!==m.filteredSizes.length&&y(m)}},h=e=>{const t=getComputedStyle(e),i=parseFloat(t.paddingLeft),n=parseFloat(t.paddingRight);return e.clientWidth-i-n},f=()=>{(0,a.P)("sidebar");for(const e in window.ramp.settings.slots){const t=window.ramp.settings.slots[e];"sidebar"===t.type&&(0,d.ZE)(t)}b()},b=()=>{Object.keys(m).forEach((e=>{delete m[e]}))},y=e=>{window.PageOS.BUS.after("userScrollTriggered",(()=>{(0,s.B6)(e).then((()=>{(0,r.ZP)(e)}))}))}},5090:(e,t,i)=>{"use strict";i.r(t),i.d(t,{createGamSlot:()=>I,default:()=>y,destroyStickySidebar:()=>S,setSideBarHeight:()=>$});var n=i(887);const o={},s=o;var r=i(3774),a=i(4951),d=i(9727),l=i(4299),c=i(8966),p=i(7538),m=i(4155),g=i(6191),w=i(1967),u=i(8723);const h=e=>{const t="data-observed",i=document.getElementById(e.wrapperContainer.id),n=getComputedStyle(i).height,o=parseFloat(n.replace("px",""));if(window.ramp?.utils?.cache?.stickySidebarWrapperHeights.push(o),!i.getAttribute(t)){const n=new IntersectionObserver((t=>{t.forEach((t=>{!t.isIntersecting&&t.intersectionRect.y<200&&((e=>{const t=window.ramp?.utils?.cache?.stickySidebarWrapperHeights||[],i=t.reduce(((e,t)=>e+t),0),n=t.length>0?i/t.length:0,o=(0,u.af)(e.rules),s=o?document.querySelector(o):null;if(!s)return void m.ZP.error("pw_sticky_sidebar parent sidebar container not found.");const r=getComputedStyle(s).height,a=parseFloat(r);let d="px";const l=r.match(/[a-z]+/i);let c;switch(l&&l.length>0&&(d=l[0]),d){case"px":c=a;break;case"em":c=16*a;break;case"%":c=a/100*window.innerHeight;break;default:m.ZP.error("Unit for the sidebar container height not supported:",d),c=a}const p=window.ramp?.utils?.cache?.existingSidebarHeights;c>=i+n+((p&&p.length>0?p[0]:0)||0)&&(0,w.ZP)("sticky_sidebar")})(e),n.disconnect())}))}),{root:null,threshold:[.8,.9]});n.observe(i),i.setAttribute(t,"true")}};var f=i(8142),b=i(3914);const y=(e,t=!1)=>{window.ramp.settings.roadblockActive?window.PageOS.BUS.on("roadblock:removed",(()=>{_(e,t)})):_(e,t)},_=(e,t)=>{if(window.ramp.settings.isMobile)return;const i=(0,r.g)(e);if(!i)return;s.unit=e,s.rules=i,t&&(s.customProperties=t),s.rules.heightReport=s.rules.adLabel?.enabled||s.rules.reportAdLink?.enabled?20:0;const n=document.querySelector((0,u.af)(i));if(n&&(0,f._Q)(n))return;s.containerElement=n;const o=(0,u.no)(i);o&&(s.navigationElement=document.querySelectorAll(o)),s.placement=document.querySelector(i.stickySidebarContentEnd),window.ramp.utils=window.ramp.utils||{},window.ramp.utils.cache=window.ramp.utils.cache||{},window.ramp.utils.cache.stickySidebarWrapperHeights=window.ramp.utils.cache.stickySidebarWrapperHeights||[],window.ramp.utils.cache.existingSidebarHeights=window.ramp.utils.cache.existingSidebarHeights||[];const a=n?H(n):0;if(window.ramp.utils.cache.existingSidebarHeights.push(a),window.ramp.settings.slots.pw_sticky_sidebar){const e=document.querySelectorAll("[id^=sticky_wrapper_container]").length;s.placement=document.getElementById(`sticky_wrapper_container${e}`)}if(!s.placement)return;const d=document.querySelector((0,u.m$)(s.rules));if(d){const e=R(s);s.primaryWrapperHeight=e,$(e),V(d,e,s)}if(s.availableSpace=T(),s.isVideoAllowed=!1,s.unit.sizes&&s.unit.sizes.length>0){let e;for(let t=0;t<s.unit.sizes.length;t++)"video"===s.unit.sizes[t][0]&&(e=t);null!=e&&(s.isVideoAllowed=!0,s.unit.sizes.splice(e,1))}s.contentWidth=s.availableSpace.width,t&&t.sizes?s.filteredSizes=t.sizes:s.filteredSizes=O(),window.PageOS.BUS.on("sticky_video_closed",(()=>{v(s)}),!1),window.PageOS.BUS.on("bottom_rail_closed",(()=>{v(s)}),!1),0!==s.filteredSizes.length&&P(s)},v=e=>{e.availableSpace=T(),e.contentWidth=e.availableSpace.width;const t=e.filteredSizes.length;if(e.filteredSizes=O(),0!==e.filteredSizes.length)if(0===t)P(e);else if(e.filteredSizes.length>t)for(const t in window.ramp.settings.slots){const i=window.ramp.settings.slots[t];"sticky_sidebar"===i.type&&(i.recalculateStickySidebar=!0,i.filteredSizes=e.filteredSizes)}},S=()=>{window.ramp.utils=window.ramp.utils||{},window.ramp.utils.cache={},(0,c.P)("sticky_sidebar");for(const e in window.ramp.settings.slots){const t=window.ramp.settings.slots[e];"sticky_sidebar"===t.type&&(0,p.ZE)(t)}Object.keys(o).forEach((e=>{delete o[e]}))},P=e=>{if(D())C(e);else{const t=()=>{L()&&(window.removeEventListener("scroll",t),C(e))};window.addEventListener("scroll",t)}},C=e=>{if(e.availableSpace=T(),e.filteredSizes=O(),0===e.filteredSizes.length)return;e.slot=(0,d.Z)(e),x(e),(0,a.B6)(e).then((()=>{k(e)}));!!e.rules.recreateAd&&e.rules.recreateAd&&(e=>new Promise(((t,i)=>{let n=2;void 0!==e.rules.recreateAdTime&&(n=e.rules.recreateAdTime);const o=document.getElementById(e.wrapperContainer.id);o||(i(),m.ZP.error("waitForTimerPromise: promise rejected, element to observe not found"));const s=new IntersectionObserver((e=>{const t=window.innerHeight;e.forEach((e=>{const i=o.offsetHeight;if(e.boundingClientRect.y<0&&e.intersectionRatio<.4){const e=i,n=Math.min(.25*t,700);$(e+n),m.ZP.info("sticky wrapper container height updated to:",e)}}))}),{root:null,threshold:[.1,.2,.3,.4,.5]});if(s.observe(o),n<=0){const e=setInterval((()=>{clearInterval(e),s.disconnect(),t()}),1001)}const r=setInterval((()=>{n--,n<=0&&(clearInterval(r),s.disconnect(),t())}),1e3)})))(e).then((()=>{h(e)})).catch((()=>{m.ZP.error("waitForTimerPromise: promise rejected")}))},k=e=>{const t=I(e.slot.rampSlot.id,e);e.slot.rampSlot.slot=t;const i=e.slot.rampSlot.id;window.ramp.settings.slots[i]=e.slot.rampSlot;const o=e.slot.rampSlot;(0,b.K)(o),e.amazonBids&&(0,n.tP)(e.amazonBids),e.prebidBids&&window[window.ramp.pbKey].setTargetingForGPTAsync(e.prebidBids),(0,g.Z)([t])},x=e=>{const t=!!e.rules.recreateAd&&e.rules.recreateAd,i=E();let n;const o=A(i,e);t&&(n=z(i,e),n.appendChild(o));const s=e.slot.rampSlot.element;o.appendChild(s),e.slot.rampSlot.adContainerElement=o,n&&(e.slot.rampSlot.adContainerElement=n);const{pwBranding:r}=e.rules;if(!1!==r){const t=(0,l.D)();e.slot.rampSlot.pwLogoElement=t,t.style.display="none",t.style.bottom="-15px",t.style.right="0",t.style.margin="0",o.appendChild(t)}return B(e.placement,t?n:o),s},E=()=>{let e=1;return window.ramp.settings.slots.pw_sticky_sidebar&&(e=document.querySelectorAll("[id^=sticky_wrapper_container]").length+1),e},A=(e,t)=>{const i=document.createElement("div");i.id=`sticky_sidebar_container${e}`,i.classList.add("pw-sticky");if(t.navigationElement){const e=M();i.setAttribute("style",`top: ${e}px !important`)}return i},z=(e,t)=>{const i=t.rules.recreateAdHeight?t.rules.recreateAdHeight/100:1,n=document.createElement("div");return n.id=`sticky_wrapper_container${e}`,n.setAttribute("style",`height: ${window.innerHeight*i}px !important`),t.wrapperContainer=n,n},B=(e,t)=>{e.insertAdjacentElement("afterend",t)},I=(e,{unit:t,filteredSizes:i,customProperties:o})=>{let s=t.code;if(o){let t="";o.unitCode&&(s=(0,u.Ox)(o.unitCode,e),t+=` Custom unitCode: ${s} | `),o.sizes&&(t+=" Custom sizes (filtered): ",i.forEach((e=>{t+=`[${e}]`}))),m.a2.info(`Defining customized GAM slot ${e} | ${t}`)}const r=window.googletag.defineSlot(s,i,e);r.setTargeting("pos","sticky_sidebar"),r.setTargeting("slot_id",e),r.setTargeting("refresh","false"),r.setTargeting("amazonBid","false");const a=t.path??t.section;return r.setTargeting("custom_path",a.replace(/CP\[|\]/g,"")),r.setTargeting("lld_id",(0,n.Cm)()),r.addService(window.googletag.pubads()),r},T=()=>{s.sizeInfo={emptyArea:{sideBar:{},contextual:{}},contextualSizes:{},availableSpace:{}};const e=s.containerElement.getBoundingClientRect(),t=s.placement.getBoundingClientRect(),i=s.containerElement,n=window.getComputedStyle(i),o=s.placement,r=window.getComputedStyle(o);let a=0,d=0;return d=Math.round(e.bottom-t.bottom-parseFloat(n.paddingBottom)-parseFloat(r.paddingBottom)),a=i.clientWidth-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight),s.sizeInfo.emptyArea.sideBar.width=a,s.sizeInfo.emptyArea.sideBar.height=d,d=Z(),d-=M(),d-=U(),s.sizeInfo.emptyArea.contextual.height=d,d=Math.min(s.sizeInfo.emptyArea.sideBar.height,s.sizeInfo.emptyArea.contextual.height),s.sizeInfo.availableSpace={width:a,height:d},m.ZP.info("Sticky Sidebar available space",s.sizeInfo),{width:a,height:d}},O=()=>{const e=(s.rules.sizes||s.unit.sizes).filter((e=>e[0]<=s.availableSpace.width&&e[1]<s.availableSpace.height||"fluid"===e[0]));return m.ZP.info("Sticky Sidebar available sizes",e),e},L=()=>{const e=s.placement.getBoundingClientRect();return window.innerHeight-e.bottom>-500},D=()=>{const e=s.placement.getBoundingClientRect();return window.innerHeight-e.bottom>50},V=(e,t,i)=>{const n=((e,t)=>{let i=null;return(...n)=>{window.clearTimeout(i),i=window.setTimeout((()=>{e.apply(null,n)}),t)}})((()=>{var n,o;n=e,o=e=>{const n=i.containerElement?.getBoundingClientRect().height;isNaN(e)||e===t&&n>=e||(t=e,$(e))},new ResizeObserver((e=>{for(const t of e){const e=getComputedStyle(n),t=parseFloat(e.paddingTop),i=parseFloat(e.paddingBottom),s=parseFloat(e.borderTopWidth),r=parseFloat(e.borderBottomWidth),a=n.clientHeight-t-i-s-r;o(a)}})).observe(n)}),400);window.removeEventListener("scroll",n),window.addEventListener("scroll",n)},R=e=>{let t=null;const i=document.querySelector((0,u.m$)(e.rules)),n=window.getComputedStyle(i);return t=i.clientHeight-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderTopWidth)-parseFloat(n.borderBottomWidth),t},$=e=>{const t=e,i=s.containerElement;window.getComputedStyle(i);t&&i.setAttribute("style",`height: ${t}px !important`)},Z=()=>{const e=Math.max(document.documentElement.clientHeight,window.innerHeight||0);return s.sizeInfo.contextualSizes.viewPortHeight=e,e},M=()=>{let e=0;return s.navigationElement?(s.navigationElement.forEach((t=>{e+=t.clientHeight})),s.sizeInfo.contextualSizes.navBarHeight=e,e):e},U=()=>{let e=0;s.sizeInfo.contextualSizes.cornerVideoHeight=0,s.sizeInfo.contextualSizes.bottomRailHeight=0;for(const e in window.ramp.settings.slots){const t=window.ramp.settings.slots[e];if("corner_ad_video"===t.type&&t.playerPosition.includes("bottom")){const e="corner_ad_video";if(document.getElementById(e)){const e=t.playerSize[1];s.sizeInfo.contextualSizes.cornerVideoHeight+=e}}else if("trendi"===t.content&&t.desktopLocation&&"corner"===t.desktopLocation&&t.location&&t.location.y&&"bottom"===t.location.y){const e="tyche_trendi_video_container";if(document.getElementById(e)&&t.size?.desktop){const e=t.size.desktop[1];s.sizeInfo.contextualSizes.cornerVideoHeight+=e}}else if("bottom_rail"===t.type){const e=F(t.config?.sizes);s.sizeInfo.contextualSizes.bottomRailHeight=e}}return e=Math.max(s.sizeInfo.contextualSizes.cornerVideoHeight,s.sizeInfo.contextualSizes.bottomRailHeight),e},F=e=>{let t=0;return e.forEach((([,e])=>{e&&e>t&&(t=e)})),t},H=e=>Array.from(e.children).reduce(((e,t)=>e+t.clientHeight),0)},9416:(e,t,i)=>{"use strict";i.d(t,{C7:()=>c,J5:()=>l,Jw:()=>s,NH:()=>r,Pm:()=>a,b$:()=>d,gg:()=>m,k_:()=>p});var n=i(8355);let o=!1;function s(){r()||(0,n.Z)({src:"//imasdk.googleapis.com/js/sdkloader/ima3.js",async:!0,defer:!1,onload:()=>{o=!0}})}function r(){return window.google&&window.google.ima}function a(e){return new Promise((t=>{const i=new XMLHttpRequest,n=`//aax.amazon-adsystem.com/e/dtb/vast?b=${e.amzniid}&rnd=${Date.now()}&pp=${e.amznbid}`;i.open("GET",n,!0),i.onload=()=>{4===i.readyState&&200===i.status&&t(i.responseText)},i.onerror=()=>{t(null)},i.send()}))}function d(e){const t=c(e);if(!t)return;const{placement:i,plcmt:n}="in_content"===e.type?{placement:3,plcmt:4}:{placement:2,plcmt:4};const o=window.ramp.settings.isMobile?[2,3,5,6,7,8]:[2,3,5,6,7,8,13,14],s=window.ramp.settings.isMobile?[2]:[1,2];e.data.mediaTypes.video={context:"outstream",playerSize:t,mimes:["video/mp4","video/webm","video/ogg","application/x-mpegURL","application/javascript"],protocols:o,playbackmethod:[2],skip:1,linearity:1,api:s,plcmt:n,placement:i,minduration:5,maxduration:30,renderer:{url:m(),render:p,backupOnly:!1},skipmin:0,skipafter:0,skip:1,minbitrate:250,maxbitrate:4e3};const r=window.ramp._loggers&&window.ramp._loggers.find((e=>"DISPLAY_VIDEO"===e.name))?.logger;r&&r.debug(`[${e.data.code}] Added video config (Prebid.js)`),window.location.hash.toLowerCase().includes("videobiddersoverride")&&(e.data.bids.forEach((e=>{"appnexus"===e.bidder&&(e.params.placementId=13232385)})),r&&r.debug(`[${e.data.code}] Override AppNexus bidder PlacementID`))}function l(e){if(!(e&&e.data&&e.data.sizes&&Array.isArray(e.data.sizes)))return;e.data.sizes=e.data.sizes.filter((e=>7!==e[0]&&7!==e[1]));const t=c(e);if(!t)return;e.data.mediaType="multi-format",e.data.multiFormatProperties={display:{sizes:e.data.sizes},video:{sizes:[t]}},delete e.data.sizes;const i=window.ramp._loggers&&window.ramp._loggers.find((e=>"DISPLAY_VIDEO"===e.name))?.logger;i&&i.debug(`[${e.data.slotID}] Added video config (Amazon)`)}function c(e){if(!e||!e.data)return;let t=g(e.bannerSizes);return!t||e.minSizes&&(t[0]<e.minSizes[0]||t[1]<e.minSizes[1])?void 0:(e.maxSizes&&(t[0]>e.maxSizes[0]||t[1]>e.maxSizes[1])&&(t=g([e.maxSizes])),t)}function p(e){const t=window.ramp._loggers&&window.ramp._loggers.find((e=>"DISPLAY_VIDEO"===e.name))?.logger;if(e&&window.pwImaPlayerInitialization&&"function"==typeof window.pwImaPlayerInitialization){const i={},n=window.ramp.settings.slots[e.adUnitCode];if(!n)return void(t&&t.debug(`[${e?.adUnitCode}] Cannot render video, because ramp unit is undefined`));n&&n.closeButtonEnabled&&"function"==typeof n.__destroyUnit&&(i.closeButtonAction=n.__destroyUnit),"corner_ad_video"!==n.type&&"precontent_ad_video"!==n.type&&"in_content"!==n.type||(i.disableBackground=!0),"corner_ad_video"===n.type&&(i.isCornerVideo=!0,i.cornerVideoPosition=n.playerPosition),"precontent_ad_video"===n.type&&(i.isPrecontentVideo=!0),pwImaPlayerInitialization(e,i)}else t&&t.debug(`[${e?.adUnitCode}] Cannot render video, because renderer not loaded yet or bid is broken`)}function m(){return"https://cdn.intergi.com/hera/releases/4.10.45/videoPlayers/ima-based-player.js"}function g(e){const t=(e||[]).map(w);if(!t||!t.length)return[];let i;for(const e of t){const t=e[0]*e[1];(!i||t>i[0]*i[1])&&(i=e)}return i}function w(e){let t;return t=e[0]/e[1]>16/9?e[1]/9:e[0]/16,[Math.floor(16*t),Math.floor(9*t)]}},8142:(e,t,i)=>{"use strict";i.d(t,{T$:()=>l,Zm:()=>r,_Q:()=>u,kz:()=>c,n6:()=>p,s7:()=>g,vL:()=>d});var n=i(4295),o=i(1084),s=i(5935);const r=60,a=window.pwEdgeFlags&&"number"==typeof window.pwEdgeFlags.lazyThreshold&&window.pwEdgeFlags.lazyThreshold,d=e=>{const t=e.element.getBoundingClientRect().top,i="number"==typeof e.rules.lazyThreshold?e.rules.lazyThreshold:0,n=a||i;return t<window.innerHeight+n},l=e=>{const t=window.pageYOffset,i=window.pageYOffset+window.innerHeight,n=e.getBoundingClientRect(),o=n.y+window.pageYOffset,s=n.y+n.height+window.pageYOffset;if(t>s||i<o)return 0;if(t<o&&i>s)return 100;if(o<t&&s>i)return 100;const r=n.height;let a=r;o<t&&(a=r-(window.pageYOffset-o)),s>i&&(a-=s-i);const d=a/r*100;return Math.round(d)},c=(e,t)=>{const i=window.ramp.settings,o=i.slots[e],a=o.viewability,d=o.inView,l=t>=50;if(void 0!==o&&(o.viewability=t,o.inView=l,o.slot.setTargeting("in_view",`${l}`),"rewarded_ad_video"!==o.type&&(0,n.ff)(o),(a<r&&t>=r||a>=r&&t<r)&&(0,s.Z)(o,i),!1===d&&!0===l)){const t=parseInt(o.rules?.refresh?.inViewRefreshDelay,10)||void 0;t?setTimeout((()=>{l&&w(e,i.inViewDelayedRegistry)}),t):w(e,i.inViewDelayedRegistry)}},p=e=>{const t=document.getElementById(e);return t?(e=>{const t=e.getBoundingClientRect(),i=Math.max(document.documentElement.clientWidth,window.innerWidth||0),n=Math.max(document.documentElement.clientHeight,window.innerHeight||0),o=t.width,s=t.height;let r=0,a=0;return r=t.top>=0&&t.top+s<n?s:t.top<0?s+t.top:n-t.top,a=t.left>=0&&t.left+o<i?o:t.left<0?o+t.left:i-t.left,r=Math.max(r,0),a=Math.max(a,0),a*r})(t):0},m=(e,t)=>{if(!e||!t)return 0;const i=e.getBoundingClientRect(),n=t.getBoundingClientRect();let o=0;if(!(i.right<n.left||i.left>n.right||i.bottom<n.top||i.top>n.bottom)){o=Math.max(0,Math.min(i.right,n.right)-Math.max(i.left,n.left))*Math.max(0,Math.min(i.bottom,n.bottom)-Math.max(i.top,n.top))}return o},g=e=>{const t=window.ramp.settings;let i=0;for(const n in window.ramp.settings.slots){const o=t.slots[n];o.viewability<0||"bottom_rail"===o.type||"left_rail"===o.type||"right_rail"===o.type||"trendi"===o.content||(i+=m(e,o.element))}return i},w=(e,t)=>{"object"==typeof t&&!0===t[e]&&(delete t[e],(0,o.Z1)(e,!0))},u=e=>{if(!e)return!0;if("none"===e.style.display||"hidden"===e.style.visibility)return!0;for(;e.parentNode&&void 0!==e.parentNode.style;)if("none"===(e=e.parentNode).style.display||"hidden"===e.style.visibility)return!0;return!1}},2705:(e,t,i)=>{var n=i(5639).Symbol;e.exports=n},4239:(e,t,i)=>{var n=i(2705),o=i(9607),s=i(2333),r=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?o(e):s(e)}},7561:(e,t,i)=>{var n=i(7990),o=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(o,""):e}},1957:(e,t,i)=>{var n="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g;e.exports=n},9607:(e,t,i)=>{var n=i(2705),o=Object.prototype,s=o.hasOwnProperty,r=o.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=s.call(e,a),i=e[a];try{e[a]=void 0;var n=!0}catch(e){}var o=r.call(e);return n&&(t?e[a]=i:delete e[a]),o}},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5639:(e,t,i)=>{var n=i(1957),o="object"==typeof self&&self&&self.Object===Object&&self,s=n||o||Function("return this")();e.exports=s},7990:e=>{var t=/\s/;e.exports=function(e){for(var i=e.length;i--&&t.test(e.charAt(i)););return i}},3279:(e,t,i)=>{var n=i(3218),o=i(7771),s=i(4841),r=Math.max,a=Math.min;e.exports=function(e,t,i){var d,l,c,p,m,g,w=0,u=!1,h=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var i=d,n=l;return d=l=void 0,w=t,p=e.apply(n,i)}function y(e){var i=e-g;return void 0===g||i>=t||i<0||h&&e-w>=c}function _(){var e=o();if(y(e))return v(e);m=setTimeout(_,function(e){var i=t-(e-g);return h?a(i,c-(e-w)):i}(e))}function v(e){return m=void 0,f&&d?b(e):(d=l=void 0,p)}function S(){var e=o(),i=y(e);if(d=arguments,l=this,g=e,i){if(void 0===m)return function(e){return w=e,m=setTimeout(_,t),u?b(e):p}(g);if(h)return clearTimeout(m),m=setTimeout(_,t),b(g)}return void 0===m&&(m=setTimeout(_,t)),p}return t=s(t)||0,n(i)&&(u=!!i.leading,c=(h="maxWait"in i)?r(s(i.maxWait)||0,t):c,f="trailing"in i?!!i.trailing:f),S.cancel=function(){void 0!==m&&clearTimeout(m),w=0,d=g=l=m=void 0},S.flush=function(){return void 0===m?p:v(o())},S}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},3448:(e,t,i)=>{var n=i(4239),o=i(7005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},7771:(e,t,i)=>{var n=i(5639);e.exports=function(){return n.Date.now()}},3493:(e,t,i)=>{var n=i(3279),o=i(3218);e.exports=function(e,t,i){var s=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(i)&&(s="leading"in i?!!i.leading:s,r="trailing"in i?!!i.trailing:r),n(e,t,{leading:s,maxWait:t,trailing:r})}},4841:(e,t,i)=>{var n=i(7561),o=i(3218),s=i(3448),r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,d=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var i=a.test(e);return i||d.test(e)?l(e.slice(2),i?2:8):r.test(e)?NaN:+e}},7450:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>ut});var n=i(887),o=i(4155),s=(i(713),i(3662)),r=i(1084),a=i(5935);const d=e=>{o.ZP.info("Page has Focus Again, Refreshing Slots");for(const t in e.slots){if("corner_ad_video"===e.slots[t].type)continue;const i=e.slots[t].rules,n=i&&i.refresh&&i.refresh.refreshOnTabFocus,o=void 0===n||!0===n,s=!0;e.slots[t].slot&&o&&(0,r.Z1)(t,s,!0)}},l=e=>{void 0!==document.visibilityState&&window.document.addEventListener("visibilitychange",(()=>{const t="hidden"!==document.visibilityState;e.hasFocus=t,((e,t)=>{const i=t.slots,n=[];Object.keys(i).forEach((e=>{i[e].slot&&n.push(e)})),window.googletag.pubads().setTargeting("page_focus",`${e}`),n.forEach((n=>{const o=i[n];let s=!1;e&&(o.viewability>49?s=!0:"pw-oop-flex_leaderboard"!==n&&"pw-oop-flex"!==n&&"web_interstitial"!==n||(s=!0),(0,a.Z)(o,t)),o.inView=s,o.slot.setTargeting("in_view",`${s}`)}))})(t,e),t&&setTimeout(d,0,e)}))};var c=i(2125),p=i(6123),m=i(7080);const g=window.PageOS.dataStream;class w{constructor(e){this._sessionId=e.uuid;const t=window.ramp.settings.hbEnabled&&(0,m.GD)(e.config.headerBidding);this._timeout=t?t[e.isMobile?"mobile":"desktop"].timeout:0,this._settings=e,this._filterOut=c.Ph.test(window.navigator.userAgent),this._filterOut=this._filterOut||c.BD.includes(this._sessionId),this._units=[],this._auctions=[],this._isBenchmarking=7===Math.floor(10*Math.random()+1);let i=!0;e.configOverride&&(i=!1),this._pipelines={apps:{STREAM_NAME:i?"apps-production":"apps-development",VERSION:"0.8.0",queue:[],units:[]}},this._environmentalData=this._collectEnvironmentalData(),this.newAppSession(),this._filterOut}newAppSession(){const e={sampling:window.rampSampling,rate:this._settings.samplingRate},t={event_type:"app_sessions",id:this._sessionId,pageos_session_id:window.PageOS.session?window.PageOS.session.getUUID:"",appData:this._collectAppData(),samplingEvents:{app_sessions:e,benchmarks:e,hb_ab_tests:e,ad_auctions:e,ad_bids:e,ad_units:e,ad_impressions:this._getSamplingOverride("ad_impressions",e)},environmentalData:this._environmentalData};if(window._pwTycheAB){const{name:e,type:i}=window._pwTycheAB,n=e.replace(/ /g,"_");t.appData.variant[n]=i}const i={data:t,pipeline:"app"};g.handleEvent("registerApp",i)}_getSamplingOverride(e,t){const i={...t};return"ad_impressions"===e&&(i.sampling=void 0!==window._adImpressionSampling?window._adImpressionSampling:i.sampling,i.rate=void 0!==window._adImpressionSR?window._adImpressionSR:i.rate),i}newBenchmark(e,t){if(!this._isBenchmarking)return;const i={data:{event_type:"benchmarks",id:g.randomUuid("benchmarks"),session_id:this._sessionId,type:e,duration:t,...this._environmentalData,...this._collectEventMetadata(this._pipelines.apps)},pipeline:"app"};g.handleEvent("benchmarks",i)}headerBiddingABTest(e){const t={data:{event_type:"hb_ab_tests",app_session_id:this._sessionId,hb_test:e,...this._collectEventMetadata(this._pipelines.apps)},pipeline:"app"};g.handleEvent("hb_ab_tests",t)}_extractHostname(e){let t=e;try{t=/\/\/(.[^/]+)/.exec(e)[1]}catch(e){}return t}_getPubUrl(){const e=window.top===window,t=window.document.referrer;let i=window.location.href,n=window.location.hostname;return e||(t&&t.indexOf(this._settings.config.url)>-1?(i=t,n=this._extractHostname(t)):(i=this._settings.config.url,n=this._extractHostname(this._settings.config.url))),{pageUrl:i,pageHostname:n}}_collectAppData(){return{build_timestamp:this._settings.buildTimestamp,name:"tyche",version:this._settings.version,variant:{}}}_collectEnvironmentalData(){const e=window.PageOS.environment,t=window.navigator.connection||{},i=this._getPubUrl();let o=window.document.referrer;return""===o&&(o=null),{ads_blocked:e.adBlock,app:this._collectAppData(),connection_downlink:t.downlink,country_code:this._settings.country,publisher_id:this._settings.config.settings.publisherId,page_url:i.pageUrl,page_hostname:i.pageHostname,referrer_url:o,referrer_hostname:this._extractHostname(o),screen_height:e.getBrowserInfo().screenHeight,screen_orientation:(0,p.T8)(),screen_width:e.getBrowserInfo().screenWidth,user_agent:window.navigator.userAgent,website_categories:(0,n.nW)(this._settings.config.settings),website_id:this._settings.config.id,window_height:e.getBrowserInfo().height,window_width:e.getBrowserInfo().width,...this._getCustomReportingFields(),...this._getUtmParamsFields()}}_getCustomReportingFields(){const e=window.PageOS.getAllCustomReportingKVs(),t={};return Object.keys(e).forEach((i=>{t[i]=e[i]})),t}_getUtmParamsFields(){const e=window.PageOS.getAllUtmParams(),t={};return Object.keys(e).forEach((i=>{t[i]=e[i]})),t}_collectEventMetadata(e){return{sampling_rate:this._settings.samplingRate,version:e.VERSION,timestamp:g.athenaFriendlyTimestamp()}}}var u=i(8355),h=i(7998),f=i(7346),b=i(8142),y=i(7538),_=i(6191);const v=e=>{const t=`${e.id}2`;if(e.isWaitingForPush)return;e.isWaitingForPush=!0;const i=window.ramp.settings;e.visibleMoreThan2Seconds&&e.visibleMoreThan2Seconds.then((()=>(o.a2.info(`Waiting for scrolling to ${t} is created.`),new Promise((e=>{window.addEventListener("scroll",(()=>{e()}),{once:!0})}))))).then((()=>{(0,f.bE)(e.type,!0),(0,h.Z)(i,t).then((s=>{const r=window.ramp.settings.slots[t];i.hbEnabled&&window[window.ramp.pbKey].setTargetingForGPTAsync(t),s&&(0,n.tP)(s),r.pushAdStart=()=>{((e,t)=>{o.a2.info(`Transition for slots ${e} and ${t} started.`);const i=document.getElementById(e),n=document.getElementById(t);i.addEventListener("transitionend",(()=>{const t=window.ramp.settings.slots[e];t&&(0,y.ZE)(t)})),i.classList.add("pw_rail_push_hide"),n.classList.add("pw_rail_push_show")})(e.id,t),delete r.pushAdStart},(0,_.Z)([r.slot])})).catch((e=>{o.G4.error("Prebid Auction Error: ",e)}))})).catch((e=>{o.a2.error("Error:",e)}))},S=e=>new Promise((t=>{let i,n,s=0;const r=r=>{i=Date.now()-s,n=setTimeout((()=>{o.a2.info(`2 seconds in view for ${e.id}`);const i=100===(0,b.T$)(e.element);t(i)}),1e3*r)};document.addEventListener("visibilitychange",(()=>{"visible"===document.visibilityState?r(2-s/1e3-s/1e3):(clearTimeout(n),s=Date.now()-i)})),r(2)}));function P(e){const t=(e,t=window)=>t.ramp?.settings?.slots?.[e]&&(void 0===t.ramp.settings.slots[e].on||!1!==t.tyche.settings.slots[e].on),i=window.ramp.settings,n=e.slot.getSlotElementId().toLowerCase(),s=i.slots[n];if(i.slots.web_interstitial&&e.slot===i.slots.web_interstitial.slot&&(o.ho.info("Web Interstitial loaded."),C()),void 0===s)return!1;!0===s.oop&&s.element.setAttribute("data-pw-status","loaded"),"site_skin"!==s.type&&"behind_page"!==s.type&&"skin"!==s.type.toLowerCase()||(window.ramp.hideSlot("pw-oop-right_rail"),window.ramp.hideSlot("pw-oop-left_rail")),"flex"===s.type&&(()=>{window.ramp.hideSlot("pw-oop-right_rail"),window.ramp.hideSlot("pw-oop-left_rail");const e=window?.screen?.height;!window.ramp.isMobile&&e<900&&window.ramp.hideSlot("pw-oop-bottom_rail"),window.ramp.isMobile&&(t("corner_ad_video")||t("trendi_video"))&&("function"==typeof window.ramp.closeCornerVideo&&window.ramp.closeCornerVideo(),window.ramp.destroyCornerAdVideo())})();const{minimumBeforePush:r=1}=s?.rules?.refresh||{};("pw-oop-left_rail"===s.id||"pw-oop-right_rail"===s.id)&&s.refreshes>=r?v(s):s.pushAdStart&&s.id&&s.id.includes("_rail2")&&s.pushAdStart(),"bottom_rail"===s.type&&window.PageOS.BUS.emit("bottom_rail_loaded");try{s.element.querySelector("iframe").ariaLabel="ad"}catch(e){}}const C=()=>{const e=document.querySelector('ins[id*="web_interstitial"]');if(!e)return;new MutationObserver((function(t,i){for(const n of t)if("attributes"===n.type&&"style"===n.attributeName){const t=n.target.style.visibility;"visible"===t&&(window.PageOS.BUS.after("webInterstitialSloRenderEndedData",(e=>{window.PageOS.dataStream.handleEvent("displayAdImpression",{slotId:e.slotId,impressionData:e.impressionData,amznBid:e.amznBid,size:"1x1",targeting:e.targeting,slotData:e.slotData}),localStorage.setItem("pw_last_interstitial_imp_event",Date.now())})),i.disconnect(e)),o.ho.info(`Web Interstitial visibility change observed: ${t}`)}})).observe(e,{attributes:!0,childList:!1,subtree:!1})};var k=i(8434),x=i(6810),E=i(5090),A=i(2210),z=i(1967),B=i(3558),I=i(6657),T=i(3914);const O="web_interstitial";function L(e){const t=Date.now(),s=window.ramp.settings,r=new B.Z;e&&(0,n.tP)(e),s.hbEnabled&&window[window.ramp.pbKey].setTargetingForGPTAsync(Object.keys(s.slots)),window.ramp.passiveMode||((0,n.Fp)("getBidsEnd_to_adRequest",t),window.performance.timing&&(0,n.Fp)("domLoading_to_adRequest",window.performance.timing.domLoading));let a={};"object"==typeof window.ramp.observerMode&&(a=window.ramp.observerMode,a.isMobile=s.isMobile),s.adRequestStart||(s.adRequestStart=Date.now());const d=[];for(const e in s.slots){const t=s.slots[e];void 0===t.videoType&&(0===t.adFetchCount&&!1===t.lazy&&!1===t.queued&&"int"!==t.pos&&(t.oop&&t.slot.setTargeting("in_view","true"),t.queued=!0,d.push(t.slot)))}window.googletag.cmd.push((()=>{window.location.hash.toLowerCase().includes("blankaddebug")&&d.forEach((e=>{for(let t in e.getTargetingMap())(t.includes("hb_")||t.includes("amzn"))&&e.clearTargeting(t),e.setTargeting("refresh","true"),e.setTargeting("price_floor","30.00")})),(0,_.Z)(d)})),window.ramp.passiveMode||((0,z.ZP)("in_content"),(0,z.ZP)("sidebar"),(0,z.ZP)("sticky_sidebar"),(0,z.ZP)("precontent_ad_video"));const l=[...window.ramp.settings.units.sec,...window.ramp.settings.units.ros],c=l.find((e=>"web_interstitial"===e.unit));c&&function(e){window.ramp.settings.slots=window.ramp.settings.slots||{};const t=window.ramp.settings,i=t.slots,s=(0,I.N)(t,e,"ANY");if(!1===s)return;i[e.unit]={};const r=i[e.unit];if(r.config=e,r.rules=s,r.slot=window.googletag.defineOutOfPageSlot(e.code,window.googletag.enums.OutOfPageFormat.INTERSTITIAL),r.slot){o.a2.info("Interstitial is loading.");const e=r.config.path??r.config.section;window.googletag.cmd.push((()=>{(0,T.K)(r),t.slots[O].slot.setTargeting("pos","FIXED"),t.slots[O].slot.setTargeting("slot_id",O),t.slots[O].slot.setTargeting("refresh","false"),t.slots[O].slot.setTargeting("custom_path",e.replace(/CP\[|\]/g,"")),t.slots[O].slot.setTargeting("lld_id",(0,n.Cm)()),r.slot.addService(window.googletag.pubads())})),window.googletag.cmd.push((()=>{(0,_.Z)([r.slot])}))}}(c);const p=l.find((e=>"web_rewarded_video"===e.unit));p&&(o.ZP.info("Loading rewarded module"),i.e(424).then(i.bind(i,1489)).then((({default:e})=>{const t=new e(p);t&&t.init()})));if(l.find((e=>"rewarded_ad_video"===e.unit))&&(o.ZP.info("Loading Google rewarded module"),i.e(427).then(i.bind(i,1896)).then((({default:e})=>{const t=new e;t&&t.readyToInit&&t.init()}))),!window.ramp.passiveMode){const e=l.find((e=>"relevant_article"===e.unit));if(e){new A.Z(e).init()}}s.slotReadyTime||(r.startSpying(),s.slotReadyTime=new Date),!0===a.enabled&&"string"==typeof a.selector&&!0!==window.ramp.passiveMode&&i.e(469).then(i.bind(i,8800)).then((e=>{new e.ObserverMode(a).init()})),void 0!==s.config.features.video&&void 0!==s.config.features.video.interstitial&&(s.isMobile?o.ZP.info("Interstitial Unit not available on mobile"):(o.ZP.info("Loading interstitial module"),i.e(542).then(i.bind(i,2515)).then((({default:e})=>{const t=new e;t&&t.init()}))))}var D=i(8299),V=i(7606);let R=null,$=null,Z=null,M=[],U=!1;const F=e=>new Promise(((t,i)=>{if(!e)return void i('No slots specified. Pass "all" param to destroy all slots');"string"==typeof e&&"all"===e.toLowerCase()&&(e=Object.keys(window.ramp.settings.slots));const n=window.ramp.settings,s=Array.isArray(e)?e:[e];o.lj.debug("Destroying slots:",s);for(let e of s){window.ramp.isMobile&&0===e.indexOf("leaderboard")&&(e=e.replace("leaderboard","pw-320x50"));const t=n.slots[e];if((e.includes("left_rail")||e.includes("right_rail"))&&("pw-oop-left_rail"!==(r=e)&&"pw-oop-right_rail"!==r||F(`${r}2`)),t){if(M=M.filter((t=>t!==e)),"Bolt Player"===t.videoType){R=null,n.slots[e].destroyUnit&&n.slots[e].destroyUnit();continue}if("in_content"===e?(0,k.Z)():"sidebar"===e?(0,x.destroySidebar)():"pw_sticky_sidebar"===e?(0,E.destroyStickySidebar)():"corner_ad_video"===e?(t.__destroyUnit(),$=!1):"rewarded_ad_video"===e?(0,V.zy)():"precontent_ad_video"===e&&(Z=!1),clearTimeout(t.refreshTimeout),clearTimeout(t.auctionTimeout),!t.slot)continue;window.googletag.cmd.push((()=>{window.googletag.destroySlots([t.slot]),n.amazonSlots=n.amazonSlots.filter((e=>e.slotID!==t.id)),n.hbEnabled&&window[window.ramp.pbKey].removeAdUnit(t.id),t.element&&(t.element.parentElement?.id===`${t.element.id}_container`?t.element.parentElement.remove():t.element.remove()),delete n.slots[t.id]}))}}var r;t()})),H=e=>new Promise(((t,i)=>{if(o.lj.debug("addUnits method called with:",e),!e){const e="No units given.";return o.lj.warn(e),void i(e)}const n=[],s="desk"===window.ramp.settings.deviceSelector?"pwDesk":"pwMobi";(e=Array.isArray(e)?e:[e]).forEach((e=>{const{selectorId:t,type:o,unitCode:r,sizes:a,selector:d}=e,l=((e,t)=>e?document.getElementById(e):t?document.querySelector(t):void 0)(t,d),p=!!(r||a||d)&&{};if(r){const e=Array.isArray(r)?r:[r];p.unitCode=e}if(a&&(p.sizes=a),d){const e=Array.isArray(d)?d:[d];p.selector=e}if("corner_video"!==o&&"trendi_video"!==o)if("trendi_native"!==o&&"trendi_slideshow"!==o){if("corner_ad_video"===o)return $=!0,void(U=p);if("precontent_ad_video"===o)return Z=!0,void(U=p);if(c.UE.includes(o))n.push((0,f.zv)(o,!0).then((e=>{e&&(window.ramp.settings.slots[e.id]=e)})));else if(o.indexOf("relevant_article")>-1){const e=[...window.ramp.settings.units.sec,...window.ramp.settings.units.ros].find((e=>"relevant_article"===e.unit));if(e){new A.Z(e).init()}}else if("in_content"===o||"sidebar"===o||"sticky_sidebar"===o||"corner_ad_video"===o||"precontent_ad_video"===o||"rewarded_ad_video"===o)(0,z.ZP)(o,p);else if(l)if((0,b._Q)(l))i("selectorId is a hidden element.");else{const e=document.createElement("div");e.dataset[s]=o,e.dataset.selectorId=t,l.appendChild(e),n.push((0,D.wG)(window.ramp.settings,e,p))}else o.indexOf("in_article")>-1&&i("in-article unit is no longer supported."),void 0===t&&i("No selectorId given."),null===l&&i(`No element found for selector: ${t}`)}else R="trendi_slideshow";else R="trendi_video"})),Promise.all(n).then((()=>{t()})).catch((e=>{o.lj.warn("Error in tag promises."),i(`Error in tag promises: ${e}`)}))})),N=()=>new Promise(((e,t)=>{o.lj.debug("displayUnits method called."),R&&window.PageOS.tyche.createVideoUnit(R),$&&(0,z.Kf)(U),Z&&(0,z.zX)(U);const i=Object.keys(window.ramp.settings.slots).filter((e=>!M.includes(e)));if(0===i.length)return o.lj.warn("displayUnits: no units to display."),void e();o.lj.debug("displayUnits: displaying units:",i),i.forEach((e=>{M.push(e)})),(0,s.ZP)().then((t=>{L(t),e()})).catch((e=>{t("No new slots",e)}))})),j=e=>{if(e)for(let t in e)if(e.hasOwnProperty(t)){const i=e[t];t=q(t),window.googletag.cmd.push((()=>{window.googletag.pubads().setTargeting(t,i)}))}},q=e=>{let t=`pw_custom_${e}`;return t.length>30&&(t=t.slice(0,30)),t},W=(e,t,i)=>{try{if(G(e),e.element.classList.contains("pw-tps"))return;const o=e.type.split("_")[0];let s=2147483644;"left_rail"!==e.type&&"right_rail"!==e.type||(s=e.rules?.zIndex??s);const r=e.element.style.maxHeight?`max-height: ${e.element.style.maxHeight}`:"",a=e.element.style.maxWidth?`max-width: ${e.element.style.maxWidth}`:"",d="content",l="center",c=(e,t,i)=>{const o=e.rules.contentWidth,s=((0,n.n$)()-o)/2,r=e.rules.offset??0,a=s-i;let c=0,p="";switch(e.rules.xAlignment){case d:o&&i&&i+r<=s&&(c=a,p=`margin-${t}: ${0-r}px;`);break;case l:o&&i&&(c=a/2);break;default:i+r<=s&&(p=`margin-${t}: ${r}px;`)}return{placement:c,margin:p}},{placement:p,margin:m}=c(e,o,t);if(e.element.setAttribute("style",`position:fixed;width:auto;height:${i}px;\n            ${o}:${p}px;${m}top:50%;margin-top: -300px;z-index: ${s};\n            border-bottom: 1px solid rgba(55,55,55,0.9);border-top: 1px solid rgba(55,55,55,0.9);\n            border-right:1px solid rgba(55,55,55,0.9);${r};${a}`),void 0===e.rules.closeButton||!0===e.rules.closeButton){const t=document.createElement("div"),i=document.createElement("div");t.classList.add(`pw-siderail-${o}-close`),t.onclick=()=>{e.element.remove(),delete e.width,delete e.height},i.innerHTML=" &times; Close Ad ",i.style.pointerEvents="none",t.appendChild(i),e.element.appendChild(t)}}catch(e){console.error(e)}},K=(e,t=!1)=>{Y(e.element,t)&&(F(e.id),H([{type:e.type}]).then((()=>{const t=1e3*e.rules.refresh?.rate,i=e.lastRefresh,n=(t||0)-(Date.now()-i);setTimeout((()=>{N()}),n>0?n:0)})).catch((()=>{N()})))},G=e=>{window.PageOS.BUS.on("trendi_video_ad_started",(()=>{K(e)}),!0),window.PageOS.BUS.after("corner_video_first_render",(()=>{K(e,!0)}),!0)},Y=(e,t=!1)=>{const i=t?"corner_ad_video":"tyche_trendi_video_container",n=document.getElementById(i);if(!n||!e)return!1;const o=n.getBoundingClientRect(),s=e.querySelector("iframe[id^='google_ads_iframe_']"),r=s?s.getBoundingClientRect():e.getBoundingClientRect();return!(o.top>r.bottom||o.right<r.left||o.bottom<r.top||o.left>r.right)};var Q=i(9379),J=i(4295);const X=e=>{const t=window.ramp.settings.slots.trendi_video,i=document.getElementsByClassName("pw-pos-top")[0];void 0!==t&&t.loaded&&"top"===t.mobileLocation&&void 0!==i&&(i.classList.remove("is-docked"),ee(e),!e.isSticky&&t.isDocked?(e.element.insertAdjacentElement("afterend",i),i.style.top=0,i.style.position="relative"):("tyche_trendi_parent_container"!==i.parentNode.id&&document.getElementById("tyche_trendi_parent_container").appendChild(i),t.isDocked&&(i.style.top="70px",i.style.position="fixed")))},ee=e=>{const t=document.getElementsByClassName("pw-close-btn-top")[0];void 0!==t&&(e.isSticky?(t.classList.remove("pw-close-btn-top--flex"),t.classList.add("pw-close-btn-top--flex-docked"),t.style.position="fixed"):(t.classList.remove("pw-close-btn-top--flex-docked"),t.style.position="absolute"))},te=(e,t)=>{if(window.ramp.settings.roadblockActive)return!1;if(e.config.houseAds){const i=((window.ramp.isMobile?t.rules.mobileSizes:t.rules.desktopSizes)||t.rules.sizes||t.config.sizes).sort(((e,t)=>e[1]-t[1]||e[0]-t[0]));for(let t=0;t<i.length;t++){const n=i[t],o=`${n[0]}x${n[1]}`;if(e.config.houseAds[o])return o}return!1}},ie=(e,t)=>{const i=window.ramp.settings,{clickUrl:n,imageSrc:s}=i.config.houseAds[t],r=document.createElement("img");if(r.src=s,r.style.margin="0 auto",r.alt="Playwire House Ad",e.element.innerHTML="",n){const n=document.createElement("a");n.href=i.config.houseAds[t].clickUrl,n.setAttribute("target","_blank"),n.appendChild(r),e.element.appendChild(n)}else e.element.appendChild(r);o.ZP.info("Serving house ad.",{slot:e.id,size:t})};var ne=i(4299);const oe=window.PageOS.dataStream,se=(e,t,i)=>{const n=i,o=e.lineItemId||e.sourceAgnosticLineItemId,s=t.slots[i].pbjsBid?.bidderCode;return`adUnitCode=${n}&creativeId=${t.slots[i].pbjsBid?t.slots[i].pbjsBid?.creativeId:e.creativeId||e.sourceAgnosticCreativeId}&lineItemId=${o}&bidderCode=${s}`},re=e=>{const t=window.ramp.settings,i=e.slot.getSlotElementId().toLowerCase(),n=t.slots[i],s=n&&n.rules.adLabel&&!0===n.rules.adLabel.enabled,r=n&&n.rules.reportAdLink&&!0===n.rules.reportAdLink.enabled,a=!1==!n.rules.pwBranding,d="topAndBottom"===n.rules.background?.styling,l="transparent"===n.rules.background?.styling||!1===n.rules.background,c="in_content"===n.type||"sidebar"===n.type;let p;if((d||l)&&(p=document.createElement("div"),p.className="pw-footer-container-incontent"),s||r){const l="in_content"===n.type||"sidebar"===n.type||"sticky_sidebar"===n.type||"corner_ad_video"===n.type||"precontent_ad_video"===n.type,m=document.createElement("div"),g=document.createElement("span"),w=document.createElement("a"),u='\n                    font-size:10px !important;\n                    font-family:"Open Sans",arial,sans-serif !important;\n                    font-weight: normal !important;\n                    font-style: normal !important;\n                    text-decoration: none !important;\n                ';if(m.setAttribute("class","pw_report_ad_container"),m.setAttribute("style","line-height:normal;display:block;justify-content:center"),n.element){let e=n.element,t="beforeend";if(l||n.type.startsWith("standard_iab")){if(!0===n.rules.adContainer&&!0===n.rules.maxHeightEnabled){l&&(e=n.element.parentNode);e.getElementsByClassName("pw_report_ad_container").length>0&&e.getElementsByClassName("pw_report_ad_container").forEach((e=>e.remove()))}t="afterbegin"}const i=ae(t,l||n.type.startsWith("standard_iab"),n);e.insertAdjacentElement(i,m),p&&e.insertAdjacentElement("beforeEnd",p)}if(s&&(g.innerHTML=r||a&&!d?"Advertisement&nbsp;|&nbsp;":"Advertisement",g.setAttribute("style",`color: ${n.rules.adLabel.color};${u};user-select:none;`),m.appendChild(g),m.style.display="block",m.style.textAlign="center","bottom_rail"===n.type&&!n.element.hasAttribute("data-ad-label-height-loaded"))){const e=m.querySelector("span").offsetHeight,t=parseInt(n.element.style.maxHeight,10)+e+parseInt(n.element.style.paddingTop,10);n.element.style.maxHeight=`${t}px`,n.element.setAttribute("data-ad-label-height-loaded","true")}if(a&&!d&&c){const e=(0,ne.D)(!0);if(m.insertAdjacentElement("beforeend",e),r){const t=document.createElement("span");t.innerHTML="&nbsp;|&nbsp;",t.setAttribute("style",`color: ${n.rules.adLabel.color};${u};user-select:none;`),e.insertAdjacentElement("afterend",t)}}if(r){if(t.config.settings.adLightning&&!0===t.config.settings.adLightning){o.ZP.info(`AdLighting enabled for ${i}`);const t=`adl_${i}`,s=document.createElement("div"),r={adlAction:"createUserReportButton",selector:`#${t}`,uniqueId:e.creativeId||e.sourceAgnosticCreativeId,targetAd:i};document.getElementById(t)&&m.remove(),m.id=t,m.appendChild(s),s.className="adl-report-ad-container",s.setAttribute("style","display:inline;"),n.element&&window.postMessage(r,"*"),((e,t)=>{(t=e.createElement("style")).innerHTML=`.adl-report-ad-container > button {\n                                color: red !important;\n                                ${u};\n                                display: inline !important;\n                                margin: 0 !important;\n                                padding: 0 !important;\n                                color: ${n.rules.reportAdLink.color} !important;\n                            }\n                            #adl-ad-report-modal {\n                                z-index: 2147483646 !important;\n                            }`,e.head.appendChild(t)})(document),n.oop&&!l&&de(m,n,!0)}else{w.id=`report_ad_${i}`,w.href="#",w.setAttribute("class","playwire_report_ad_link"),w.innerHTML="Report Ad",w.setAttribute("style",`color: ${n.rules.reportAdLink.color} !important; ${u}`),w.onclick=e=>{e.preventDefault(),((e,t)=>{e.slots[t].formInView=!0,void 0!==e.slots[t].newSrc&&!1!==e.slots[t].newSrc&&(document.getElementById(`report_form_${t}`).setAttribute("src",e.slots[t].newSrc),e.slots[t].newSrc=!1),document.getElementById(`report_modal_${t}`).setAttribute("class","report_ad_modal report_ad_modal_show")})(t,i)};window.location.href.toLowerCase().indexOf("coolmathgames")>-1&&w.setAttribute("role","button"),m.appendChild(w),n.oop&&!l&&de(m,n),null!==n.element.querySelector(".pw_report_ad_container")||n.rules.maxHeightEnabled||n.element.appendChild(m),((e,t,i)=>{const n="https://cdn.intergi.com/hera/releases/4.10.45/adReport/",o=`${n}form.html?${se(e,t,i)}`;let s=document.getElementById(`report_form_${i}`);if(null!==s){if(void 0!==t.slots[i].formInView&&!1!==t.slots[i].formInView)return void(t.slots[i].newSrc=o)}else{s=document.createElement("iframe");const e=document.createElement("link"),t=document.createElement("div"),o=document.createElement("div"),r=document.createElement("span"),a=document.createElement("img");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",`${n}form.css`),document.head.appendChild(e),t.setAttribute("id",`report_modal_${i}`),t.setAttribute("class","report_ad_modal"),o.setAttribute("class","report_ad_modal-content"),t.appendChild(o),r.setAttribute("class","report_ad_close"),o.appendChild(r),a.setAttribute("src",`${n}close-button.svg`),r.appendChild(a),s.setAttribute("width","320px"),s.setAttribute("height","492px"),s.setAttribute("scrolling","no"),s.setAttribute("id",`report_form_${i}`),o.appendChild(s),document.body.appendChild(t)}t.slots[i].newSrc=o,document.getElementById(`report_modal_${i}`).addEventListener("click",(e=>{e.preventDefault(),document.getElementById(`report_modal_${i}`).setAttribute("class","report_ad_modal"),t.slots[i].formInView=!1}))})(e,t,i)}l&&(m.style.width="100%",m.style.textAlign="center",m.dataset.pwInArticle=!0)}if(c&&d){const e=n.rules?.background?.weight||"1px",t=n.rules?.background?.color||"#122043";m.style.display="flex",m.style.alignItems="center",m.style.lineHeight="unset";const i=document.createElement("div");i.classList.add("pw-border-incontent-after"),i.style.height=e,i.style.backgroundColor=t;const o=i.cloneNode(!0);a||(o.style.marginLeft="0"),m.appendChild(i);const s=document.createElement("div");s.classList.add("pw-border-incontent-before"),s.style.height=e,s.style.backgroundColor=t;const r=s.cloneNode(!0);a||(r.style.marginRight="0"),m.insertBefore(s,m.firstChild),a&&p.appendChild((0,ne.D)(!0)),p.appendChild(o),p.insertBefore(r,p.firstChild)}if(("leaderboard"===n.type||"med_rect"===n.type)&&0===n.refreshes){const e=m.offsetHeight,t=m.parentNode,i=parseInt(t.style.maxHeight.replace(/px/g,""),10);t.style.maxHeight=`${i+e}px`}}},ae=(e,t,i)=>{if(!0===i.rules.adContainer)e=t?"afterbegin":"beforebegin";else switch(i.type){case"in_content":case"sidebar":e="beforeend";break;case"sticky_sidebar":e=t?"afterbegin":"beforebegin"}let n=e,o=i.rules?.adLabel?.position?i.rules.adLabel.position:"";switch(window.ramp?.override?.settings?.units&&window.ramp.override.settings.units[i.type]?.adLabelPosition&&(o=window.ramp.override.settings.units[i.type].adLabelPosition),o){case"top":n="afterbegin";break;case"bottom":n="beforeend"}return n},de=(e,t,i)=>{"bottom_rail"===t.type&&(e.style.top=i?"0":"3px",e.style.left="0",e.style.right="0",e.style.position="absolute",e.style.textAlign="left",e.style.display="block",e.style.width=`${t.width}px`,e.style.margin="0 auto",t.element.style.paddingTop="20px",t.element.style.height=`${parseInt(t.height,10)+20}px`,t.element.style.boxSizing="border-box"),"left_rail"!==t.type&&"right_rail"!==t.type||(e.style.position="absolute",e.style.left="0px",e.style.bottom=i?"-20px":"-16px",e.style.width="100%")};window.addEventListener("message",(e=>{try{const{type:t,data:i}=JSON.parse(e.data);"reportAdLink"===t&&(e=>{e.report_ad_id=oe.randomUuid("reportAdLink"),oe.handleEvent("reportAdForms",e)})(i)}catch(e){}}));var le=i(1401),ce=i(8490);const pe=e=>{try{const t=e.rules.dockAndStick;if(void 0===t||!0!==t.enabled)return;const i=t.stickDuration,n=(new Date).getTime();null===e.sticky&&(e.sticky={time:0,top:t.topOffset,stickyTimer:null,on:!!e.element.classList.contains("pw-sticky")}),o.ZP.info("Sticky Debug",e.sticky),e.sticky.stickyTimer=setInterval((()=>{!0!==e.rules.dockAndStick&&clearInterval(e.sticky.stickyTimer),e.inView&&(e.sticky.time=(new Date).getTime()-n),!1===e.inView&&!1===e.sticky.on&&e.sticky.time<i&&(e.sticky.on=!0,e.element.classList.add("pw-sticky")),!1===e.inView&&!0===e.sticky.on&&e.sticky.time>=i&&(e.sticky.on=!1,e.rules.dockAndStick=!1,e.element.classList.remove("pw-sticky")),!0===e.inView&&!0===e.sticky.on&&e.sticky.time>=i&&(e.sticky.on=!1,e.rules.dockAndStick=!1,e.element.classList.remove("pw-sticky"))}),25),o.ZP.info(`Sticky Event: Sticky Activated For ${e.id}`,e.sticky)}catch(e){console.error(e)}},me=e=>(window.location.href.toLowerCase().indexOf("redfin")>-1||74075===window.ramp.settings.config.id||74114===window.ramp.settings.config.id)&&e.size&&0===e.size[0]&&0===e.size[1],ge=(e,t)=>!!window.ramp.settings.roadblockActive||(!!e||(!(!t.refresh||!0!==t.refresh.blankAdRefresh)||!(!t.refresh||!t.refresh.blankAdSetting)&&"never"!==t.refresh.blankAdSetting)),we=e=>e.refresh&&e.refresh.blankAdSetting?e.refresh.blankAdSetting:"immediately";function ue({e,adRequestStart:t,tycheStartTime:i}){try{(0,n.Fp)("domLoading_to_firstSlotsRendered",window.performance.timing.domLoading),(0,n.Fp)("firstSlotsRequested_to_firstSlotsRendered",t),(0,n.Fp)("tycheStart_to_firstSlotsRendered",i);let s=!1;const a=window.ramp.settings,d=e.slot.getSlotElementId(),l=a.slots[d],c=(0,n.DP)("blank"),p=parseInt((0,n.DP)("refresh"),10),m=window.location.href.toLowerCase().indexOf("coolmathgames")>-1;if(void 0===l)return!1;"bottom_rail"===l.type&&window.PageOS.BUS.emit("bottom_rail_rendered"),l.isEmpty=e.isEmpty,!e.isEmpty&&l.element&&le.Z.unobserve(l.element),l.rules.heightReport=l.rules.adLabel?.enabled||l.rules.reportAdLink?.enabled?20:0,l.lastRenderedTime=Math.round(Date.now());const g=ge(m,l.rules),w="immediately"===we(l.rules);a.slotsRendered++;const u=window.PageOS.dmp||{};if(u.ready&&u.addImpressionEventId&&e.lineItemId){const t=u.addImpressionEventId(e.lineItemId);t&&window.googletag.pubads().setTargeting("dmp_ids",t.join(","))}if(!0===l.rules.showLoader){const e=l.element.parentElement.querySelector("div.pw-loading-spinner");e&&(e.style.display="none")}if(c&&!isNaN(p)&&l.id===c&&l.refreshes===p&&(e.isEmpty=!0),e.isEmpty&&(o.ZP.warn("Blank ad",{slot:d}),s=te(a,l)),!1===e.isEmpty||s){if(l.blankRefreshed=!1,e.isEmpty&&s&&(ie(l,s),g||(l.refreshBlocked=!0)),l.imps++,e.size){if(l.size=e.size,"sticky_sidebar"===l.type&&l.pwLogoElement){l.pwLogoElement.style.display="block";const e=l.element.querySelector("iframe[id^='google_ads_iframe_']");if(e){let t=e.clientWidth;const i=l.element.clientWidth;let n=i/2-t/2;new MutationObserver((o=>{o.forEach((o=>{"width"===o.attributeName&&(t=e.clientWidth,n=i/2-t/2,n<i&&(l.pwLogoElement.style.right=`${parseInt(n,10)}px`))}))})).observe(e,{attributes:!0}),n<i&&(l.pwLogoElement.style.right=`${parseInt(n,10)}px`)}}}else s&&(l.size=s.split("x"));if(!1===e.isEmpty&&me(l))try{o.ZP.info("Native Ad: Styles are applied"),l.refreshBlocked=!0,window._rfAdManager&&window._rfAdManager.getAdUnitByRampPlacementId("med_rect_atf")&&window._rfAdManager.getAdUnitByRampPlacementId("med_rect_atf").setState({isNative:!0})}catch(e){o.ZP.error(`Native Ad Error: ${e}`)}const t=window.PageOS.userData;if(t&&t.ready){t.updateUserTrackingData("adImpressions");const e=t.getUserBehavior();0!==e.adClickRate&&window.googletag.pubads().setTargeting("ad_click_rate",e.adClickRate.toString())}l.element.classList.contains("pw-ph-leaderboard")&&l.element.classList.remove("pw-ph-leaderboard");const i=window.PageOS.adUtils?window.PageOS.adUtils.getAdLocation(l.element):{};if(i.abs_dist_left&&l.slot.setTargeting("abs_dist_left",i.abs_dist_left),i.abs_dist_top&&l.slot.setTargeting("abs_dist_top",i.abs_dist_top),i.rel_dist_bottom&&l.slot.setTargeting("rel_dist_bottom",i.rel_dist_bottom),i.rel_dist_left&&l.slot.setTargeting("rel_dist_left",i.rel_dist_left),void 0!==l.rules.sticky&&!0===l.rules.sticky&&"med_rect"===l.type&&(0,J.WT)(l),"standard_iab"===l.type&&pe(l),"bottom_rail"===l.type&&(0,Q.ZL)(l,l.size[0],l.size[1]),"left_rail"===l.type||"right_rail"===l.type){const e=l.element.querySelector("iframe[id^='google_ads_iframe_']"),t=e?e.clientWidth:l.size[0],i=e?e.clientHeight:l.size[1];if(W(l,t,i),"pw-oop-left_rail"===l.id||"pw-oop-right_rail"===l.id){const{minimumBeforePush:e=1}=l?.rules?.refresh||{};l.refreshes>=e&&(l.visibleMoreThan2Seconds=S(l))}}"flex_leaderboard"!==l.type&&"flex"!==l.type||(!function(e){try{const t=window.ramp.settings.device,i=e.rules.reportAdLink&&!0===e.rules.reportAdLink.enabled,n=window.matchMedia("(max-width: 654px)"),o=Math.max(document.documentElement.clientWidth,window.innerWidth||0);e.isSticky=!1;let s="desktop"===t&&o>654?100:147,r="desktop"===t&&o>654?350:210,a="desktop"===t&&o>654?100:70;s=i?s+14:s,e.element.style.height=e.isSticky?`${a}px`:`${r}px`,e.element.parentNode.style.height=i?`${r+14}px`:`${r}px`,e.element.setAttribute("style","width: 100%;z-index: 9999999999;height: auto;position: relative;"),X(e),window.PageOS.BUS.on("trendi_video_top_docked",(()=>{X(e)}),!1),window.PageOS.BUS.on("close_btn_built",(()=>{ee(e)}),!1);const d=t=>{t.matches?(r=210,a=70,s=147):(r=350,a=100,s=100),s=i?s+14:s,e.element.style.height=e.isSticky?`${a}px`:`${r}px`,e.element.firstChild.style.height=e.isSticky?`${a}px`:`${r}px`,e.element.parentNode.style.height=i?`${r+14}px`:`${r}px`};let l;n.addListener(d);const c=e.rules.secondsBeforeCollapse,p={root:null,rootMargin:`-${s}px`},m=new IntersectionObserver((t=>{t[0].isIntersecting?(clearTimeout(l),e.element.style.position="relative",e.element.firstChild.style.height=`${r}px`,e.element.style.height=`${r}px`,e.element.style.maxHeight=`${r}px`,e.isSticky=!1,X(e)):l=setTimeout((()=>{e.element.style.position="fixed",e.element.firstChild.style.height=`${a}px`,e.element.style.height=`${a}px`,e.element.style.maxHeight=`${a}px`,e.isSticky=!0,X(e)}),c)}),p);return m.observe(e.element.parentNode),m}catch(e){console.error(e)}}(l),"flex"!==l.type||l.pbjsBid||(l.refreshBlocked=!0)),l.element.classList.contains("pw-in-article_hidden")&&(l.element.classList.remove("pw-in-article_hidden"),l.element.classList.add("pw-in-article"));const n="Ad response";(0,ce.E)(d,n),re(e),("flex"!==l.type||"flex"===l.type&&l.pbjsBid)&&(0,r.Z1)(d)}else if(g){if(!l.blankRefreshed&&w)return l.slot.setTargeting("bbaar","true"),l.blankRefreshed=!0,o.pl.debug("Refreshing on blank ad",{slot:d,rules:l.rules}),void(0,r.Zk)(d);l.slot.setTargeting("bbaar","false"),l.blankRefreshed=!1,"in_content"===l.type&&he(l),(0,r.Z1)(d)}else{const e=a.slots[d],t=e.size,i=e.viewability,o=window.PageOS.metrics.getStandardSlotSize(e.type,a.isMobile);if(o){e.size=o;const t=(0,b.T$)(e.element);e.viewability=t}const s="Blank ad";(0,ce.E)(d,s),o&&(e.size=t,e.viewability=i),"in_content"===e.type&&he(e),(0,n._1)(a,d)}!0===l.oop&&"bottom_rail"!==l.type&&l.element.setAttribute("data-pw-status","rendered"),a.hbEnabled&&window[window.ramp.pbKey].triggerUserSyncs()}catch(e){console.error(e)}}const he=e=>{let t=e.element;e.element.parentElement?.classList.contains("pw-ad-scroll-container")&&(t=e.element.parentElement),t.classList.contains("pw-hide-in-content-out-of-view")&&t.classList.remove("pw-hide-in-content-out-of-view");const i=(0,b.T$)(t);0===i||isNaN(i)?(o.ZP.info(`Hidding slot ${e.id}, viewability is ${i} after blank ad`),t.classList.add("pw-hide-in-content-out-of-view")):o.ZP.info(`Don't hide slot ${e.id}, viewability is ${i} after blank ad`)},fe=e=>{const t=e.slot.getTargetingMap();return t.slot_id?t.slot_id[0]:null},be=()=>window.googletag.pubads().getTargetingKeys().reduce(((e,t)=>(e[t]=window.googletag.pubads().getTargeting(t)[0],e)),{}),ye=e=>{const t={},i=e.getTargetingMap();for(const e in i)i[e].length&&(t[e]=i[e][0]);return t};function _e(e,t,i,s){const r=window.ramp.settings;window.googletag.cmd.push((()=>{(0,n.Fp)("time_to_load_dfp",e),window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().disableInitialLoad(),window.googletag.enableServices();const a=window.ramp.privacy?.flags;!0===a?.rdp&&window.googletag.pubads().setPrivacySettings({restrictDataProcessing:!0}),!0===a?.npa&&window.googletag.pubads().setPrivacySettings({nonPersonalizedAds:!0}),!0===a?.tfua&&window.googletag.pubads().setPrivacySettings({underAgeOfConsent:!0}),(void 0===a?.tfcd&&!0===r.isCoppa||!0===a?.tfcd)&&window.googletag.pubads().setPrivacySettings({childDirectedTreatment:!0}),window.googletag.pubads().addEventListener("slotOnload",(e=>{const t=fe(e);if(!t)return;const i=window.ramp.settings.slots[t];i&&((e=>{const t=e.id;try{if(e.element.firstChild.id){const i=window.top.document.getElementById(e.element.firstChild.id)&&window.top.document.getElementById(e.element.firstChild.id).firstChild.contentWindow.document;i&&(i.getElementById("common_15click_overlay")||i.getElementById("common_15click_anchor"))&&(o.ZP.info(`Detected Click Confirmed: ${t}`),window.PageOS.dataStream.handleEvent("clickConfirmed",t))}}catch(e){o.ZP.info(`Error ${t} Detecting Google Confirmed Click:  + ${e}`)}})(i),window.performance?.mark("slotCreativeCodeLoaded",{detail:{source:"pw_page_analytics_events",type:"slotCreativeCodeLoaded",ad_details:{unit_type:i.type,slot_id:i.id,refresh_count:i.refreshes}}}),P(e))}));let d=!1,l=!1;window.document.body.addEventListener("gumgum-inscreen-load",(()=>{d=!0,window.PageOS.BUS.emit("gumgumAdHeight",window.GUMGUM?.isad?.data?.height||0)})),window.document.body.addEventListener("gumgum-inscreen-close",(()=>{l=!0,d=!1})),window.googletag.pubads().addEventListener("slotVisibilityChanged",(e=>{const t=fe(e);t&&("pw-oop-bottom_rail"===t&&(l||d)?((0,b.kz)(t,100),l=!1,d=!1):(0,b.kz)(t,e.inViewPercentage))})),window.googletag.pubads().addEventListener("slotRenderEnded",(e=>{const n={...e};delete n.slot;const s=fe(e);if(!s)return;o.ho.info("Slot Response: "+(e.isEmpty?"Fail":"Success")),o.ho.info("Slot Render End",{slot:s,data:n});const a=r.slots[s].amazonBid;ue({e,adRequestStart:t,tycheStartTime:i});const d=r.slots[s];if(!d)return;const l=d.pbjsBid,c=d.size?d.size.join("x"):null;d.targeting||(d.targeting={...be(),...ye(e.slot)});const p=d.targeting;e.isEmpty||window.performance?.mark("slotCreativeCodeInserted",{detail:{source:"pw_page_analytics_events",type:"slotCreativeCodeInserted",ad_details:{unit_type:d.type,slot_id:d.id,refresh_count:d.refreshes,size_delivered:e.size?[e.size[0],e.size[1]]:null}}});const m={slotId:s,impressionData:l,amznBid:a,size:c,targeting:p,slotData:n};if("rewarded_ad_video"===d.type)window.PageOS.BUS.emit("grvSlotRenderEndedData",m);else if("web_interstitial"===s)if(e.isEmpty){const e=localStorage.getItem("pw_last_interstitial_imp_event");(!e||(g=parseInt(e,10),Date.now()-g>=36e5))&&(window.PageOS.dataStream.handleEvent("displayAdImpression",m),localStorage.setItem("pw_last_interstitial_imp_event",Date.now()))}else window.PageOS.BUS.emit("webInterstitialSloRenderEndedData",m);else window.PageOS.dataStream.handleEvent("displayAdImpression",m);var g;d.pbjsRefreshes>=0&&d.pbjsRefreshes++})),window.googletag.pubads().addEventListener("slotRequested",(e=>{const t=e.slot.getSlotElementId(),i=window.ramp.settings.slots[t];if(i){i.adFetchCount=i.adFetchCount+1,i.pbjsBid=null,i.amazonBid={hasBid:!1},i.amazonMediaType="",o.ho.info("Slot Request");const t={slot:e.slot.getSlotElementId(),slotTargeting:ye(e.slot),pageTargeting:be()};o.ho.info("Slot Request for",t),i.targeting={...t.pageTargeting,...t.slotTargeting},window.performance?.mark("slotAdRequestStart",{detail:{source:"pw_page_analytics_events",type:"slotAdRequestStart",ad_details:{unit_type:i.type,slot_id:i.id,refresh_count:i.refreshes,size_requested:e.slot.getSizes()?e.slot.getSizes():null}}})}i&&"pw-oop-bottom_rail"===i.id&&i.adFetchCount>1&&window.GUMGUM&&window.GUMGUM.isad&&window.GUMGUM.removeISAd()})),window.googletag.pubads().addEventListener("impressionViewable",(e=>{o.ho.info("Slot Impression Viewable"),window.ramp.settings.slots.web_interstitial&&e.slot===window.ramp.settings.slots.web_interstitial.slot&&o.ho.info("Web Interstitial Slot Viewable",{slot:"web_interstitial"})})),window.googletag.pubads().addEventListener("rewardedSlotGranted",(()=>{window.PageOS.BUS.after("grvSlotRenderEndedData",(e=>{window.PageOS.dataStream.handleEvent("displayAdImpression",{slotId:e?.slotId,impressionData:e?.impressionData,amznBid:e?.amznBid,size:e?.size,targeting:e?.targeting,slotData:e?.slotData})}))}),{once:!0}),r.dfpReady=!0,o.ZP.debug("DFP Configured"),s&&s()}))}function ve(e=!1){return new Promise((t=>{if(!0===window.ramp.passiveMode)return void t();document.addEventListener("DOMContentLoaded",(()=>{e?t():((0,D.f1)(window.ramp.settings).then((()=>{t()})).catch((e=>{o.ZP.error("Find Tags",e),t()})),(0,n.Fp)("domLoading_to_domContentLoaded",window.performance.timing.domLoading))})),document.onreadystatechange=()=>{"complete"===document.readyState&&(0,n.Fp)("domLoading_to_domComplete",window.performance.timing.domLoading,window.performance.timing.domComplete)};const i=setInterval((()=>{if("interactive"===document.readyState||"complete"===document.readyState){if(clearInterval(i),e)return void t();(0,D.f1)(window.ramp.settings).then((()=>{t()})).catch((e=>{o.ZP.error("Find Tags",e),t()}))}}),1)}))}var Se=i(9416),Pe=i(7905);const Ce=(e={})=>{if(window.ramp.settings.roadblockActive)return;o.ZP.info("Roadblock Set",null,"color:black;background:orange;"),window.ramp.settings.roadblockActive=!0;const t=e.refreshInMs||3e4;ke(!0),xe(!0),setTimeout((()=>{Ee()}),t)},ke=e=>{const t=window.ramp.settings.slots.corner_ad_video;if(!t||!t.element)return;const i=t.element.parentElement?.classList.contains("pw-corner-ad-video")?t.element.parentElement:t.element;e?i.classList.add("pw-tps"):i.classList.remove("pw-tps");const n=t.element.querySelector("video");n&&(e?n.pause():n.play())},xe=e=>{Object.keys(window.ramp.settings.slots).forEach((t=>{const i=window.ramp.settings.slots[t];"left_rail"!==i.type&&"right_rail"!==i.type&&"bottom_rail"!==i.type||(e?i.element.classList.add("pw-tps"):e||i.element.classList.remove("pw-tps"))}))},Ee=()=>{window.ramp.settings.roadblockActive=!1,o.ZP.info("Roadblock Removed",null,"color:black;background:orange;"),window.PageOS.BUS.emit("roadblock:removed"),ke(!1),xe(!1)},Ae=e=>e?window.ramp.settings[e]:window.ramp.settings,ze=e=>window.ramp.settings.slots[e].slot,Be=e=>{const t=window.ramp.settings,i='Please provide a unit id to block. Or use "ALL" to block all refreshes';if(!e)return o.ZP.warn(i);if(void 0===t.slots[e]&&"all"!==e.toLowerCase())return o.ZP.warn(i);if(o.ZP.info("Tyche Block refresh called for",e),"all"===e.toLowerCase())for(const e in t.slots)t.slots[e].refreshBlocked=!0;else t.slots[e].refreshBlocked=!0},Ie=e=>{if(void 0===window.ramp.settings.slots[e])return o.ZP.warn("tried to reloadHeavyAd on an unexisting slot");(0,r.Zk)(e)},Te=()=>{try{Object.keys(window.ramp.settings.slots).forEach((e=>{const t=window.ramp.settings.slots[e];"corner_ad_video"===t.type&&t.__destroyUnit()}))}catch(e){o.ZP.error("Error happened during destroying Corner Ad Video slot",e)}},Oe=e=>{if(!e)return o.ZP.warn("tried to refreshVideoAd on an unexisting slot");if("corner_ad_video"===e||"precontent_ad_video"===e)try{window.ramp.settings.slots[e].__refreshSlot()}catch(e){o.ZP.error("Cannot refresh Corner Ad Video slot",e)}else(0,r.Zk)(e)};window.ramp.displayPrecontent=()=>{try{window.ramp.settings.slots.precontent_ad_video.__displayPrecontent()}catch(e){o.ZP.error("Cannot display Precontent Ad Video slot",e)}},window.ramp.requestPrecontentAd=()=>{try{window.ramp.settings.slots.precontent_ad_video.__requestAd()}catch(e){o.ZP.error("Cannot request a Precontent Ad Video",e)}},window.ramp.showPrecontentAd=()=>{try{window.ramp.settings.slots.precontent_ad_video.__showAd()}catch(e){o.ZP.error("Cannot show Precontent Ad Video",e)}},window.ramp.revealContent=e=>{if(!e)return o.ZP.warn("tried to reveal content from an unexisting slot");if("precontent_ad_video"===e)try{window.ramp.settings.slots[e].__revealContent()}catch(e){o.ZP.error("Cannot reveal content from Precontent Ad Video slot",e)}},window.ramp.showLoader=e=>{if(!e)return o.ZP.warn("tried to show loader on an unexisting slot");if("precontent_ad_video"===e)try{window.ramp.settings.slots[e].__showLoader()}catch(e){o.ZP.error("Cannot show loader on Precontent Ad Video slot",e)}},window.ramp.hideLoader=e=>{if(!e)return o.ZP.warn("tried to hide loader on an unexisting slot");if("precontent_ad_video"===e)try{window.ramp.settings.slots[e].__hideLoader()}catch(e){o.ZP.error("Cannot hide loader on Precontent Ad Video slot",e)}},window.ramp.hideTargetArea=e=>{if(!e)return o.ZP.warn("tried to hide target area for an unexisting slot");if("precontent_ad_video"===e)try{window.ramp.settings.slots[e].__hideTargetArea()}catch(e){o.ZP.error("Cannot hide target area for Precontent Ad Video slot",e)}},window.ramp.toogleFullscreen=e=>{if(!e)return o.ZP.warn("Tried to toogleFullscreen from an unexisting slot");if("corner_ad_video"===e)try{window.ramp.settings.slots[e].__toogleFullscreen()}catch(e){o.ZP.error("Cannot toogleFullscreen for Corner Ad Video slot",e)}};const Le=(e,t,i="")=>e?"precontent_ad_video"===e?o.ZP.info("Refresh is not enabled for Precontent Ad Video slot"):void(0,r.Pd)(e,t,i):o.ZP.warn("tried to softRefreshVideoAd on an unexisting slot"),De=e=>{if(!e)return o.ZP.warn("tried to handleBlankCornerVideoAd on an unexisting slot");const t=window.ramp.settings.slots[e];if(!t||"corner_ad_video"!==t.type||"function"!=typeof t.__handleBlankAd)return o.ZP.warn(`failed to call blank ad handler for unit "${e}"`);t.__handleBlankAd()};window.ramp.handleBlankPrecontentVideoAd=(e,t=!1)=>{if(!e)return o.ZP.warn("tried to handleBlankPrecontentVideoAd on an unexisting slot");const i=window.ramp.settings.slots[e];if(!i||"precontent_ad_video"!==i.type||"function"!=typeof i.__handleBlankAd)return o.ZP.warn(`failed to call blank ad handler for unit "${e}"`);i.__handleBlankAd(t)};const Ve=(e,t)=>{if(!e)return o.ZP.warn("tried to videoAdImpressionTriggered on an unexisting slot");const i=window.ramp.settings.slots[e];if(i&&("corner_ad_video"===i.type||"precontent_ad_video"===i.type)){const n={};null!==i.targeting&&"object"==typeof i.targeting&&Object.keys(i.targeting).length>0&&Object.keys(i.targeting).forEach((e=>{n[e]=Ze(i.targeting[e])}));let o=i.playerSize.join("x");void 0!==typeof i.isDocked&&!1===i.isDocked&&(o=i.playerSizeInline?.join("x")),"precontent_ad_video"===i.type&&(t.adUnitCode=window.ramp.settings.slots[e]?.config?.code),window.PageOS.dataStream.handleEvent("sendVideoImpression",{slotId:e,pbjsBid:i.pbjsBid,amznBid:i.amazonBid,size:o,slotData:t,targeting:n}),"function"==typeof i.__handleVideoImpression&&i.__handleVideoImpression()}},Re=e=>{if(!e)return o.ZP.warn("tried to contentVideoPlaysTriggered on an unexisting slot");const t=window.ramp.settings.slots[e];t&&"corner_ad_video"===t.type&&window.PageOS.dataStream.handleEvent("contentVideoPlays",{slotId:e})},$e=e=>{if(!e)return o.ZP.warn("Tried to contentVideoCompleted on an unexisting slot");const t=window.ramp.settings.slots[e];if(!t||"corner_ad_video"!==t.type||"function"!=typeof t.__shouldPlayContentVideo)return o.ZP.warn(`Failed to call contentVideoCompleted for unit "${e}"`);t.__shouldPlayContentVideo()},Ze=e=>{let t;return Array.isArray(e)?e.length>1?t=e:1===e.length&&(t=e[0].toString()):t=e.toString(),t},Me=e=>{const t=window.ramp.settings.slots[e];void 0!==t&&t.element&&(document.getElementById(`${e}BtnAdId`)&&document.getElementById(`${e}BtnAdId`).remove(),t.element.classList.remove("pw-tps"),t.isHidden=!1,o.ZP.info(`ramp.showAdSlot: Showing ${e}`))},Ue=(e,t=!1)=>{const i=window.ramp.settings.slots[e];if(void 0!==i&&i.element&&(i.element.classList.add("pw-tps"),i.isHidden=!0,o.ZP.info(`ramp.hideAdSlot: Hiding ${e}`),t&&!document.getElementById(`${e}BtnAdId`))){const t=document.createElement("button"),n=document.createTextNode("Show ad");t.id=`${e}BtnAdId`,t.style.display="block",t.style.margin="0 auto",t.style.color="#4db2ec",t.style.background="none",t.style.border="#4db2ec",t.style.fontFamily='"Open Sans",arial,sans-serif !important',t.style.fontSize="10px",t.appendChild(n),t.addEventListener("click",(()=>window.ramp.showAdSlot(e))),i.element.parentElement.appendChild(t)}},Fe=e=>{const t=window.ramp.settings.slots[e];void 0!==t&&("function"!=typeof t.close?("corner_ad_video"===e&&o.ZP.warn("Call another method 'ramp.takeOver(true)' to hide this unit"),t.element.classList.add("pw-tps"),t.on=!1,t.refreshBlocked=!0,clearTimeout(t.refreshTimeout),o.ZP.info(`Hiding ${e}`),"pw-oop-bottom_rail"!==e||window.ramp.takeOverActive||(t.refreshTimeout=setTimeout((()=>{t.element.classList.remove("pw-tps"),t.on=!0,t.refreshBlocked=!1,(0,r.Z1)(e,!0)}),31e3))):t.close())},He=e=>{Array.isArray(e)?e.forEach((e=>{window.ramp.hideSlot(e)})):o.ZP.error("Please pass an array of slots")},Ne=(e,t)=>{t||o.ZP.error("No ad_id present in creative code"),window[window.ramp.pbKey].renderAd(e,t)},je=(e,t,i)=>{const n=window.ramp._loggers&&window.ramp._loggers.find((e=>"DISPLAY_VIDEO"===e.name))?.logger;e?(window.ramp.settings.slots[e].amazonBid={hasBid:!0,mediaType:"outstream"},n&&n.debug(`[${e}] Start custom video rendering of Amazon bid`),(0,Se.Pm)({amzniid:t,amznbid:i}).then((t=>{t?(n&&n.debug(`[${e}] VAST from Amazon received`),(0,Pe.W)((0,Se.gg)(),(()=>{n&&n.debug(`[${e}] Custom video player loaded`);try{n&&n.debug(`[${e}] Start rendering for VAST from Amazon`),(0,Se.k_)({adUnitCode:e,vastXml:t,amazonBid:!0})}catch(t){n&&n.error(`[${e}] Error happened during running of custom video player`,t)}}))):n&&n.error(`[${e}] Empty response from Amazon server`)})).catch((t=>{n&&n.error(`[${e}] Error happened during rendering video from Amazon bid`,t)}))):n&&n.error('Amazon video render function is called with empty "slotId"')},qe=(e=!0)=>{window.ramp.settings;if(window.ramp.takeOverActive=!0,e&&("function"==typeof window.ramp.closeCornerVideo&&window.ramp.closeCornerVideo(),window.ramp.destroyCornerAdVideo()),document.getElementById("pw-dp"))try{window.Bolt.removeVideo("docked-player",!0),document.getElementById("dp-container").innerHTML=""}catch(e){}We(),window.ramp.hideSlot("pw-oop-left_rail"),window.ramp.hideSlot("pw-oop-right_rail"),window.ramp.hideSlot("pw-oop-bottom_rail")},We=()=>{const e=window.ramp.settings;for(const t in e.slots){const i=e.slots[t];void 0===i.videoType&&(i.refreshBlocked=!0,!1===i.queued&&(i.on=!1))}},Ke=e=>{window.ramp.settings.slots[e].amazonBid={hasBid:!0,mediaType:"display"},o.ZP.info("Amazon Impression Fired For Slot",e)},Ge=e=>{o.ZP.info("setting isMobile",e.toString()),window.ramp.isMobile=!0,window.ramp.settings.isMobile=!0,window.ramp.settings.deviceSelector=e?"mobi":"desk"},Ye=e=>{let t=e||0;const i=window.ramp.settings,o=(0,n.Ox)(),s=document.getElementById("tyche_trendi_video_container");for(const e in i.slots){const o=i.slots[e];o.isEmpty&&!(0,n.hP)(o)||(t+=Qe(o),(o.viewability>0||void 0===o.viewability)&&(0,n.sA)(o)&&(t-=(0,b.s7)(o.element||s)))}return Number((t/o).toFixed(2))},Qe=e=>"Bolt Player"===e.videoType?(0,b.n6)("tyche_trendi_video_container"):"corner_ad_video"===e.type?(0,b.n6)("corner_ad_video"):e.size&&2===e.size.length?e.size[0]*e.size[1]*(e.viewability/100):0,Je=e=>{const t=window.ramp.settings,i="Scroll"===e?t.scrollDelayedSlots:t.clickDelayedSlots;for(const e of i)(0,r.Z1)(e.id,!0);"Scroll"===e?t.scrollDelayedSlots=[]:t.clickDelayedSlots=[]},Xe=()=>{window.ramp.tpsBottomRailEnabled=!0,window.PageOS.BUS.emit("bottom_rail_loaded")},et=e=>{window.ramp.settings.tags=window.ramp.settings.tags||[];const t=document.getElementById(e);t&&((0,b._Q)(t)||t.getAttribute(`data-pw-${window.ramp.settings.deviceSelector}`)&&(window.ramp.settings.tags.push(t),(0,f.bE)(t,!1)))},tt=()=>{try{window.PageOS.gdpr&&window.PageOS.gdpr.userInEU&&(o.ZP.info("showCmpModal called.",{userCC:window.PageOS.gdpr.userCC}),window.__cmp?window.__cmp("showConsentTool"):window.googlefc.callbackQueue.push(window.googlefc.showRevocationMessage))}catch(e){o.ZP.warn("Unable to display CMP modal.")}},it=e=>{const t=window.PageOS.logger;Object.keys(t.loggersByName).forEach((i=>{0===i.toLowerCase().indexOf("tyche")&&t.loggersByName[i].setLevel(t[e.toUpperCase()])}))},nt=()=>{o.ZP.info("Refresh API Triggered"),(()=>{if(window.ramp.settings.roadblock)return;const e=window.ramp.settings;return new Promise(((t,i)=>{const s=[];for(const t in e.slots){if(void 0!==e.slots[t].videoType||void 0===e.slots[t].slot)continue;const i=e.slots[t];if(void 0!==i.rules.refresh&&"Auto"!==i.rules.refresh.type&&!1!==i.rules.refresh.enabled&&i.refreshes!==i.rules.refresh.limit&&!0!==i.refreshBlocked&&("inViewOnly"!==i.rules.refresh.condition||!1!==i.inView))if(Date.now()-i.lastRefresh<1e3*i.rules.refresh.rate){const e=1e3*i.rules.refresh.rate-(Date.now()-i.lastRefresh);console.warn(`You are attempting to refresh ${i.id} too quickly. Please Wait ${e}ms`)}else i.refreshes++,i.pbjsBid=null,i.amazonBid={hasBid:!1},i.slot.setTargeting("refresh","true"),i.slot.setTargeting("refresh_count",i.refreshes),i.slot.setTargeting("refresh_type","Triggered"),i.slot.setTargeting("lld_id",(0,n.Cm)()),(0,n.pI)(i.slot),i.lastRefresh=Date.now(),s.push(i)}if(0!==s.length)if(!1===e.hbEnabled)(0,_.Z)(s.map((e=>(t("Refresh Triggered Successfully"),e.slot))));else{const i=Date.now();let r=700,a=!1;const d=(0,m.GD)(e.config.headerBidding);void 0!==d&&(r=void 0!==d.order?d.timeout:e.headerBidding.timeout),e.apstagLoaded&&window.PageOS.apstag.fetchBids(e.amazonSlots,r).then((e=>{o.ZP.info("Amazon Refresh Bids Back",{time:Date.now()-i,bids:e}),a=e})),s.forEach((e=>{e.ortb2Imp=(0,n.Bq)(e.code)})),window[window.ramp.pbKey].que.push((()=>{window[window.ramp.pbKey].requestBids({adUnitCodes:s.map((e=>e.id)),timeout:r,labels:[e.uuid],bidsBackHandler:()=>{a&&(0,n.tP)(a),window[window.ramp.pbKey].setTargetingForGPTAsync(s.map((e=>e.id))),(0,_.Z)(s.map((e=>e.slot))),t("Refresh Triggered Successfully")}})}))}else i("No Units Applicable For A Triggered Refresh")}))})().then((e=>{o.ZP.info(e)})).catch((e=>{const t="object"==typeof e&&e.stack?"error":"warn";o.ZP[t](e)}))},ot=e=>{window.ramp.settings.adsPerformance=!1,(0,y.YY)(e).then((()=>{})).catch((e=>{o.ZP.info("Change Path Error",e)}))},st=e=>{"function"==typeof e&&(o.ZP.info("Interstitial API called, feature not active."),e())},rt=e=>{window.ramp.settings.bottomRailBlockRefresh=!0===e?.blockRefresh},at=window.PageOS.dataStream;class dt{constructor(){if(c.UE.push("trendi_video","trendi_slideshow"),!0!==window.ramp.passiveMode)return!1;this._settings=window.ramp.settings,window.ramp.findUnits=this.findUnits.bind(this),window.ramp.addUnits=H.bind(this),window.ramp.destroyUnits=F.bind(this),window.ramp.displayUnits=N.bind(this),window.ramp.getUnits=this.getUnits.bind(this),window.ramp.setPath=this.setPath.bind(this),window.ramp.processPage=this.processPage.bind(this),window.ramp.spaNewPage=this.spaNewPage.bind(this),window.ramp.spaAds=this.spaAds.bind(this),window.ramp.spaAddAds=this.spaAddAds.bind(this)}findUnits(){return new Promise(((e,t)=>{(0,D.f1)(this._settings).then((()=>{(0,D._e)().then((()=>e()))})).catch((e=>{t(`Find Tags ${e}`)}))}))}getUnits(){return Object.keys(this._settings.slots)}checkPath(e,t=!1){return new Promise(((i,n)=>{if(!e||"string"!=typeof e)return void n("No path provided");const o=this._settings;o.cp!==e||t?(e=(e=>{const t=window.ramp.settings,i=[];for(let n=0;n<t.config.units.length;n++){const o=t.config.units[n].path??t.config.units[n].section,s=o.substr(3,o.length-4);-1===i.indexOf(s)&&o.indexOf("CP[/")>-1&&0===e.indexOf(s)&&i.push(s)}return i.length>0?i.reduce(((e,t)=>e.length>t.length?e:t)):e})(e),o.cp=e,o.atHome=!1,"/"===e&&(o.atHome=!0,o.cp=null),i()):n(`Already on path: ${e}`)}))}setPath(e,t){return this.checkPath(e,t).then((()=>window.PageOS.tyche.findUnitsBySection())).catch((e=>{throw o.lj.warn("Error in setPath:",e),e}))}processPage(e,t,i){o.lj.debug("process Page method called.");let n=e;return new Promise((o=>{e||(n=window.ramp.settings.cp||"/"),window.PageOS.session.newPageView(),at.sendPageViewEvent(),window.ramp.setPath(n,!0).then((()=>{const e=((e,t)=>Array.isArray(t)?e.filter((e=>!t.includes(e))):e)(window.ramp.getUnits(),t),n=e.filter((e=>{const t=this._settings.slots[e]?.type;return t&&"rewarded_video"!==t&&"web_interstitial"!==t&&"rewarded_ad_video"!==t}));let s=n.map((e=>{let t=this._settings.slots[e]?.type;return"leaderboard"!==t&&"med_rect"!==t&&"160x600"!==t||(t=`${t}_${this._settings.slots[e].pos}`),{type:t,selectorId:this._settings.slots[e]?.element?.dataset?.selectorId}}));s=i?((e,t)=>[...e,...(t=Array.isArray(t)?t:[t]).filter((e=>e.type))])(s,i):s,window.ramp.destroyUnits(n).then((()=>{window.ramp.addUnits(s).then((()=>{window.ramp.displayUnits().then((()=>{o()}))}))}))}))}))}spaNewPage(e){return new Promise(((t,i)=>{Object.keys(window.ramp.settings.slots).length>0&&at.sendPageViewEvent(),F("all").then((()=>"string"==typeof e&&window.ramp.setPath(e,!0))).then((()=>{const e=window.ramp.settings,t=[...e.units.sec,...e.units.ros];e.selectorBasedIabUnits=[];let i=!1;for(const n of t){for(let e=0;e<n.rules.length;e++){const t=n.rules[e].rule;void 0!==t.locationSelector&&""!==t.locationSelector&&(i=!0)}"standard_iab"===n.unit&&e.selectorBasedIabUnits.push(n.alias)}return i})).then((()=>(0,D._e)(!0))).then((()=>(window.ramp.addUnits([{type:"in_content"},{type:"sidebar"},{type:"sticky_sidebar"},{type:"corner_ad_video"},{type:"precontent_ad_video"}]),window.ramp.displayUnits()))).then((()=>{t()})).catch((e=>(window.ramp.displayUnits(),i(e))))}))}spaAds(e={}){e.ads?this.lastCalledWithAds=e.ads:e.ads=this.lastCalledWithAds;const{ads:t,countPageview:i,path:n}=e||{};return new Promise(((e,s)=>{F("all").then((()=>(!1!==i&&at.sendPageViewEvent(),"string"==typeof n&&window.ramp.setPath(n,!0)))).then((()=>window.ramp.addUnits(t))).then((()=>window.ramp.displayUnits())).then((()=>{e()})).catch((e=>{window.ramp.displayUnits(),o.lj.error("Error in spaAds:",e),s(e)}))}))}spaAddAds(e){return new Promise(((t,i)=>{window.ramp.addUnits(e).then((()=>{window.ramp.displayUnits(),t()})).catch((e=>{o.lj.error("Error in spaAddAds:",e),i(e)}))}))}}const lt=window.pwEdgeFlags&&window.pwEdgeFlags.cleanioSrc?window.pwEdgeFlags.cleanioSrc:"https://cadmus.script.ac/d25lqe4mlyaln6/script.js ";const ct=window.pwEdgeFlags&&window.pwEdgeFlags.adlSrc?window.pwEdgeFlags.adlSrc:"https://tagan.adlightning.com/playwire/op.js";let pt=!1;const mt={},gt=e=>{const t=JSON.parse(e.data),{action:i,id:o}=t;if("boltRequestBackFill"===i){const e={action:"tycheBackFillEnabled",id:o},i=document.getElementById(`${o}_display_ad_container`),n=document.getElementById(o);if(mt.height=t.size.height,mt.width=t.size.width,n&&(0===mt.height&&(mt.height=n.getBoundingClientRect().height),0===mt.width&&(mt.width=n.getBoundingClientRect().width)),null===i)return;return Object.keys(window.ramp.settings.slots).find((e=>window.ramp.settings.slots[e].playerId===o))?(e.enabled=!0,void window.postMessage(JSON.stringify(e),"*")):(0,f.zv)("video_backfill",!0,i).then((t=>{if(!t)return e.enabled=!1,e.reason="Not enabled.",void window.postMessage(JSON.stringify(e),"*");const i=t.rules&&t.rules.sizes?t.rules.sizes:t.config.sizes,n=[];for(let e=0;e<i.length;e++)i[e][0]<=mt.width&&i[e][1]<=mt.height&&n.push(i[e]);if(0===n.length)return e.enabled=!1,e.reason="No sizes.",void window.postMessage(JSON.stringify(e),"*");t.rules=t.rules||{},t.rules.sizes=n,e.enabled=!0,window.postMessage(JSON.stringify(e),"*"),t.playerId=o,t.lazy=!1,t.queued=!0,window.ramp.settings.slots[t.id]=t}))}if("boltRenderBackFill"===i){const e=window.ramp.settings,t=document.getElementById(`${o}_display_ad_container`),i=Object.keys(e.slots).find((t=>e.slots[t].playerId===o));if(null===t||!i){const e={action:"tycheBackFillComplete",success:!1,reason:"Not enabled.",id:o};return window.postMessage(JSON.stringify(e),"*")}return pt||window.googletag.pubads().addEventListener("slotRenderEnded",(e=>{(({e,existingSlot:t,id:i})=>{const n=e.slot.getSlotElementId(),o=document.getElementById(`${i}_display_ad_container`);if(n===t)if(e.isEmpty){t&&(0,y.ZE)(window.ramp.settings.slots[t]);const e={action:"tycheBackFillComplete",success:!1,reason:"No ad.",id:i};window.postMessage(JSON.stringify(e),"*")}else{const{width:n,height:s}=mt,r=e.size[0],a=e.size[1],d=n>=r&&s>=a;!d&&t&&(0,y.ZE)(window.ramp.settings.slots[t]),o.style.display="block",o.style.height="100%",o.style.width="100%";const l={action:"tycheBackFillComplete",success:d,reason:d?"":"Ad too large.",size:[r,a],id:i};window.postMessage(JSON.stringify(l),"*")}})({e,existingSlot:i,id:o})})),pt=!0,!0!==window.ramp.settings.hbEnabled?void(0,_.Z)([e.slots[i].slot]):(0,h.Z)(e,i,t).then((t=>{t&&(0,n.tP)(t),window[window.ramp.pbKey].setTargetingForGPTAsync(i),window[window.ramp.pbKey].que.push((()=>{(0,_.Z)([e.slots[i].slot])}))}))}if("boltRemoveBackfill"===i){const e=document.getElementById(`${o}_display_ad_container`),t=Object.keys(window.ramp.settings.slots).find((e=>window.ramp.settings.slots[e].playerId===o));e.style.display="none",(0,y.ZE)(window.ramp.settings.slots[t])}},wt=()=>{window.addEventListener("message",(e=>{try{gt(e)}catch(e){}}))};class ut{constructor(){var e;this.settings={...window.ramp.settings,...this.initSettings()},this.dfpLib="https://securepubads.g.doubleclick.net/tag/js/gpt.js",this.passiveMode=this.setPassiveMode(),this.settings.adsPerformance=void 0!==window.ramp.mvpConfig,this.settings.selectorBasedAdUnits=this.checkSelectorBasedApproach(),this.tycheStartTime=Date.now(),window.ramp.pbKey="pbjs",o.ZP.debug("Env Vars",{PUBLIC_PATH:"https://cdn.intergi.com/hera/releases/4.10.45/",BUILD_TIMESTAMP:"2024-10-23 13:05:09.116",VERSION:"4.10.45",CDN_PATH:"https://cdn.intergi.com/",CDN:"production",IP_STACK_KEY:void 0}),e=this.settings,window.ramp.settings=e,window.ramp.getSettings=Ae,window.ramp.getSlot=ze,window.ramp.afterDfpLoaded=_e,window.ramp.blockRefresh=Be,window.ramp.reloadHeavyAd=Ie,window.ramp.destroyCornerAdVideo=Te,window.ramp.refreshVideoAd=Oe,window.ramp.softRefreshVideoAd=Le,window.ramp.handleBlankCornerVideoAd=De,window.ramp.videoAdImpressionTriggered=Ve,window.ramp.contentVideoPlaysTriggered=Re,window.ramp.contentVideoCompleted=$e,window.ramp.showAdSlot=Me,window.ramp.hideAdSlot=Ue,window.ramp.hideSlot=Fe,window.ramp.hideSlots=He,window.ramp.renderAd=Ne,window.ramp.renderAmzOutstream=je,window.ramp.takeOver=qe,window.ramp.amznImp=Ke,window.ramp.setIsMobile=Ge,window.ramp.getAdDensity=Ye,window.ramp.userEventCallback=Je,window.ramp.tpsBottomRailLoaded=Xe,window.ramp.addTag=et,window.ramp.showCmpModal=tt,window.ramp.debug=it,window.ramp.triggerRefresh=nt,window.ramp.changePath=ot,window.ramp.expandableServed=rt,window.ramp.setCustomGamKvs=j,window.ramp.setRoadblock=Ce,"function"!=typeof window.ramp.showInterstitial&&(window.ramp.showInterstitial=st),this.initDfpPromise=this.initDFP(),this.initPriceFloorCtrlPromise=(0,T.Z)(),this.loadAPSPromise=new Promise((e=>{window.PageOS.BUS.after("ApsTagLoaded",e)})),this.init()}getBids(){const e=Date.now();(0,s.ZP)().then((t=>{Promise.all([this.initDfpPromise,this.docEvtPromise]).then((()=>(0,D._e)())).then((()=>{this.handleSetTargeting(e),L(t)})).catch((e=>{o.ZP.error("Caught in Promise.all:",{message:e.message,stack:e.stack})}))})).catch((e=>{o.ZP.error("Caught in Tyche.js ",{message:e.message,stack:e.stack})}))}handleConfig(){const e=this.settings;o.ZP.info("Config",e.config,null),window.kinesis=new w(e),(0,n.Fp)("domLoading_to_tycheStart",this.tycheStartTime),(0,n.Fp)("time_to_load_config",window.ramp.ttfConfig),window.performance.timing&&(0,n.Fp)("domLoading_to_domInteractive",window.performance.timing.domLoading,window.performance.timing.domInteractive),e.adServer="DFP",this.handlePrebid()}handleConsent(e={}){var t;this.settings.acString=e.acString,(0,n.hv)(),this.loadCleanIoPromise=(t=this.settings,new Promise((e=>{const i=t.device,n=(t.config.settings.redirectBlocker||[]).map((e=>e.toLowerCase()));if(n.includes("any")||n.includes(i)){const t=t=>{t&&"error"===t.type?o.ZP.warn("Clean.io script failed to load from ",lt):o.ZP.info("Clean.io script loaded from ",lt),e()};(0,u.Z)({src:lt,async:!0,defer:!1,onload:t,onerror:t})}else e()}))),this.loadAdlightningPromise=function(e){return new Promise((t=>{if(window.pwEdgeFlags&&Array.isArray(window.pwEdgeFlags.adlDisabled)&&window.ramp.settings.device&&window.pwEdgeFlags.adlDisabled.includes(window.ramp.settings.device))return e.config.settings.adLightning=!1,void t();const i=e.config.settings.adLightningScript;if(e.config.settings.adLightning&&!0===e.config.settings.adLightning||i){const e=i||ct,n=i=>{i&&"error"===i.type?o.ZP.warn("AdLightning script failed to load from ",e):o.ZP.info("AdLightning script loaded from ",e),t()};(0,u.Z)({src:e,async:!1,defer:!0,onload:n,onerror:n})}else t()}))}(this.settings),this.passiveMode?(o.lj.info("Using Passive Mode"),new dt,Promise.all([this.initDfpPromise,this.loadAPSPromise,this.loadCleanIoPromise,this.loadAdlightningPromise,this.initPriceFloorCtrlPromise,this.zctaDataPromise]).then((()=>{this.handleSetTargeting(),this.processCmdQueue(),"function"==typeof window.ramp.onReady&&window.ramp.onReady(),window.ramp.onReady=e=>{window.ramp.que.push(e)}})).catch((e=>{o.ZP.error("Caught in Promise.all",{message:e.message,stack:e.stack})}))):Promise.all([this.loadAPSPromise,this.loadCleanIoPromise,this.loadAdlightningPromise,this.initPriceFloorCtrlPromise,this.zctaDataPromise]).then((()=>{if((0,z.ZP)("corner_ad_video"),this.processCmdQueue(),!this.settings.adsPerformance||window.ramp.observerMode||this.settings.selectorBasedAdUnits)this.getBids();else{(0,f.bE)("site_skin",!0);let e=null;const t=Date.now();(0,s.ZP)().then((t=>(e=t,(0,D._e)()))).then((()=>{this.handleSetTargeting(t),L(e)}))}})).catch((e=>{o.ZP.error("Caught when loading apstag",{message:e.message,stack:e.stack})}))}handlePrebid(){const e=this.settings;e.hbEnabled=(0,m.aD)(e);if("DFP_COPPA"===e.config.server?(o.sc.info("COPPA"),e.isCoppa=!0):o.sc.info("NON COPPA"),e.hbEnabled){e.headerBidding=(0,m.RE)(e);const t=e.headerBidding.timeout||700;window.PageOS.Prebid.checkBiddersOverride(e.headerBidding,e.device),e.headerBidding.headerBidderConfigurations?window.PageOS.Prebid.setBidMap(window.ramp.pbKey,e.headerBidding.headerBidderConfigurations):e.headerBidding.order&&window.PageOS.Prebid.setBidMap(window.ramp.pbKey,e.headerBidding.order.map((t=>{let i=!1;i=e.headerBidding.s2sBidders&&e.headerBidding.s2sBidders.length>0?e.headerBidding.s2sBidders?.indexOf(t)>-1?"server_side":"client_side":0===t.indexOf("s2s_")?"server_side":"client_side";const n={};return n.bidderName=t,n.bidDelivery=i,n}))),window.PageOS.Prebid.init({timeout:t,ITP:e.config.settings.appleITP,sid:e.config.settings.publisherId,callback:()=>{e.pbjsReady=!0,this.handleGDPR()},randomize:e.headerBidding.randomize})}else e.pbjsReady=!0,this.handleGDPR()}handleGDPR(){window.PageOS.gdpr.userInEU?(o.Hf.info("User in EU check",{value:1}),window.PageOS.gdpr.hasCMP().then((e=>{e?window.PageOS.gdpr.getConsentData().then((e=>{this.handleConsent({acString:e.acString})})):(void 0===window.ramp.privacy?.flags?.npa&&window.googletag.cmd.push((()=>{window.googletag.pubads().setPrivacySettings({nonPersonalizedAds:!0})})),this.handleConsent())}))):this.handleConsent()}initSettings(){return{configUrl:(0,n.DP)("tyche_config")||window.ramp.config,configOverride:!!(0,n.DP)("tyche_config"),isCoppa:!1,tags:null,adServer:null,dfpReady:!1,pbjsReady:!1,preBidsBack:!1,slotReadyTime:null,bidsReadyTime:null,slotsRendered:0,interactive:!1,uuid:window.PageOS.dataStream?window.PageOS.dataStream.randomUuid("tyche_h2_production"):"",buildTimestamp:"2024-10-23 13:05:09.116",version:"4.10.45",tagsProcessed:!1,adRequestStart:null,amazonSlots:[],hasFocus:!0,scrollTriggered:window.PageOS.scrollTriggered,scrollDelayedSlots:[],clickTriggered:window.PageOS.clickTriggered,inViewDelayedRegistry:{},clickDelayedSlots:[],samplingRate:window.rampSamplingRate,testMode:!1,stickyVideoOn:!1}}init(){if((0,Se.Jw)(),this.settings.selectorBasedAdUnits?this.docEvtPromise=ve(this.settings.selectorBasedAdUnits):this.passiveMode||this.settings.adsPerformance?this.docEvtPromise=Promise.resolve():this.docEvtPromise=ve(),this.zctaDataPromise=window.PageOS.zctaLookup.dataPromise,window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],l(this.settings),window.ramp.settings.config)this.handleConfig();else{const e=this.handleConfig.bind(this);window.PageOS.BUS.on("gotConfig",(()=>{e()}),!0)}}initDFP(){return new Promise((e=>{if(this.settings.adsPerformance)return e();const t=Date.now();(0,u.Z)({src:this.dfpLib,async:!0,onload:()=>{_e(t,this.settings.adRequestStart,this.tycheStartTime,e)}})}))}setPassiveMode(){let e=!0===window.ramp.passiveMode;return(0,n.DP)("passiveMode")&&(e=!0),window.ramp.passiveMode=e,e}handleSetTargeting(e){wt(),function(e){const t=window.ramp.settings,i=window.PageOS?window.PageOS.environment:null,o=window.PageOS?window.PageOS.session:null,s=window.PageOS?window.PageOS.zctaLookup:null,r=(e,t)=>{t&&window.googletag.pubads().setTargeting(e,t)},a=t.config.settings.targeting;if(a&&Object.keys(a).length)for(const[e,t]of Object.entries(a))if("object"==typeof t)for(const[e,i]of Object.entries(t))r(e,i);else r(e,t);window.ramp.passiveMode||((0,n.Fp)("getBidsStart_to_getBidsEnd",e),window.performance.timing&&(0,n.Fp)("domLoading_to_configBidsBack",window.performance.timing.domLoading)),t.config.settings.directAdServingDisabled||r("sitecont_cat",(0,n.nW)(t.config.settings)),r("referrer",document.referrer),r("tyche_code",window.ramp.settings.version),r("pageos_code",window.PageOS.version),window.ramp.activeConfig&&window.ramp.activeConfig.config_id&&r("config_id",`${window.ramp.activeConfig.config_id}`);for(const[e,t]of Object.entries(window.PageOS.getAllUtmParams()))r(e,t);if(s)for(const[e,t]of Object.entries(window.PageOS.zctaLookup.data))r(e,`${t}`);r("hb_test",t.hbTest),i&&(r("hour",i.getHour()),r("day",i.getDay()),r("referrer_domain",i.referrerDomain),r("OS",`${i.OS.name} ${i.OS.version}`),r("browser",i.getBrowserTargeting())),o&&r("pagecount",o.getPageNumber.toString());const d=""+50*Math.floor(window.innerWidth/50),l=""+50*Math.floor(window.innerHeight/50);r("window_width",d),r("window_height",l),r("screen_orientation",(0,p.T8)()),r("website_id",`${t.config.id}`),r("refresh_count","0");const c=e=>{Object.keys(e).forEach((t=>{const i=e[t];null===i?window.googletag.pubads().getTargeting(t).length&&window.googletag.pubads().clearTargeting(t):r(t,i)}))};if(window.PageOS.getAllClientTags){const e=window.PageOS.getAllClientTags();c(e)}if(window.PageOS.BUS.on("CUSTOM_CLIENT_TAGS",(e=>{c(e)}),!1),window.PageOS.getAllCustomReportingKVs){const e=window.PageOS.getAllCustomReportingKVs();c(e)}if(window.PageOS.BUS.on("CUSTOM_REPORTING",(e=>{c(e)}),!1),window.PageOS.BUS.on("UTM_KEYS_VALUES",(e=>{c(e)}),!1),r("tyche_version",window.ramp.settings.version),window._pwTycheAB){const{name:e,type:t}=window._pwTycheAB,i=`${e.replace(/ /g,"_")}_${t}`;r("ab_test",i)}if(window._pwTycheAB_TPS){const{testData:e}=window._pwTycheAB_TPS;Object.keys(e).forEach((t=>{r(`abtps_${t}`,e[t])}))}const m=window.PageOS.userData,g=m&&m.ready&&m.getUserBehavior();g&&(0!==g.adClickRate&&r("ad_click_rate",g.adClickRate.toString()),"boolean"==typeof g.adClicker&&r("ad_clicker",`${g.adClicker}`));const w=window.PageOS.dmp;w&&w.ready&&r("dmp_ids",w.getAudienceSegments().join(",")),window.PageOS.BUS.after("googleAnalytics_ready",(e=>{if(e){const{user_id:t,session_id:i,pageview_id:n}=e;r("user_id",t),r("session_id",i),r("pageview_id",n)}})),t.acString&&r("addtl_consent",t.acString),r("page_focus","visible"===window.document.visibilityState?"true":"false"),void 0===window.ramp.privacy?.flags?.rdp&&window.PageOS.ccpa&&window.PageOS.ccpa.hasUserOptedOut()&&window.googletag.pubads().setPrivacySettings({restrictDataProcessing:!0}),(0,n.DP)("pw_test_ads")&&r("pw_test_ads","true");const u=window.PageOS?.kinesis?.isPublisherOverridePresent();u&&r("publisherOverride","true")}(e)}checkSelectorBasedApproach(){const e=[...this.settings.units.sec,...this.settings.units.ros];this.settings.selectorBasedIabUnits=[];let t=!1;for(const i of e){for(let e=0;e<i.rules.length;e++){const n=i.rules[e].rule;void 0!==n.locationSelector&&""!==n.locationSelector&&(t=!0)}"standard_iab"===i.unit&&(this.settings.selectorBasedIabUnits.includes(i.alias)||this.settings.selectorBasedIabUnits.push(i.alias))}return t}processCmdQueue(){window.ramp.que=window.ramp.que||[],window.ramp.que.forEach((e=>{e()})),window.ramp.que=[],window.ramp.que.push=e=>{e()}}}new ut}},e=>{var t,i=(t=7450,e(e.s=t));Tyche=i}]);